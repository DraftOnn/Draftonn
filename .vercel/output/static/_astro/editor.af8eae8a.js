import{S as SvelteComponent,i as init,s as safe_not_equal,e as element,a as space,t as text,c as claim_element,b as children,g as claim_space,d as claim_text,f as detach,j as insert_hydration,k as append_hydration,n as noop,h as attr,u as empty,l as set_input_value,m as listen,v as set_data,r as run_all}from"./index.50229bff.js";import{g as getDefaultExportFromCjs,b as appwriteDatabases}from"./backend.d5b3fe05.js";var Lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xe(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}function Be(){}Object.assign(Be,{default:Be,register:Be,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(c){const e=(this.document||this.ownerDocument).querySelectorAll(c);let t=e.length;for(;--t>=0&&e.item(t)!==this;);return t>-1});Element.prototype.closest||(Element.prototype.closest=function(c){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(c))return e;e=e.parentElement||e.parentNode}while(e!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(c){const e=document.createDocumentFragment();Array.isArray(c)||(c=[c]),c.forEach(t=>{const i=t instanceof Node;e.appendChild(i?t:document.createTextNode(t))}),this.insertBefore(e,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(c){c=arguments.length===0?!0:!!c;const e=this.parentNode,t=window.getComputedStyle(e,null),i=parseInt(t.getPropertyValue("border-top-width")),o=parseInt(t.getPropertyValue("border-left-width")),n=this.offsetTop-e.offsetTop<e.scrollTop,r=this.offsetTop-e.offsetTop+this.clientHeight-i>e.scrollTop+e.clientHeight,l=this.offsetLeft-e.offsetLeft<e.scrollLeft,s=this.offsetLeft-e.offsetLeft+this.clientWidth-o>e.scrollLeft+e.clientWidth,a=n&&!r;(n||r)&&c&&(e.scrollTop=this.offsetTop-e.offsetTop-e.clientHeight/2-i+this.clientHeight/2),(l||s)&&c&&(e.scrollLeft=this.offsetLeft-e.offsetLeft-e.clientWidth/2-o+this.clientWidth/2),(n||r||l||s)&&!c&&this.scrollIntoView(a)});let Ot=(c=21)=>crypto.getRandomValues(new Uint8Array(c)).reduce((e,t)=>(t&=63,t<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"");var et=(c=>(c.VERBOSE="VERBOSE",c.INFO="INFO",c.WARN="WARN",c.ERROR="ERROR",c))(et||{});const B={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91},_t={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};function ge(c,e,t="log",i,o="color: inherit"){if(!("console"in window)||!window.console[t])return;const n=["info","log","warn","error"].includes(t),r=[];switch(ge.logLevel){case"ERROR":if(t!=="error")return;break;case"WARN":if(!["error","warn"].includes(t))return;break;case"INFO":if(!n||c)return;break}i&&r.push(i);const l="Editor.js 2.27.0",s=`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`;c&&(n?(r.unshift(s,o),e=`%c${l}%c ${e}`):e=`( ${l} )${e}`);try{n?i?console[t](`${e} %o`,...r):console[t](e,...r):console[t](e)}catch{}}ge.logLevel="VERBOSE";function At(c){ge.logLevel=c}const T=ge.bind(window,!1),K=ge.bind(window,!0);function te(c){return Object.prototype.toString.call(c).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function D(c){return te(c)==="function"||te(c)==="asyncfunction"}function j(c){return te(c)==="object"}function J(c){return te(c)==="string"}function Nt(c){return te(c)==="boolean"}function Ve(c){return te(c)==="number"}function Ze(c){return te(c)==="undefined"}function V(c){return c?Object.keys(c).length===0&&c.constructor===Object:!0}function tt(c){return c>47&&c<58||c===32||c===13||c===229||c>64&&c<91||c>95&&c<112||c>185&&c<193||c>218&&c<223}async function ot(c,e=()=>{},t=()=>{}){async function i(o,n,r){try{await o.function(o.data),await n(Ze(o.data)?{}:o.data)}catch{r(Ze(o.data)?{}:o.data)}}return c.reduce(async(o,n)=>(await o,i(n,e,t)),Promise.resolve())}function it(c){return Array.prototype.slice.call(c)}function oe(c,e){return function(){const t=this,i=arguments;window.setTimeout(()=>c.apply(t,i),e)}}function Rt(c){return c.name.split(".").pop()}function Dt(c){return/^[-\w]+\/([-+\w]+|\*)$/.test(c)}function Pt(c,e,t){let i;return(...o)=>{const n=this,r=()=>{i=null,t||c.apply(n,o)},l=t&&!i;window.clearTimeout(i),i=window.setTimeout(r,e),l&&c.apply(n,o)}}function Te(c,e,t=void 0){let i,o,n,r=null,l=0;t||(t={});const s=function(){l=t.leading===!1?0:Date.now(),r=null,n=c.apply(i,o),r||(i=o=null)};return function(){const a=Date.now();!l&&t.leading===!1&&(l=a);const h=e-(a-l);return i=this,o=arguments,h<=0||h>e?(r&&(clearTimeout(r),r=null),l=a,n=c.apply(i,o),r||(i=o=null)):!r&&t.trailing!==!1&&(r=setTimeout(s,h)),n}}function Ft(){const c={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(c).find(t=>window.navigator.appVersion.toLowerCase().indexOf(t)!==-1);return e&&(c[e]=!0),c}function ke(c){return c[0].toUpperCase()+c.slice(1)}function Se(c,...e){if(!e.length)return c;const t=e.shift();if(j(c)&&j(t))for(const i in t)j(t[i])?(c[i]||Object.assign(c,{[i]:{}}),Se(c[i],t[i])):Object.assign(c,{[i]:t[i]});return Se(c,...e)}function nt(c){const e=Ft();return c=c.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi," + "),e.mac?c=c.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):c=c.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),c}function Ht(c){try{return new URL(c).href}catch{}return c.substring(0,2)==="//"?window.location.protocol+c:window.location.origin+c}function zt(){return Ot(10)}function jt(c){window.open(c,"_blank")}function Ut(c=""){return`${c}${Math.floor(Math.random()*1e8).toString(16)}`}function Ie(c,e,t){const i=`«${e}» is deprecated and will be removed in the next major release. Please use the «${t}» instead.`;c&&K(i,"warn")}function ae(c,e,t){const i=t.value?"value":"get",o=t[i],n=`#${e}Cache`;if(t[i]=function(...r){return this[n]===void 0&&(this[n]=o.apply(this,...r)),this[n]},i==="get"&&t.set){const r=t.set;t.set=function(l){delete c[n],r.apply(this,l)}}return t}const st=650;function ee(){return window.matchMedia(`(max-width: ${st}px)`).matches}const Ge=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function $t(c,e){const t=Array.isArray(c)||j(c),i=Array.isArray(e)||j(e);return t||i?JSON.stringify(c)===JSON.stringify(e):c===e}class d{static isSingleTag(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}static isLineBreakTag(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}static make(e,t=null,i={}){const o=document.createElement(e);Array.isArray(t)?o.classList.add(...t):t&&o.classList.add(t);for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n]);return o}static text(e){return document.createTextNode(e)}static append(e,t){Array.isArray(t)?t.forEach(i=>e.appendChild(i)):e.appendChild(t)}static prepend(e,t){Array.isArray(t)?(t=t.reverse(),t.forEach(i=>e.prepend(i))):e.prepend(t)}static swap(e,t){const i=document.createElement("div"),o=e.parentNode;o.insertBefore(i,e),o.insertBefore(e,t),o.insertBefore(t,i),o.removeChild(i)}static find(e=document,t){return e.querySelector(t)}static get(e){return document.getElementById(e)}static findAll(e=document,t){return e.querySelectorAll(t)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(e=>`input[type="${e}"]`).join(", ")}static findAllInputs(e){return it(e.querySelectorAll(d.allInputsSelector)).reduce((t,i)=>d.isNativeInput(i)||d.containsOnlyInlineElements(i)?[...t,i]:[...t,...d.getDeepestBlockElements(i)],[])}static getDeepestNode(e,t=!1){const i=t?"lastChild":"firstChild",o=t?"previousSibling":"nextSibling";if(e&&e.nodeType===Node.ELEMENT_NODE&&e[i]){let n=e[i];if(d.isSingleTag(n)&&!d.isNativeInput(n)&&!d.isLineBreakTag(n))if(n[o])n=n[o];else if(n.parentNode[o])n=n.parentNode[o];else return n.parentNode;return this.getDeepestNode(n,t)}return e}static isElement(e){return Ve(e)?!1:e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE}static isFragment(e){return Ve(e)?!1:e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(e){return e.contentEditable==="true"}static isNativeInput(e){const t=["INPUT","TEXTAREA"];return e&&e.tagName?t.includes(e.tagName):!1}static canSetCaret(e){let t=!0;if(d.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":t=!1;break}else t=d.isContentEditable(e);return t}static isNodeEmpty(e){let t;return this.isSingleTag(e)&&!this.isLineBreakTag(e)?!1:(this.isElement(e)&&this.isNativeInput(e)?t=e.value:t=e.textContent.replace("​",""),t.trim().length===0)}static isLeaf(e){return e?e.childNodes.length===0:!1}static isEmpty(e){e.normalize();const t=[e];for(;t.length>0;)if(e=t.shift(),!!e){if(this.isLeaf(e)&&!this.isNodeEmpty(e))return!1;e.childNodes&&t.push(...Array.from(e.childNodes))}return!0}static isHTMLString(e){const t=d.make("div");return t.innerHTML=e,t.childElementCount>0}static getContentLength(e){return d.isNativeInput(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:e.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(e){let t;J(e)?(t=document.createElement("div"),t.innerHTML=e):t=e;const i=o=>!d.blockElements.includes(o.tagName.toLowerCase())&&Array.from(o.children).every(i);return Array.from(t.children).every(i)}static getDeepestBlockElements(e){return d.containsOnlyInlineElements(e)?[e]:Array.from(e.children).reduce((t,i)=>[...t,...d.getDeepestBlockElements(i)],[])}static getHolder(e){return J(e)?document.getElementById(e):e}static isAnchor(e){return e.tagName.toLowerCase()==="a"}static offset(e){const t=e.getBoundingClientRect(),i=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop,n=t.top+o,r=t.left+i;return{top:n,left:r,bottom:n+t.height,right:r+t.width}}}const Wt={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":""}},Yt={Text:"",Link:"",Bold:"",Italic:""},Kt={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},Xt={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},rt={ui:Wt,toolNames:Yt,tools:Kt,blockTunes:Xt},ie=class{static ui(c,e){return ie._t(c,e)}static t(c,e){return ie._t(c,e)}static setDictionary(c){ie.currentDictionary=c}static _t(c,e){const t=ie.getNamespace(c);return!t||!t[e]?e:t[e]}static getNamespace(c){return c.split(".").reduce((e,t)=>!e||!Object.keys(e).length?{}:e[t],ie.currentDictionary)}};let $=ie;$.currentDictionary=rt;class at extends Error{}class we{constructor(){this.subscribers={}}on(e,t){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(t)}once(e,t){e in this.subscribers||(this.subscribers[e]=[]);const i=o=>{const n=t(o),r=this.subscribers[e].indexOf(i);return r!==-1&&this.subscribers[e].splice(r,1),n};this.subscribers[e].push(i)}emit(e,t){V(this.subscribers)||!this.subscribers[e]||this.subscribers[e].reduce((i,o)=>{const n=o(i);return n!==void 0?n:i},t)}off(e,t){for(let i=0;i<this.subscribers[e].length;i++)if(this.subscribers[e][i]===t){delete this.subscribers[e][i];break}}destroy(){this.subscribers=null}}function he(c){Object.setPrototypeOf(this,{get id(){return c.id},get name(){return c.name},get config(){return c.config},get holder(){return c.holder},get isEmpty(){return c.isEmpty},get selected(){return c.selected},set stretched(e){c.stretched=e},get stretched(){return c.stretched},call(e,t){return c.call(e,t)},save(){return c.save()},validate(e){return c.validate(e)},dispatchChange(){c.dispatchChange()}})}class Re{constructor(){this.allListeners=[]}on(e,t,i,o=!1){const n=Ut("l"),r={id:n,element:e,eventType:t,handler:i,options:o};if(!this.findOne(e,t,i))return this.allListeners.push(r),e.addEventListener(t,i,o),n}off(e,t,i,o){const n=this.findAll(e,t,i);n.forEach((r,l)=>{const s=this.allListeners.indexOf(n[l]);s>-1&&(this.allListeners.splice(s,1),r.element.removeEventListener(r.eventType,r.handler,r.options))})}offById(e){const t=this.findById(e);t&&t.element.removeEventListener(t.eventType,t.handler,t.options)}findOne(e,t,i){const o=this.findAll(e,t,i);return o.length>0?o[0]:null}findAll(e,t,i){let o;const n=e?this.findByEventTarget(e):[];return e&&t&&i?o=n.filter(r=>r.eventType===t&&r.handler===i):e&&t?o=n.filter(r=>r.eventType===t):o=n,o}removeAll(){this.allListeners.map(e=>{e.element.removeEventListener(e.eventType,e.handler,e.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(e){return this.allListeners.filter(t=>{if(t.element===e)return t})}findByType(e){return this.allListeners.filter(t=>{if(t.eventType===e)return t})}findByHandler(e){return this.allListeners.filter(t=>{if(t.handler===e)return t})}findById(e){return this.allListeners.find(t=>t.id===e)}}class S{constructor({config:e,eventsDispatcher:t}){if(this.nodes={},this.listeners=new Re,this.readOnlyMutableListeners={on:(i,o,n,r=!1)=>{this.mutableListenerIds.push(this.listeners.on(i,o,n,r))},clearAll:()=>{for(const i of this.mutableListenerIds)this.listeners.offById(i);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===S)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=t}set state(e){this.Editor=e}removeAllNodes(){for(const e in this.nodes){const t=this.nodes[e];t instanceof HTMLElement&&t.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}}class m{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){const e=window.getSelection();if(!e)return null;const t=e.anchorNode;return t?d.isElement(t)?t:t.parentElement:null}static get anchorOffset(){const e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){const e=window.getSelection();return e?e.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(m.get())}static isSelectionAtEditor(e){if(!e)return!1;let t=e.anchorNode||e.focusNode;t&&t.nodeType===Node.TEXT_NODE&&(t=t.parentNode);let i=null;return t&&t instanceof Element&&(i=t.closest(`.${m.CSS.editorZone}`)),i?i.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(e){if(!e)return;let t=e.startContainer;t&&t.nodeType===Node.TEXT_NODE&&(t=t.parentNode);let i=null;return t&&t instanceof Element&&(i=t.closest(`.${m.CSS.editorZone}`)),i?i.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!m.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(e){return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){let e=document.selection,t,i={x:0,y:0,width:0,height:0};if(e&&e.type!=="Control")return e=e,t=e.createRange(),i.x=t.boundingLeft,i.y=t.boundingTop,i.width=t.boundingWidth,i.height=t.boundingHeight,i;if(!window.getSelection)return T("Method window.getSelection is not supported","warn"),i;if(e=window.getSelection(),e.rangeCount===null||isNaN(e.rangeCount))return T("Method SelectionUtils.rangeCount is not supported","warn"),i;if(e.rangeCount===0)return i;if(t=e.getRangeAt(0).cloneRange(),t.getBoundingClientRect&&(i=t.getBoundingClientRect()),i.x===0&&i.y===0){const o=document.createElement("span");if(o.getBoundingClientRect){o.appendChild(document.createTextNode("​")),t.insertNode(o),i=o.getBoundingClientRect();const n=o.parentNode;n.removeChild(o),n.normalize()}}return i}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e,t=0){const i=document.createRange(),o=window.getSelection();return d.isNativeInput(e)?d.canSetCaret(e)?(e.focus(),e.selectionStart=e.selectionEnd=t,e.getBoundingClientRect()):void 0:(i.setStart(e,t),i.setEnd(e,t),o.removeAllRanges(),o.addRange(i),i.getBoundingClientRect())}static isRangeInsideContainer(e){const t=m.range;return t===null?!1:e.contains(t.startContainer)}static addFakeCursor(){const e=m.range;if(e===null)return;const t=d.make("span","codex-editor__fake-cursor");t.dataset.mutationFree="true",e.collapse(),e.insertNode(t)}static isFakeCursorInsideContainer(e){return d.find(e,".codex-editor__fake-cursor")!==null}static removeFakeCursor(e=document.body){const t=d.find(e,".codex-editor__fake-cursor");t&&t.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=m.range}restore(){if(!this.savedSelectionRange)return;const e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(e.focusNode),t.collapse(!1),e.removeAllRanges(),e.addRange(t)}findParentTag(e,t,i=10){const o=window.getSelection();let n=null;return!o||!o.anchorNode||!o.focusNode?null:([o.anchorNode,o.focusNode].forEach(r=>{let l=i;for(;l>0&&r.parentNode&&!(r.tagName===e&&(n=r,t&&r.classList&&!r.classList.contains(t)&&(n=null),n));)r=r.parentNode,l--}),n)}expandToTag(e){const t=window.getSelection();t.removeAllRanges();const i=document.createRange();i.selectNodeContents(e),t.addRange(i)}}function Vt(c,e){const{type:t,target:i,addedNodes:o,removedNodes:n}=c;if(["characterData","attributes"].includes(t)){const s=i.nodeType===Node.TEXT_NODE?i.parentNode:i;return e.contains(s)}const r=Array.from(o).some(s=>e.contains(s)),l=Array.from(n).some(s=>e.contains(s));return r||l}const Me="redactor dom changed",lt="block changed",ct="fake cursor is about to be toggled",dt="fake cursor have been set";var q=(c=>(c.APPEND_CALLBACK="appendCallback",c.RENDERED="rendered",c.MOVED="moved",c.UPDATED="updated",c.REMOVED="removed",c.ON_PASTE="onPaste",c))(q||{});class F extends we{constructor({id:e=zt(),data:t,tool:i,api:o,readOnly:n,tunesData:r},l){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(s=void 0)=>{const a=s===void 0,h=s instanceof InputEvent;!a&&!h&&this.detectToolRootChange(s);let u;a||h?u=!0:u=!(s.length>0&&s.every(p=>{const{addedNodes:A,removedNodes:y}=p;return[...Array.from(A),...Array.from(y)].some(O=>d.isElement(O)?O.dataset.mutationFree==="true":!1)})),u&&(this.dropInputsCache(),this.updateCurrentInput(),this.call("updated"),this.emit("didMutated",this))},this.name=i.name,this.id=e,this.settings=i.settings,this.config=i.settings.config||{},this.api=o,this.editorEventBus=l||null,this.blockAPI=new he(this),this.tool=i,this.toolInstance=i.create(t,this.blockAPI,n),this.tunes=i.tunes,this.composeTunes(r),this.holder=this.compose(),this.watchBlockMutations(),this.addInputEvents()}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",focused:"ce-block--focused",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;const e=d.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(e){const t=this.inputs.findIndex(i=>i===e||i.contains(e));t!==-1&&(this.inputIndex=t)}get firstInput(){return this.inputs[0]}get lastInput(){const e=this.inputs;return e[e.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(e=>e&&!V(e.data)?e.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return D(this.toolInstance.merge)}get isEmpty(){const e=d.isEmpty(this.pluginsContent),t=!this.hasMedia;return e&&t}get hasMedia(){const e=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(e.join(","))}set focused(e){this.holder.classList.toggle(F.CSS.focused,e)}get focused(){return this.holder.classList.contains(F.CSS.focused)}set selected(e){var t,i;this.holder.classList.toggle(F.CSS.selected,e);const o=e===!0&&m.isRangeInsideContainer(this.holder),n=e===!1&&m.isFakeCursorInsideContainer(this.holder);(o||n)&&((t=this.editorEventBus)==null||t.emit(ct,{state:e}),o?m.addFakeCursor():m.removeFakeCursor(this.holder),(i=this.editorEventBus)==null||i.emit(dt,{state:e}))}get selected(){return this.holder.classList.contains(F.CSS.selected)}set stretched(e){this.holder.classList.toggle(F.CSS.wrapperStretched,e)}get stretched(){return this.holder.classList.contains(F.CSS.wrapperStretched)}set dropTarget(e){this.holder.classList.toggle(F.CSS.dropTarget,e)}get pluginsContent(){return this.toolRenderedElement}call(e,t){if(D(this.toolInstance[e])){e==="appendCallback"&&T("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,t)}catch(i){T(`Error during '${e}' call: ${i.message}`,"error")}}}async mergeWith(e){await this.toolInstance.merge(e)}async save(){const e=await this.toolInstance.save(this.pluginsContent),t=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([n,r])=>{if(D(r.save))try{t[n]=r.save()}catch(l){T(`Tune ${r.constructor.name} save method throws an Error %o`,"warn",l)}});const i=window.performance.now();let o;return Promise.resolve(e).then(n=>(o=window.performance.now(),{id:this.id,tool:this.name,data:n,tunes:t,time:o-i})).catch(n=>{T(`Saving process for ${this.name} tool failed due to the ${n}`,"log","red")})}async validate(e){let t=!0;return this.toolInstance.validate instanceof Function&&(t=await this.toolInstance.validate(e)),t}getTunes(){const e=document.createElement("div"),t=[],i=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[],o=[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(n=>n.render());return[i,o].flat().forEach(n=>{d.isElement(n)?e.appendChild(n):Array.isArray(n)?t.push(...n):t.push(n)}),[t,e]}updateCurrentInput(){this.currentInput=d.isNativeInput(document.activeElement)||!m.anchorNode?document.activeElement:m.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),D(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const e=this.tool.toolbox;if(e.length===1)return Promise.resolve(this.tool.toolbox[0]);const t=await this.data;return e.find(i=>Object.entries(i.data).some(([o,n])=>t[o]&&$t(t[o],n)))}compose(){const e=d.make("div",F.CSS.wrapper),t=d.make("div",F.CSS.content),i=this.toolInstance.render();this.toolRenderedElement=i,t.appendChild(this.toolRenderedElement);let o=t;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(n=>{if(D(n.wrap))try{o=n.wrap(o)}catch(r){T(`Tune ${n.constructor.name} wrap method throws an Error %o`,"warn",r)}}),e.appendChild(o),e}composeTunes(e){Array.from(this.tunes.values()).forEach(t=>{(t.isInternal?this.defaultTunesInstances:this.tunesInstances).set(t.name,t.create(e[t.name],this.blockAPI))}),Object.entries(e).forEach(([t,i])=>{this.tunesInstances.has(t)||(this.unavailableTunesData[t]=i)})}addInputEvents(){this.inputs.forEach(e=>{e.addEventListener("focus",this.handleFocus),d.isNativeInput(e)&&e.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(e=>{e.removeEventListener("focus",this.handleFocus),d.isNativeInput(e)&&e.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var e;this.redactorDomChangedCallback=t=>{const{mutations:i}=t;i.some(o=>Vt(o,this.toolRenderedElement))&&this.didMutated(i)},(e=this.editorEventBus)==null||e.on(Me,this.redactorDomChangedCallback)}unwatchBlockMutations(){var e;(e=this.editorEventBus)==null||e.off(Me,this.redactorDomChangedCallback)}detectToolRootChange(e){e.forEach(t=>{if(Array.from(t.removedNodes).includes(this.toolRenderedElement)){const i=t.addedNodes[t.addedNodes.length-1];this.toolRenderedElement=i}})}dropInputsCache(){this.cachedInputs=[]}}class Zt extends S{constructor(){super(...arguments),this.insert=(e=this.config.defaultBlock,t={},i={},o,n,r,l)=>{const s=this.Editor.BlockManager.insert({id:l,tool:e,data:t,index:o,needToFocus:n,replace:r});return new he(s)},this.composeBlockData=async e=>{const t=this.Editor.Tools.blockTools.get(e);return new F({tool:t,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=(e,t)=>{const{BlockManager:i}=this.Editor,o=i.getBlockById(e);if(!o){T("blocks.update(): Block with passed id was not found","warn");return}const n=i.getBlockIndex(o);i.insert({id:o.id,tool:o.name,data:t,index:n,replace:!0,tunes:o.tunes})}}get methods(){return{clear:()=>this.clear(),render:e=>this.render(e),renderFromHTML:e=>this.renderFromHTML(e),delete:e=>this.delete(e),swap:(e,t)=>this.swap(e,t),move:(e,t)=>this.move(e,t),getBlockByIndex:e=>this.getBlockByIndex(e),getById:e=>this.getById(e),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:e=>this.getBlockIndex(e),getBlocksCount:()=>this.getBlocksCount(),stretchBlock:(e,t=!0)=>this.stretchBlock(e,t),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,update:this.update,composeBlockData:this.composeBlockData}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(e){const t=this.Editor.BlockManager.getBlockById(e);if(!t){K("There is no block with id `"+e+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(t)}getBlockByIndex(e){const t=this.Editor.BlockManager.getBlockByIndex(e);if(t===void 0){K("There is no block at index `"+e+"`","warn");return}return new he(t)}getById(e){const t=this.Editor.BlockManager.getBlockById(e);return t===void 0?(K("There is no block with id `"+e+"`","warn"),null):new he(t)}swap(e,t){T("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,t)}move(e,t){this.Editor.BlockManager.move(e,t)}delete(e){try{this.Editor.BlockManager.removeBlock(e)}catch(t){K(t,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}clear(){this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}render(e){return this.Editor.BlockManager.clear(),this.Editor.Renderer.render(e.blocks)}renderFromHTML(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}stretchBlock(e,t=!0){Ie(!0,"blocks.stretchBlock()","BlockAPI");const i=this.Editor.BlockManager.getBlockByIndex(e);i&&(i.stretched=t)}insertNewBlock(){T("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}}class Gt extends S{constructor(){super(...arguments),this.setToFirstBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,e,t),!0):!1,this.setToLastBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,e,t),!0):!1,this.setToPreviousBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,e,t),!0):!1,this.setToNextBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,e,t),!0):!1,this.setToBlock=(e,t=this.Editor.Caret.positions.DEFAULT,i=0)=>this.Editor.BlockManager.blocks[e]?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.blocks[e],t,i),!0):!1,this.focus=(e=!1)=>e?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}class qt extends S{get methods(){return{emit:(e,t)=>this.emit(e,t),off:(e,t)=>this.off(e,t),on:(e,t)=>this.on(e,t)}}on(e,t){this.eventsDispatcher.on(e,t)}emit(e,t){this.eventsDispatcher.emit(e,t)}off(e,t){this.eventsDispatcher.off(e,t)}}class De extends S{static getNamespace(e){return e.isTune()?`blockTunes.${e.name}`:`tools.${e.name}`}get methods(){return{t:()=>{K("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(e){return Object.assign(this.methods,{t:t=>$.t(De.getNamespace(e),t)})}}class Jt extends S{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(e){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e)})}}class Qt extends S{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}}class eo extends S{get methods(){return{on:(e,t,i,o)=>this.on(e,t,i,o),off:(e,t,i,o)=>this.off(e,t,i,o),offById:e=>this.offById(e)}}on(e,t,i,o){return this.listeners.on(e,t,i,o)}off(e,t,i,o){this.listeners.off(e,t,i,o)}offById(e){this.listeners.offById(e)}}var Le={},to={get exports(){return Le},set exports(c){Le=c}};(function(c,e){(function(t,i){c.exports=i()})(window,function(){return function(t){var i={};function o(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=i,o.d=function(n,r,l){o.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:l})},o.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.t=function(n,r){if(1&r&&(n=o(n)),8&r||4&r&&typeof n=="object"&&n&&n.__esModule)return n;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:n}),2&r&&typeof n!="string")for(var s in n)o.d(l,s,function(a){return n[a]}.bind(null,s));return l},o.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(r,"a",r),r},o.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},o.p="/",o(o.s=0)}([function(t,i,o){o(1),t.exports=function(){var n=o(6),r="cdx-notify--bounce-in",l=null;return{show:function(s){if(s.message){(function(){if(l)return!0;l=n.getWrapper(),document.body.appendChild(l)})();var a=null,h=s.time||8e3;switch(s.type){case"confirm":a=n.confirm(s);break;case"prompt":a=n.prompt(s);break;default:a=n.alert(s),window.setTimeout(function(){a.remove()},h)}l.appendChild(a),a.classList.add(r)}}}}()},function(t,i,o){var n=o(2);typeof n=="string"&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};o(4)(n,r),n.locals&&(t.exports=n.locals)},function(t,i,o){(t.exports=o(3)(!1)).push([t.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(t,i){t.exports=function(o){var n=[];return n.toString=function(){return this.map(function(r){var l=function(s,a){var h=s[1]||"",u=s[3];if(!u)return h;if(a&&typeof btoa=="function"){var p=(y=u,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(y))))+" */"),A=u.sources.map(function(O){return"/*# sourceURL="+u.sourceRoot+O+" */"});return[h].concat(A).concat([p]).join(`
`)}var y;return[h].join(`
`)}(r,o);return r[2]?"@media "+r[2]+"{"+l+"}":l}).join("")},n.i=function(r,l){typeof r=="string"&&(r=[[null,r,""]]);for(var s={},a=0;a<this.length;a++){var h=this[a][0];typeof h=="number"&&(s[h]=!0)}for(a=0;a<r.length;a++){var u=r[a];typeof u[0]=="number"&&s[u[0]]||(l&&!u[2]?u[2]=l:l&&(u[2]="("+u[2]+") and ("+l+")"),n.push(u))}},n}},function(t,i,o){var n,r,l={},s=(n=function(){return window&&document&&document.all&&!window.atob},function(){return r===void 0&&(r=n.apply(this,arguments)),r}),a=function(g){var v={};return function(M){if(typeof M=="function")return M();if(v[M]===void 0){var E=function(b){return document.querySelector(b)}.call(this,M);if(window.HTMLIFrameElement&&E instanceof window.HTMLIFrameElement)try{E=E.contentDocument.head}catch{E=null}v[M]=E}return v[M]}}(),h=null,u=0,p=[],A=o(5);function y(g,v){for(var M=0;M<g.length;M++){var E=g[M],b=l[E.id];if(b){b.refs++;for(var C=0;C<b.parts.length;C++)b.parts[C](E.parts[C]);for(;C<E.parts.length;C++)b.parts.push(x(E.parts[C],v))}else{var w=[];for(C=0;C<E.parts.length;C++)w.push(x(E.parts[C],v));l[E.id]={id:E.id,refs:1,parts:w}}}}function O(g,v){for(var M=[],E={},b=0;b<g.length;b++){var C=g[b],w=v.base?C[0]+v.base:C[0],f={css:C[1],media:C[2],sourceMap:C[3]};E[w]?E[w].parts.push(f):M.push(E[w]={id:w,parts:[f]})}return M}function R(g,v){var M=a(g.insertInto);if(!M)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var E=p[p.length-1];if(g.insertAt==="top")E?E.nextSibling?M.insertBefore(v,E.nextSibling):M.appendChild(v):M.insertBefore(v,M.firstChild),p.push(v);else if(g.insertAt==="bottom")M.appendChild(v);else{if(typeof g.insertAt!="object"||!g.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var b=a(g.insertInto+" "+g.insertAt.before);M.insertBefore(v,b)}}function I(g){if(g.parentNode===null)return!1;g.parentNode.removeChild(g);var v=p.indexOf(g);v>=0&&p.splice(v,1)}function Q(g){var v=document.createElement("style");return g.attrs.type===void 0&&(g.attrs.type="text/css"),k(v,g.attrs),R(g,v),v}function k(g,v){Object.keys(v).forEach(function(M){g.setAttribute(M,v[M])})}function x(g,v){var M,E,b,C;if(v.transform&&g.css){if(!(C=v.transform(g.css)))return function(){};g.css=C}if(v.singleton){var w=u++;M=h||(h=Q(v)),E=le.bind(null,M,w,!1),b=le.bind(null,M,w,!0)}else g.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(M=function(f){var _=document.createElement("link");return f.attrs.type===void 0&&(f.attrs.type="text/css"),f.attrs.rel="stylesheet",k(_,f.attrs),R(f,_),_}(v),E=function(f,_,H){var W=H.css,Ee=H.sourceMap,Xe=_.convertToAbsoluteUrls===void 0&&Ee;(_.convertToAbsoluteUrls||Xe)&&(W=A(W)),Ee&&(W+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(Ee))))+" */");var It=new Blob([W],{type:"text/css"}),Mt=f.href;f.href=URL.createObjectURL(It),Mt&&URL.revokeObjectURL(Mt)}.bind(null,M,v),b=function(){I(M),M.href&&URL.revokeObjectURL(M.href)}):(M=Q(v),E=function(f,_){var H=_.css,W=_.media;if(W&&f.setAttribute("media",W),f.styleSheet)f.styleSheet.cssText=H;else{for(;f.firstChild;)f.removeChild(f.firstChild);f.appendChild(document.createTextNode(H))}}.bind(null,M),b=function(){I(M)});return E(g),function(f){if(f){if(f.css===g.css&&f.media===g.media&&f.sourceMap===g.sourceMap)return;E(g=f)}else b()}}t.exports=function(g,v){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(v=v||{}).attrs=typeof v.attrs=="object"?v.attrs:{},v.singleton||typeof v.singleton=="boolean"||(v.singleton=s()),v.insertInto||(v.insertInto="head"),v.insertAt||(v.insertAt="bottom");var M=O(g,v);return y(M,v),function(E){for(var b=[],C=0;C<M.length;C++){var w=M[C];(f=l[w.id]).refs--,b.push(f)}for(E&&y(O(E,v),v),C=0;C<b.length;C++){var f;if((f=b[C]).refs===0){for(var _=0;_<f.parts.length;_++)f.parts[_]();delete l[f.id]}}}};var L,N=(L=[],function(g,v){return L[g]=v,L.filter(Boolean).join(`
`)});function le(g,v,M,E){var b=M?"":E.css;if(g.styleSheet)g.styleSheet.cssText=N(v,b);else{var C=document.createTextNode(b),w=g.childNodes;w[v]&&g.removeChild(w[v]),w.length?g.insertBefore(C,w[v]):g.appendChild(C)}}},function(t,i){t.exports=function(o){var n=typeof window<"u"&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var r=n.protocol+"//"+n.host,l=r+n.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(s,a){var h,u=a.trim().replace(/^"(.*)"$/,function(p,A){return A}).replace(/^'(.*)'$/,function(p,A){return A});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(u)?s:(h=u.indexOf("//")===0?u:u.indexOf("/")===0?r+u:l+u.replace(/^\.\//,""),"url("+JSON.stringify(h)+")")})}},function(t,i,o){var n,r,l,s,a,h,u,p,A;t.exports=(n="cdx-notifies",r="cdx-notify",l="cdx-notify__cross",s="cdx-notify__button--confirm",a="cdx-notify__button--cancel",h="cdx-notify__input",u="cdx-notify__button",p="cdx-notify__btns-wrapper",{alert:A=function(y){var O=document.createElement("DIV"),R=document.createElement("DIV"),I=y.message,Q=y.style;return O.classList.add(r),Q&&O.classList.add(r+"--"+Q),O.innerHTML=I,R.classList.add(l),R.addEventListener("click",O.remove.bind(O)),O.appendChild(R),O},confirm:function(y){var O=A(y),R=document.createElement("div"),I=document.createElement("button"),Q=document.createElement("button"),k=O.querySelector("."+l),x=y.cancelHandler,L=y.okHandler;return R.classList.add(p),I.innerHTML=y.okText||"Confirm",Q.innerHTML=y.cancelText||"Cancel",I.classList.add(u),Q.classList.add(u),I.classList.add(s),Q.classList.add(a),x&&typeof x=="function"&&(Q.addEventListener("click",x),k.addEventListener("click",x)),L&&typeof L=="function"&&I.addEventListener("click",L),I.addEventListener("click",O.remove.bind(O)),Q.addEventListener("click",O.remove.bind(O)),R.appendChild(I),R.appendChild(Q),O.appendChild(R),O},prompt:function(y){var O=A(y),R=document.createElement("div"),I=document.createElement("button"),Q=document.createElement("input"),k=O.querySelector("."+l),x=y.cancelHandler,L=y.okHandler;return R.classList.add(p),I.innerHTML=y.okText||"Ok",I.classList.add(u),I.classList.add(s),Q.classList.add(h),y.placeholder&&Q.setAttribute("placeholder",y.placeholder),y.default&&(Q.value=y.default),y.inputType&&(Q.type=y.inputType),x&&typeof x=="function"&&k.addEventListener("click",x),L&&typeof L=="function"&&I.addEventListener("click",function(){L(Q.value)}),I.addEventListener("click",O.remove.bind(O)),R.appendChild(Q),R.appendChild(I),O.appendChild(R),O},getWrapper:function(){var y=document.createElement("DIV");return y.classList.add(n),y}})}])})})(to);const oo=xe(Le);class io{show(e){oo.show(e)}}class no extends S{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.notifier=new io}get methods(){return{show:e=>this.show(e)}}show(e){return this.notifier.show(e)}}class so extends S{get methods(){const e=()=>this.isEnabled;return{toggle:t=>this.toggle(t),get isEnabled(){return e()}}}toggle(e){return this.Editor.ReadOnly.toggle(e)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}}var Oe={},ro={get exports(){return Oe},set exports(c){Oe=c}};(function(c,e){(function(t,i){c.exports=i()})(Lt,function(){function t(u){var p=u.tags,A=Object.keys(p),y=A.map(function(O){return typeof p[O]}).every(function(O){return O==="object"||O==="boolean"||O==="function"});if(!y)throw new Error("The configuration was invalid");this.config=u}var i=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function o(u){return i.indexOf(u.nodeName)!==-1}var n=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function r(u){return n.indexOf(u.nodeName)!==-1}t.prototype.clean=function(u){const p=document.implementation.createHTMLDocument(),A=p.createElement("div");return A.innerHTML=u,this._sanitize(p,A),A.innerHTML},t.prototype._sanitize=function(u,p){var A=l(u,p),y=A.firstChild();if(y)do{if(y.nodeType===Node.TEXT_NODE)if(y.data.trim()===""&&(y.previousElementSibling&&o(y.previousElementSibling)||y.nextElementSibling&&o(y.nextElementSibling))){p.removeChild(y),this._sanitize(u,p);break}else continue;if(y.nodeType===Node.COMMENT_NODE){p.removeChild(y),this._sanitize(u,p);break}var O=r(y),R;O&&(R=Array.prototype.some.call(y.childNodes,o));var I=!!p.parentNode,Q=o(p)&&o(y)&&I,k=y.nodeName.toLowerCase(),x=s(this.config,k,y),L=O&&R;if(L||a(y,x)||!this.config.keepNestedBlockElements&&Q){if(!(y.nodeName==="SCRIPT"||y.nodeName==="STYLE"))for(;y.childNodes.length>0;)p.insertBefore(y.childNodes[0],y);p.removeChild(y),this._sanitize(u,p);break}for(var N=0;N<y.attributes.length;N+=1){var le=y.attributes[N];h(le,x,y)&&(y.removeAttribute(le.name),N=N-1)}this._sanitize(u,y)}while(y=A.nextSibling())};function l(u,p){return u.createTreeWalker(p,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function s(u,p,A){return typeof u.tags[p]=="function"?u.tags[p](A):u.tags[p]}function a(u,p){return typeof p>"u"?!0:typeof p=="boolean"?!p:!1}function h(u,p,A){var y=u.name.toLowerCase();return p===!0?!1:typeof p[y]=="function"?!p[y](u.value,A):typeof p[y]>"u"||p[y]===!1?!0:typeof p[y]=="string"?p[y]!==u.value:!1}return t})})(ro);const ao=Oe;function ht(c,e){return c.map(t=>{const i=D(e)?e(t.tool):e;return V(i)||(t.data=Pe(t.data,i)),t})}function Z(c,e={}){const t={tags:e};return new ao(t).clean(c)}function Pe(c,e){return Array.isArray(c)?lo(c,e):j(c)?co(c,e):J(c)?ho(c,e):c}function lo(c,e){return c.map(t=>Pe(t,e))}function co(c,e){const t={};for(const i in c){if(!Object.prototype.hasOwnProperty.call(c,i))continue;const o=c[i],n=uo(e[i])?e[i]:e;t[i]=Pe(o,n)}return t}function ho(c,e){return j(e)?Z(c,e):e===!1?Z(c,{}):c}function uo(c){return j(c)||Nt(c)||D(c)}class po extends S{get methods(){return{clean:(e,t)=>this.clean(e,t)}}clean(e,t){return Z(e,t)}}class fo extends S{get methods(){return{save:()=>this.save()}}save(){const e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(K(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}}class go extends S{get methods(){return{findParentTag:(e,t)=>this.findParentTag(e,t),expandToTag:e=>this.expandToTag(e)}}findParentTag(e,t){return new m().findParentTag(e,t)}expandToTag(e){new m().expandToTag(e)}}class bo extends S{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}class mo extends S{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:e=>this.toggleBlockSettings(e),toggleToolbox:e=>this.toggleToolbox(e)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(e){if(this.Editor.BlockManager.currentBlockIndex===-1){K("Could't toggle the Toolbar because there is no block selected ","warn");return}e??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(e){if(this.Editor.BlockManager.currentBlockIndex===-1){K("Could't toggle the Toolbox because there is no block selected ","warn");return}e??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}}var _e={},ko={get exports(){return _e},set exports(c){_e=c}};/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(c,e){(function(t,i){c.exports=i()})(window,function(){return function(t){var i={};function o(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=i,o.d=function(n,r,l){o.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:l})},o.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.t=function(n,r){if(1&r&&(n=o(n)),8&r||4&r&&typeof n=="object"&&n&&n.__esModule)return n;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:n}),2&r&&typeof n!="string")for(var s in n)o.d(l,s,function(a){return n[a]}.bind(null,s));return l},o.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(r,"a",r),r},o.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},o.p="",o(o.s=0)}([function(t,i,o){t.exports=o(1)},function(t,i,o){o.r(i),o.d(i,"default",function(){return n});class n{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(l,s,a){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const h=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},a);if(h.hidingDelay&&(this.hidingDelay=h.hidingDelay),this.nodes.content.innerHTML="",typeof s=="string")this.nodes.content.appendChild(document.createTextNode(s));else{if(!(s instanceof Node))throw Error("[CodeX Tooltip] Wrong type of «content» passed. It should be an instance of Node or String. But "+typeof s+" given.");this.nodes.content.appendChild(s)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),h.placement){case"top":this.placeTop(l,h);break;case"left":this.placeLeft(l,h);break;case"right":this.placeRight(l,h);break;case"bottom":default:this.placeBottom(l,h)}h&&h.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},h.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(l=!1){if(this.hidingDelay&&!l)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(l,s,a){l.addEventListener("mouseenter",()=>{this.show(l,s,a)}),l.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const l="codex-tooltips-style";if(document.getElementById(l))return;const s=o(2),a=this.make("style",null,{textContent:s.toString(),id:l});this.prepend(document.head,a)}placeBottom(l,s){const a=l.getBoundingClientRect(),h=a.left+l.clientWidth/2-this.nodes.wrapper.offsetWidth/2,u=a.bottom+window.pageYOffset+this.offsetTop+s.marginTop;this.applyPlacement("bottom",h,u)}placeTop(l,s){const a=l.getBoundingClientRect(),h=a.left+l.clientWidth/2-this.nodes.wrapper.offsetWidth/2,u=a.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",h,u)}placeLeft(l,s){const a=l.getBoundingClientRect(),h=a.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-s.marginLeft,u=a.top+window.pageYOffset+l.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",h,u)}placeRight(l,s){const a=l.getBoundingClientRect(),h=a.right+this.offsetRight+s.marginRight,u=a.top+window.pageYOffset+l.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",h,u)}applyPlacement(l,s,a){this.nodes.wrapper.classList.add(this.CSS.placement[l]),this.nodes.wrapper.style.left=s+"px",this.nodes.wrapper.style.top=a+"px"}make(l,s=null,a={}){const h=document.createElement(l);Array.isArray(s)?h.classList.add(...s):s&&h.classList.add(s);for(const u in a)a.hasOwnProperty(u)&&(h[u]=a[u]);return h}append(l,s){Array.isArray(s)?s.forEach(a=>l.appendChild(a)):l.appendChild(s)}prepend(l,s){Array.isArray(s)?(s=s.reverse()).forEach(a=>l.prepend(a)):l.prepend(s)}}},function(t,i){t.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(ko);const vo=xe(_e);class Fe{constructor(){this.lib=new vo}destroy(){this.lib.destroy()}show(e,t,i){this.lib.show(e,t,i)}hide(e=!1){this.lib.hide(e)}onHover(e,t,i){this.lib.onHover(e,t,i)}}class xo extends S{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.tooltip=new Fe}destroy(){this.tooltip.destroy()}get methods(){return{show:(e,t,i)=>this.show(e,t,i),hide:()=>this.hide(),onHover:(e,t,i)=>this.onHover(e,t,i)}}show(e,t,i){this.tooltip.show(e,t,i)}hide(){this.tooltip.hide()}onHover(e,t,i){this.tooltip.onHover(e,t,i)}}class wo extends S{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}function ut(c,e){const t={};return Object.entries(c).forEach(([i,o])=>{if(j(o)){const n=e?`${e}.${i}`:i;Object.values(o).every(r=>J(r))?t[i]=n:t[i]=ut(o,n);return}t[i]=o}),t}const X=ut(rt);function yo(c,e){const t={};return Object.keys(c).forEach(i=>{const o=e[i];o!==void 0?t[o]=c[i]:t[i]=c[i]}),t}const Eo='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',pt='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',Bo='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',Co='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',To='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',So='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',qe='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',Io='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',Mo='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',Lo='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',Oo='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';class P{constructor(e){this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{this.nodes.root.classList.remove(P.CSS.noFocus)},this.removeSpecialHoverBehavior=()=>{this.nodes.root.classList.remove(P.CSS.noHover)},this.onErrorAnimationEnd=()=>{this.nodes.icon.classList.remove(P.CSS.wobbleAnimation),this.nodes.icon.removeEventListener("animationend",this.onErrorAnimationEnd)},this.params=e,this.nodes.root=this.make(e)}get isDisabled(){return this.params.isDisabled}get toggle(){return this.params.toggle}get title(){return this.params.title}get closeOnActivate(){return this.params.closeOnActivate}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root.classList.contains(P.CSS.focused)}static get CSS(){return{container:"ce-popover-item",title:"ce-popover-item__title",secondaryTitle:"ce-popover-item__secondary-title",icon:"ce-popover-item__icon",active:"ce-popover-item--active",disabled:"ce-popover-item--disabled",focused:"ce-popover-item--focused",hidden:"ce-popover-item--hidden",confirmationState:"ce-popover-item--confirmation",noHover:"ce-popover-item--no-hover",noFocus:"ce-popover-item--no-focus",wobbleAnimation:"wobble"}}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(e){this.nodes.root.classList.toggle(P.CSS.active,e)}toggleHidden(e){this.nodes.root.classList.toggle(P.CSS.hidden,e)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(e){const t=d.make("div",P.CSS.container);return e.name&&(t.dataset.itemName=e.name),this.nodes.icon=d.make("div",P.CSS.icon,{innerHTML:e.icon||To}),t.appendChild(this.nodes.icon),t.appendChild(d.make("div",P.CSS.title,{innerHTML:e.title||""})),e.secondaryLabel&&t.appendChild(d.make("div",P.CSS.secondaryTitle,{textContent:e.secondaryLabel})),e.isActive&&t.classList.add(P.CSS.active),e.isDisabled&&t.classList.add(P.CSS.disabled),t}enableConfirmationMode(e){const t={...this.params,...e,confirmation:e.confirmation},i=this.make(t);this.nodes.root.innerHTML=i.innerHTML,this.nodes.root.classList.add(P.CSS.confirmationState),this.confirmationState=e,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){const e=this.make(this.params);this.nodes.root.innerHTML=e.innerHTML,this.nodes.root.classList.remove(P.CSS.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){this.nodes.root.classList.add(P.CSS.noHover),this.nodes.root.classList.add(P.CSS.noFocus),this.nodes.root.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),this.nodes.root.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(e){if(e.confirmation===void 0)try{e.onActivate(e),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(e.confirmation)}animateError(){this.nodes.icon.classList.contains(P.CSS.wobbleAnimation)||(this.nodes.icon.classList.add(P.CSS.wobbleAnimation),this.nodes.icon.addEventListener("animationend",this.onErrorAnimationEnd))}}const ce=class{constructor(c,e){this.cursor=-1,this.items=[],this.items=c||[],this.focusedCssClass=e}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(c){c<this.items.length&&c>=-1&&(this.dropCursor(),this.cursor=c,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(c){this.items=c}next(){this.cursor=this.leafNodesAndReturnIndex(ce.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(ce.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(c){if(this.items.length===0)return this.cursor;let e=this.cursor;return e===-1?e=c===ce.directions.RIGHT?-1:0:this.items[e].classList.remove(this.focusedCssClass),c===ce.directions.RIGHT?e=(e+1)%this.items.length:e=(this.items.length+e-1)%this.items.length,d.canSetCaret(this.items[e])&&oe(()=>m.setCursor(this.items[e]),50)(),this.items[e].classList.add(this.focusedCssClass),e}};let ne=ce;ne.directions={RIGHT:"right",LEFT:"left"};class G{constructor(e){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=t=>{if(this.isEventReadyForHandling(t))switch(G.usedKeys.includes(t.keyCode)&&t.preventDefault(),t.keyCode){case B.TAB:this.handleTabPress(t);break;case B.LEFT:case B.UP:this.flipLeft();break;case B.RIGHT:case B.DOWN:this.flipRight();break;case B.ENTER:this.handleEnterPress(t);break}},this.iterator=new ne(e.items,e.focusedItemClass),this.activateCallback=e.activateCallback,this.allowedKeys=e.allowedKeys||G.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[B.TAB,B.LEFT,B.RIGHT,B.ENTER,B.UP,B.DOWN]}activate(e,t){this.activated=!0,e&&this.iterator.setItems(e),t!==void 0&&this.iterator.setCursor(t),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(e){this.flipCallbacks.push(e)}removeOnFlip(e){this.flipCallbacks=this.flipCallbacks.filter(t=>t!==e)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}handleTabPress(e){switch(e.shiftKey?ne.directions.LEFT:ne.directions.RIGHT){case ne.directions.RIGHT:this.flipRight();break;case ne.directions.LEFT:this.flipLeft();break}}handleEnterPress(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),D(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(e=>e())}}class ue{static get CSS(){return{wrapper:"cdx-search-field",icon:"cdx-search-field__icon",input:"cdx-search-field__input"}}constructor({items:e,onSearch:t,placeholder:i}){this.listeners=new Re,this.items=e,this.onSearch=t,this.render(i)}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.onSearch("",this.foundItems)}destroy(){this.listeners.removeAll()}render(e){this.wrapper=d.make("div",ue.CSS.wrapper);const t=d.make("div",ue.CSS.icon,{innerHTML:Lo});this.input=d.make("input",ue.CSS.input,{placeholder:e}),this.wrapper.appendChild(t),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.onSearch(this.searchQuery,this.foundItems)})}get foundItems(){return this.items.filter(e=>this.checkItem(e))}checkItem(e){var t;const i=((t=e.title)==null?void 0:t.toLowerCase())||"",o=this.searchQuery.toLowerCase();return i.includes(o)}}const de=class{lock(){Ge?this.lockHard():document.body.classList.add(de.CSS.scrollLocked)}unlock(){Ge?this.unlockHard():document.body.classList.remove(de.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(de.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(de.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};let ft=de;ft.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};var _o=Object.defineProperty,Ao=Object.getOwnPropertyDescriptor,No=(c,e,t,i)=>{for(var o=i>1?void 0:i?Ao(e,t):e,n=c.length-1,r;n>=0;n--)(r=c[n])&&(o=(i?r(e,t,o):r(o))||o);return i&&o&&_o(e,t,o),o},fe=(c=>(c.Close="close",c))(fe||{});const z=class extends we{constructor(c){super(),this.scopeElement=document.body,this.listeners=new Re,this.scrollLocker=new ft,this.nodes={wrapper:null,popover:null,nothingFoundMessage:null,customContent:null,items:null,overlay:null},this.messages={nothingFound:"Nothing found",search:"Search"},this.onFlip=()=>{this.items.find(e=>e.isFocused).onFocus()},this.items=c.items.map(e=>new P(e)),c.scopeElement!==void 0&&(this.scopeElement=c.scopeElement),c.messages&&(this.messages={...this.messages,...c.messages}),c.customContentFlippableItems&&(this.customContentFlippableItems=c.customContentFlippableItems),this.make(),c.customContent&&this.addCustomContent(c.customContent),c.searchable&&this.addSearch(),this.initializeFlipper()}static get CSS(){return{popover:"ce-popover",popoverOpenTop:"ce-popover--open-top",popoverOpened:"ce-popover--opened",search:"ce-popover__search",nothingFoundMessage:"ce-popover__nothing-found-message",nothingFoundMessageDisplayed:"ce-popover__nothing-found-message--displayed",customContent:"ce-popover__custom-content",customContentHidden:"ce-popover__custom-content--hidden",items:"ce-popover__items",overlay:"ce-popover__overlay",overlayHidden:"ce-popover__overlay--hidden"}}getElement(){return this.nodes.wrapper}hasFocus(){return this.flipper.hasFocus()}show(){this.shouldOpenBottom||(this.nodes.popover.style.setProperty("--popover-height",this.height+"px"),this.nodes.popover.classList.add(z.CSS.popoverOpenTop)),this.nodes.overlay.classList.remove(z.CSS.overlayHidden),this.nodes.popover.classList.add(z.CSS.popoverOpened),this.flipper.activate(this.flippableElements),this.search!==void 0&&setTimeout(()=>{this.search.focus()},100),ee()&&this.scrollLocker.lock()}hide(){this.nodes.popover.classList.remove(z.CSS.popoverOpened),this.nodes.popover.classList.remove(z.CSS.popoverOpenTop),this.nodes.overlay.classList.add(z.CSS.overlayHidden),this.flipper.deactivate(),this.items.forEach(c=>c.reset()),this.search!==void 0&&this.search.clear(),ee()&&this.scrollLocker.unlock(),this.emit("close")}destroy(){this.flipper.deactivate(),this.listeners.removeAll(),ee()&&this.scrollLocker.unlock()}make(){this.nodes.popover=d.make("div",[z.CSS.popover]),this.nodes.nothingFoundMessage=d.make("div",[z.CSS.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popover.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=d.make("div",[z.CSS.items]),this.items.forEach(c=>{this.nodes.items.appendChild(c.getElement())}),this.nodes.popover.appendChild(this.nodes.items),this.listeners.on(this.nodes.popover,"click",c=>{const e=this.getTargetItem(c);e!==void 0&&this.handleItemClick(e)}),this.nodes.wrapper=d.make("div"),this.nodes.overlay=d.make("div",[z.CSS.overlay,z.CSS.overlayHidden]),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.nodes.wrapper.appendChild(this.nodes.overlay),this.nodes.wrapper.appendChild(this.nodes.popover)}addSearch(){this.search=new ue({items:this.items,placeholder:this.messages.search,onSearch:(e,t)=>{this.items.forEach(o=>{const n=!t.includes(o);o.toggleHidden(n)}),this.toggleNothingFoundMessage(t.length===0),this.toggleCustomContent(e!=="");const i=e===""?this.flippableElements:t.map(o=>o.getElement());this.flipper.isActivated&&(this.flipper.deactivate(),this.flipper.activate(i))}});const c=this.search.getElement();c.classList.add(z.CSS.search),this.nodes.popover.insertBefore(c,this.nodes.popover.firstChild)}addCustomContent(c){this.nodes.customContent=c,this.nodes.customContent.classList.add(z.CSS.customContent),this.nodes.popover.insertBefore(c,this.nodes.popover.firstChild)}getTargetItem(c){return this.items.find(e=>c.composedPath().includes(e.getElement()))}handleItemClick(c){c.isDisabled||(this.items.filter(e=>e!==c).forEach(e=>e.reset()),c.handleClick(),this.toggleItemActivenessIfNeeded(c),c.closeOnActivate&&this.hide())}initializeFlipper(){this.flipper=new G({items:this.flippableElements,focusedItemClass:P.CSS.focused,allowedKeys:[B.TAB,B.UP,B.DOWN,B.ENTER]}),this.flipper.onFlip(this.onFlip)}get flippableElements(){const c=this.items.map(e=>e.getElement());return(this.customContentFlippableItems||[]).concat(c)}get height(){let c=0;if(this.nodes.popover===null)return c;const e=this.nodes.popover.cloneNode(!0);return e.style.visibility="hidden",e.style.position="absolute",e.style.top="-1000px",e.classList.add(z.CSS.popoverOpened),document.body.appendChild(e),c=e.offsetHeight,e.remove(),c}get shouldOpenBottom(){const c=this.nodes.popover.getBoundingClientRect(),e=this.scopeElement.getBoundingClientRect(),t=this.height,i=c.top+t,o=c.top-t,n=Math.min(window.innerHeight,e.bottom);return o<e.top||i<=n}toggleNothingFoundMessage(c){this.nodes.nothingFoundMessage.classList.toggle(z.CSS.nothingFoundMessageDisplayed,c)}toggleCustomContent(c){var e;(e=this.nodes.customContent)==null||e.classList.toggle(z.CSS.customContentHidden,c)}toggleItemActivenessIfNeeded(c){if(c.toggle===!0&&c.toggleActive(),typeof c.toggle=="string"){const e=this.items.filter(t=>t.toggle===c.toggle);if(e.length===1){c.toggleActive();return}e.forEach(t=>{t.toggleActive(t===c)})}}};let He=z;No([ae],He.prototype,"height",1);class Ro extends S{constructor(){super(...arguments),this.opened=!1,this.selection=new m,this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var e;return(e=this.popover)==null?void 0:e.flipper}make(){this.nodes.wrapper=d.make("div",[this.CSS.settings])}destroy(){this.removeAllNodes()}open(e=this.Editor.BlockManager.currentBlock){this.opened=!0,this.selection.save(),e.selected=!0,this.Editor.BlockSelection.clearCache();const[t,i]=e.getTunes();this.eventsDispatcher.emit(this.events.opened),this.popover=new He({searchable:!0,items:t.map(o=>this.resolveTuneAliases(o)),customContent:i,customContentFlippableItems:this.getControls(i),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:$.ui(X.ui.popover,"Nothing found"),search:$.ui(X.ui.popover,"Filter")}}),this.popover.on(fe.Close,this.onPopoverClose),this.nodes.wrapper.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}close(){this.opened=!1,m.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&(this.Editor.BlockManager.currentBlock.selected=!1),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(fe.Close,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null)}getControls(e){const{StylesAPI:t}=this.Editor,i=e.querySelectorAll(`.${t.classes.settingsButton}, ${d.allInputsSelector}`);return Array.from(i)}resolveTuneAliases(e){const t=yo(e,{label:"title"});return e.confirmation&&(t.confirmation=this.resolveTuneAliases(e.confirmation)),t}}class Y extends S{constructor(){super(...arguments),this.opened=!1,this.tools=[],this.flipper=null,this.togglingCallback=null}static get CSS(){return{conversionToolbarWrapper:"ce-conversion-toolbar",conversionToolbarShowed:"ce-conversion-toolbar--showed",conversionToolbarTools:"ce-conversion-toolbar__tools",conversionToolbarLabel:"ce-conversion-toolbar__label",conversionTool:"ce-conversion-tool",conversionToolHidden:"ce-conversion-tool--hidden",conversionToolIcon:"ce-conversion-tool__icon",conversionToolFocused:"ce-conversion-tool--focused",conversionToolActive:"ce-conversion-tool--active"}}make(){this.nodes.wrapper=d.make("div",[Y.CSS.conversionToolbarWrapper,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.tools=d.make("div",Y.CSS.conversionToolbarTools);const e=d.make("div",Y.CSS.conversionToolbarLabel,{textContent:$.ui(X.ui.inlineToolbar.converter,"Convert to")});return this.addTools(),this.enableFlipper(),d.append(this.nodes.wrapper,e),d.append(this.nodes.wrapper,this.nodes.tools),this.nodes.wrapper}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}toggle(e){this.opened?this.close():this.open(),D(e)&&(this.togglingCallback=e)}open(){this.filterTools(),this.opened=!0,this.nodes.wrapper.classList.add(Y.CSS.conversionToolbarShowed),window.requestAnimationFrame(()=>{this.flipper.activate(this.tools.map(e=>e.button).filter(e=>!e.classList.contains(Y.CSS.conversionToolHidden))),this.flipper.focusFirst(),D(this.togglingCallback)&&this.togglingCallback(!0)})}close(){this.opened=!1,this.flipper.deactivate(),this.nodes.wrapper.classList.remove(Y.CSS.conversionToolbarShowed),D(this.togglingCallback)&&this.togglingCallback(!1)}hasTools(){return this.tools.length===1?this.tools[0].name!==this.config.defaultBlock:!0}async replaceWithBlock(e,t){const i=this.Editor.BlockManager.currentBlock.tool,o=(await this.Editor.BlockManager.currentBlock.save()).data,n=this.Editor.Tools.blockTools.get(e);let r="";const l=i.conversionConfig.export;if(D(l))r=l(o);else if(J(l))r=o[l];else{T("Conversion «export» property must be a string or function. String means key of saved data object to export. Function should export processed string to export.");return}const s=Z(r,n.sanitizeConfig);let a={};const h=n.conversionConfig.import;if(D(h))a=h(s);else if(J(h))a[h]=s;else{T("Conversion «import» property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data.");return}t&&(a=Object.assign(a,t)),this.Editor.BlockManager.replace({tool:e,data:a}),this.Editor.BlockSelection.clearSelection(),this.close(),this.Editor.InlineToolbar.close(),oe(()=>{this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock)},10)()}addTools(){const e=this.Editor.Tools.blockTools;Array.from(e.entries()).forEach(([t,i])=>{const o=i.conversionConfig;!o||!o.import||i.toolbox.forEach(n=>this.addToolIfValid(t,n))})}addToolIfValid(e,t){V(t)||!t.icon||this.addTool(e,t)}addTool(e,t){const i=d.make("div",[Y.CSS.conversionTool]),o=d.make("div",[Y.CSS.conversionToolIcon]);i.dataset.tool=e,o.innerHTML=t.icon,d.append(i,o),d.append(i,d.text($.t(X.toolNames,t.title||ke(e)))),d.append(this.nodes.tools,i),this.tools.push({name:e,button:i,toolboxItem:t}),this.listeners.on(i,"click",async()=>{await this.replaceWithBlock(e,t.data)})}async filterTools(){const{currentBlock:e}=this.Editor.BlockManager,t=await e.getActiveToolboxEntry();function i(o,n){return o.icon===n.icon&&o.title===n.title}this.tools.forEach(o=>{let n=!1;if(t){const r=i(t,o.toolboxItem);n=o.button.dataset.tool===e.name&&r}o.button.hidden=n,o.button.classList.toggle(Y.CSS.conversionToolHidden,n)})}enableFlipper(){this.flipper=new G({focusedItemClass:Y.CSS.conversionToolFocused})}}var Ae={},Do={get exports(){return Ae},set exports(c){Ae=c}};/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */(function(c,e){(function(t,i){c.exports=i()})(window,function(){return function(t){var i={};function o(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=i,o.d=function(n,r,l){o.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:l})},o.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.t=function(n,r){if(1&r&&(n=o(n)),8&r||4&r&&typeof n=="object"&&n&&n.__esModule)return n;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:n}),2&r&&typeof n!="string")for(var s in n)o.d(l,s,function(a){return n[a]}.bind(null,s));return l},o.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(r,"a",r),r},o.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},o.p="",o(o.s=0)}([function(t,i,o){function n(s,a){for(var h=0;h<a.length;h++){var u=a[h];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(s,u.key,u)}}function r(s,a,h){return a&&n(s.prototype,a),h&&n(s,h),s}o.r(i);var l=function(){function s(a){var h=this;(function(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")})(this,s),this.commands={},this.keys={},this.name=a.name,this.parseShortcutName(a.name),this.element=a.on,this.callback=a.callback,this.executeShortcut=function(u){h.execute(u)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return r(s,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),r(s,[{key:"parseShortcutName",value:function(a){a=a.split("+");for(var h=0;h<a.length;h++){a[h]=a[h].toUpperCase();var u=!1;for(var p in s.supportedCommands)if(s.supportedCommands[p].includes(a[h])){u=this.commands[p]=!0;break}u||(this.keys[a[h]]=!0)}for(var A in s.supportedCommands)this.commands[A]||(this.commands[A]=!1)}},{key:"execute",value:function(a){var h,u={CMD:a.ctrlKey||a.metaKey,SHIFT:a.shiftKey,ALT:a.altKey},p=!0;for(h in this.commands)this.commands[h]!==u[h]&&(p=!1);var A,y=!0;for(A in this.keys)y=y&&a.keyCode===s.keyCodes[A];p&&y&&this.callback(a)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),s}();i.default=l}]).default})})(Do);const Po=xe(Ae);class Fo{constructor(){this.registeredShortcuts=new Map}add(e){if(this.findShortcut(e.on,e.name))throw Error(`Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`);const t=new Po({name:e.name,on:e.on,callback:e.handler}),i=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[...i,t])}remove(e,t){const i=this.findShortcut(e,t);if(!i)return;i.remove();const o=this.registeredShortcuts.get(e);this.registeredShortcuts.set(e,o.filter(n=>n!==i))}findShortcut(e,t){return(this.registeredShortcuts.get(e)||[]).find(({name:i})=>i===t)}}const re=new Fo;var Ho=Object.defineProperty,zo=Object.getOwnPropertyDescriptor,gt=(c,e,t,i)=>{for(var o=i>1?void 0:i?zo(e,t):e,n=c.length-1,r;n>=0;n--)(r=c[n])&&(o=(i?r(e,t,o):r(o))||o);return i&&o&&Ho(e,t,o),o},be=(c=>(c.Opened="toolbox-opened",c.Closed="toolbox-closed",c.BlockAdded="toolbox-block-added",c))(be||{});const bt=class extends we{constructor({api:c,tools:e,i18nLabels:t}){super(),this.opened=!1,this.nodes={toolbox:null},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=c,this.tools=e,this.i18nLabels=t}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}make(){return this.popover=new He({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(fe.Close,this.onPopoverClose),this.enableShortcuts(),this.nodes.toolbox=this.popover.getElement(),this.nodes.toolbox.classList.add(bt.CSS.toolbox),this.nodes.toolbox}hasFocus(){var c;return(c=this.popover)==null?void 0:c.hasFocus()}destroy(){var c;super.destroy(),this.nodes&&this.nodes.toolbox&&(this.nodes.toolbox.remove(),this.nodes.toolbox=null),this.removeAllShortcuts(),(c=this.popover)==null||c.off(fe.Close,this.onPopoverClose)}toolButtonActivated(c,e){this.insertNewBlock(c,e)}open(){var c;this.isEmpty||((c=this.popover)==null||c.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var c;(c=this.popover)==null||c.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}get toolsToBeDisplayed(){const c=[];return this.tools.forEach(e=>{e.toolbox&&c.push(e)}),c}get toolboxItemsToBeDisplayed(){const c=(e,t)=>({icon:e.icon,title:$.t(X.toolNames,e.title||ke(t.name)),name:t.name,onActivate:()=>{this.toolButtonActivated(t.name,e.data)},secondaryLabel:t.shortcut?nt(t.shortcut):""});return this.toolsToBeDisplayed.reduce((e,t)=>(Array.isArray(t.toolbox)?t.toolbox.forEach(i=>{e.push(c(i,t))}):t.toolbox!==void 0&&e.push(c(t.toolbox,t)),e),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(c=>{const e=c.shortcut;e&&this.enableShortcutForTool(c.name,e)})}enableShortcutForTool(c,e){re.add({name:e,on:this.api.ui.nodes.redactor,handler:t=>{t.preventDefault(),this.insertNewBlock(c)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(c=>{const e=c.shortcut;e&&re.remove(this.api.ui.nodes.redactor,e)})}async insertNewBlock(c,e){const t=this.api.blocks.getCurrentBlockIndex(),i=this.api.blocks.getBlockByIndex(t);if(!i)return;const o=i.isEmpty?t:t+1;let n;if(e){const l=await this.api.blocks.composeBlockData(c);n=Object.assign(l,e)}const r=this.api.blocks.insert(c,n,void 0,o,void 0,i.isEmpty);r.call(q.APPEND_CALLBACK),this.api.caret.setToBlock(o),this.emit("toolbox-block-added",{block:r}),this.api.toolbar.close()}};let ze=bt;gt([ae],ze.prototype,"toolsToBeDisplayed",1);gt([ae],ze.prototype,"toolboxItemsToBeDisplayed",1);const mt="block hovered";class jo extends S{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.tooltip=new Fe}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){return{opened:this.toolboxInstance.opened,close:()=>{this.toolboxInstance.close()},open:()=>{this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>this.toolboxInstance.toggle(),hasFocus:()=>this.toolboxInstance.hasFocus()}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):(this.drawUI(),this.enableModuleBindings())}moveAndOpen(e=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!e)return;this.hoveredBlock=e;const t=e.holder,{isMobile:i}=this.Editor.UI,o=e.pluginsContent,n=window.getComputedStyle(o),r=parseInt(n.paddingTop,10),l=t.offsetHeight;let s;i?s=t.offsetTop+l:s=t.offsetTop+r,this.nodes.wrapper.style.top=`${Math.floor(s)}px`,this.Editor.BlockManager.blocks.length===1&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),this.toolboxInstance.close(),this.Editor.BlockSettings.close())}open(e=!0){oe(()=>{this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),e?this.blockActions.show():this.blockActions.hide()},50)()}make(){this.nodes.wrapper=d.make("div",this.CSS.toolbar),["content","actions"].forEach(t=>{this.nodes[t]=d.make("div",this.CSS[t])}),d.append(this.nodes.wrapper,this.nodes.content),d.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=d.make("div",this.CSS.plusButton,{innerHTML:Mo}),d.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{this.tooltip.hide(!0),this.plusButtonClicked()},!1);const e=d.make("div");e.appendChild(document.createTextNode($.ui(X.ui.toolbar.toolbox,"Add"))),e.appendChild(d.make("div",this.CSS.plusButtonShortcut,{textContent:"⇥ Tab"})),this.tooltip.onHover(this.nodes.plusButton,e,{hidingDelay:400}),this.nodes.settingsToggler=d.make("span",this.CSS.settingsToggler,{innerHTML:Io}),d.append(this.nodes.actions,this.nodes.settingsToggler),this.tooltip.onHover(this.nodes.settingsToggler,$.ui(X.ui.blockTunes.toggler,"Click to tune"),{hidingDelay:400}),d.append(this.nodes.actions,this.makeToolbox()),d.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),d.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new ze({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:$.ui(X.ui.popover,"Filter"),nothingFound:$.ui(X.ui.popover,"Nothing found")}}),this.toolboxInstance.on(be.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(be.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(be.BlockAdded,({block:e})=>{const{BlockManager:t,Caret:i}=this.Editor,o=t.getBlockById(e.id);o.inputs.length===0&&(o===t.lastBlock?(t.insertAtEnd(),i.setToBlock(t.lastBlock)):i.setToBlock(t.nextBlock))}),this.toolboxInstance.make()}plusButtonClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",e=>{e.stopPropagation(),this.settingsTogglerClicked(),this.toolboxInstance.opened&&this.toolboxInstance.close(),this.tooltip.hide(!0)},!0),ee()||this.eventsDispatcher.on(mt,e=>{this.Editor.BlockSettings.opened||this.toolboxInstance.opened||this.moveAndOpen(e.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy(),this.tooltip.destroy()}}var ye=(c=>(c[c.Block=0]="Block",c[c.Inline=1]="Inline",c[c.Tune=2]="Tune",c))(ye||{}),me=(c=>(c.Shortcut="shortcut",c.Toolbox="toolbox",c.EnabledInlineTools="inlineToolbar",c.EnabledBlockTunes="tunes",c.Config="config",c))(me||{}),kt=(c=>(c.Shortcut="shortcut",c.SanitizeConfig="sanitize",c))(kt||{}),se=(c=>(c.IsEnabledLineBreaks="enableLineBreaks",c.Toolbox="toolbox",c.ConversionConfig="conversionConfig",c.IsReadOnlySupported="isReadOnlySupported",c.PasteConfig="pasteConfig",c))(se||{}),je=(c=>(c.IsInline="isInline",c.Title="title",c))(je||{}),vt=(c=>(c.IsTune="isTune",c))(vt||{});class Ue{constructor({name:e,constructable:t,config:i,api:o,isDefault:n,isInternal:r=!1,defaultPlaceholder:l}){this.api=o,this.name=e,this.constructable=t,this.config=i,this.isDefault=n,this.isInternal=r,this.defaultPlaceholder=l}get settings(){const e=this.config.config||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}reset(){if(D(this.constructable.reset))return this.constructable.reset()}prepare(){if(D(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const e=this.constructable.shortcut;return this.config.shortcut||e}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===1}isBlock(){return this.type===0}isTune(){return this.type===2}}class Uo extends S{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.CSS={inlineToolbar:"ce-inline-toolbar",inlineToolbarShowed:"ce-inline-toolbar--showed",inlineToolbarLeftOriented:"ce-inline-toolbar--left-oriented",inlineToolbarRightOriented:"ce-inline-toolbar--right-oriented",inlineToolbarShortcut:"ce-inline-toolbar__shortcut",buttonsWrapper:"ce-inline-toolbar__buttons",actionsWrapper:"ce-inline-toolbar__actions",inlineToolButton:"ce-inline-tool",inputField:"cdx-input",focusedButton:"ce-inline-tool--focused",conversionToggler:"ce-inline-toolbar__dropdown",conversionTogglerArrow:"ce-inline-toolbar__dropdown-arrow",conversionTogglerHidden:"ce-inline-toolbar__dropdown--hidden",conversionTogglerContent:"ce-inline-toolbar__dropdown-content",togglerAndButtonsWrapper:"ce-inline-toolbar__toggler-and-button-wrapper"},this.opened=!1,this.toolbarVerticalMargin=ee()?20:6,this.buttonsList=null,this.width=0,this.flipper=null,this.tooltip=new Fe}toggleReadOnly(e){e?(this.destroy(),this.Editor.ConversionToolbar.destroy()):this.make()}tryToShow(e=!1,t=!0){if(!this.allowedToShow()){e&&this.close();return}this.move(),this.open(t),this.Editor.Toolbar.close()}move(){const e=m.rect,t=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),i={x:e.x-t.left,y:e.y+e.height-t.top+this.toolbarVerticalMargin};e.width&&(i.x+=Math.floor(e.width/2));const o=i.x-this.width/2,n=i.x+this.width/2;this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarLeftOriented,o<this.Editor.UI.contentRect.left),this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarRightOriented,n>this.Editor.UI.contentRect.right),this.nodes.wrapper.style.left=Math.floor(i.x)+"px",this.nodes.wrapper.style.top=Math.floor(i.y)+"px"}close(){this.opened&&(this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed),Array.from(this.toolsInstances.entries()).forEach(([e,t])=>{const i=this.getToolShortcut(e);i&&re.remove(this.Editor.UI.nodes.redactor,i),D(t.clear)&&t.clear()}),this.opened=!1,this.flipper.deactivate(),this.Editor.ConversionToolbar.close()))}open(e=!0){if(this.opened)return;this.addToolsFiltered(),this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed),this.buttonsList=this.nodes.buttons.querySelectorAll(`.${this.CSS.inlineToolButton}`),this.opened=!0,e&&this.Editor.ConversionToolbar.hasTools()?this.setConversionTogglerContent():this.nodes.conversionToggler.hidden=!0;let t=Array.from(this.buttonsList);t.unshift(this.nodes.conversionToggler),t=t.filter(i=>!i.hidden),this.flipper.activate(t)}containsNode(e){return this.nodes.wrapper.contains(e)}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes(),this.tooltip.destroy()}make(){this.nodes.wrapper=d.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.togglerAndButtonsWrapper=d.make("div",this.CSS.togglerAndButtonsWrapper),this.nodes.buttons=d.make("div",this.CSS.buttonsWrapper),this.nodes.actions=d.make("div",this.CSS.actionsWrapper),this.listeners.on(this.nodes.wrapper,"mousedown",e=>{e.target.closest(`.${this.CSS.actionsWrapper}`)||e.preventDefault()}),d.append(this.nodes.wrapper,[this.nodes.togglerAndButtonsWrapper,this.nodes.actions]),d.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),this.addConversionToggler(),d.append(this.nodes.togglerAndButtonsWrapper,this.nodes.buttons),this.prepareConversionToolbar(),this.recalculateWidth(),this.enableFlipper()}allowedToShow(){const e=["IMG","INPUT"],t=m.get(),i=m.text;if(!t||!t.anchorNode||t.isCollapsed||i.length<1)return!1;const o=d.isElement(t.anchorNode)?t.anchorNode:t.anchorNode.parentElement;if(t&&e.includes(o.tagName)||o.closest('[contenteditable="true"]')===null)return!1;const n=this.Editor.BlockManager.getBlock(t.anchorNode);return n?n.tool.inlineTools.size!==0:!1}recalculateWidth(){this.width=this.nodes.wrapper.offsetWidth}addConversionToggler(){this.nodes.conversionToggler=d.make("div",this.CSS.conversionToggler),this.nodes.conversionTogglerContent=d.make("div",this.CSS.conversionTogglerContent);const e=d.make("div",this.CSS.conversionTogglerArrow,{innerHTML:pt});this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent),this.nodes.conversionToggler.appendChild(e),this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler),this.listeners.on(this.nodes.conversionToggler,"click",()=>{this.Editor.ConversionToolbar.toggle(t=>{!t&&this.opened?this.flipper.activate():this.opened&&this.flipper.deactivate()})}),ee()===!1&&this.tooltip.onHover(this.nodes.conversionToggler,$.ui(X.ui.inlineToolbar.converter,"Convert to"),{placement:"top",hidingDelay:100})}async setConversionTogglerContent(){const{BlockManager:e}=this.Editor,{currentBlock:t}=e,i=t.name,o=t.tool.conversionConfig,n=o&&o.export;this.nodes.conversionToggler.hidden=!n,this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden,!n);const r=await t.getActiveToolboxEntry()||{};this.nodes.conversionTogglerContent.innerHTML=r.icon||r.title||ke(i)}prepareConversionToolbar(){const e=this.Editor.ConversionToolbar.make();d.append(this.nodes.wrapper,e)}addToolsFiltered(){const e=m.get(),t=this.Editor.BlockManager.getBlock(e.anchorNode);this.nodes.buttons.innerHTML="",this.nodes.actions.innerHTML="",this.toolsInstances=new Map,Array.from(t.tool.inlineTools.values()).forEach(i=>{this.addTool(i)}),this.recalculateWidth()}addTool(e){const t=e.create(),i=t.render();if(!i){T("Render method must return an instance of Node","warn",e.name);return}if(i.dataset.tool=e.name,this.nodes.buttons.appendChild(i),this.toolsInstances.set(e.name,t),D(t.renderActions)){const l=t.renderActions();this.nodes.actions.appendChild(l)}this.listeners.on(i,"click",l=>{this.toolClicked(t),l.preventDefault()});const o=this.getToolShortcut(e.name);if(o)try{this.enableShortcuts(t,o)}catch{}const n=d.make("div"),r=$.t(X.toolNames,e.title||ke(e.name));n.appendChild(d.text(r)),o&&n.appendChild(d.make("div",this.CSS.inlineToolbarShortcut,{textContent:nt(o)})),ee()===!1&&this.tooltip.onHover(i,n,{placement:"top",hidingDelay:100}),t.checkState(m.get())}getToolShortcut(e){const{Tools:t}=this.Editor,i=t.inlineTools.get(e),o=t.internal.inlineTools;return Array.from(o.keys()).includes(e)?this.inlineTools[e][kt.Shortcut]:i.shortcut}enableShortcuts(e,t){re.add({name:t,handler:i=>{const{currentBlock:o}=this.Editor.BlockManager;o&&o.tool.enabledInlineTools&&(i.preventDefault(),this.toolClicked(e))},on:this.Editor.UI.nodes.redactor})}toolClicked(e){const t=m.range;e.surround(t),this.checkToolsState(),e.renderActions!==void 0&&this.flipper.deactivate()}checkToolsState(){this.toolsInstances.forEach(e=>{e.checkState(m.get())})}get inlineTools(){const e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([t,i])=>{e[t]=i.create()}),e}enableFlipper(){this.flipper=new G({focusedItemClass:this.CSS.focusedButton,allowedKeys:[B.ENTER,B.TAB]})}}class $o extends S{keydown(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case B.BACKSPACE:this.backspace(e);break;case B.ENTER:this.enter(e);break;case B.DOWN:case B.RIGHT:this.arrowRightAndDown(e);break;case B.UP:case B.LEFT:this.arrowLeftAndUp(e);break;case B.TAB:this.tabPressed(e);break}}beforeKeydownProcessing(e){this.needToolbarClosing(e)&&tt(e.keyCode)&&(this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||(this.Editor.BlockManager.clearFocused(),this.Editor.BlockSelection.clearSelection(e)))}keyup(e){e.shiftKey||this.Editor.UI.checkEmptiness()}tabPressed(e){this.Editor.BlockSelection.clearSelection(e);const{BlockManager:t,InlineToolbar:i,ConversionToolbar:o}=this.Editor,n=t.currentBlock;if(!n)return;const r=n.isEmpty,l=n.tool.isDefault&&r,s=!r&&o.opened,a=!r&&!m.isCollapsed&&i.opened;l?this.activateToolbox():!s&&!a&&this.activateBlockSettings()}dragOver(e){const t=this.Editor.BlockManager.getBlockByChildNode(e.target);t.dropTarget=!0}dragLeave(e){const t=this.Editor.BlockManager.getBlockByChildNode(e.target);t.dropTarget=!1}handleCommandC(e){const{BlockSelection:t}=this.Editor;t.anyBlockSelected&&t.copySelectedBlocks(e)}handleCommandX(e){const{BlockSelection:t,BlockManager:i,Caret:o}=this.Editor;t.anyBlockSelected&&t.copySelectedBlocks(e).then(()=>{const n=i.removeSelectedBlocks(),r=i.insertDefaultBlockAtIndex(n,!0);o.setToBlock(r,o.positions.START),t.clearSelection(e)})}enter(e){const{BlockManager:t,UI:i}=this.Editor;if(t.currentBlock.tool.isLineBreaksEnabled||i.someToolbarOpened&&i.someFlipperButtonFocused||e.shiftKey)return;let o=this.Editor.BlockManager.currentBlock;this.Editor.Caret.isAtStart&&!this.Editor.BlockManager.currentBlock.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):this.Editor.Caret.isAtEnd?o=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):o=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(o),this.Editor.Toolbar.moveAndOpen(o),e.preventDefault()}backspace(e){const{BlockManager:t,BlockSelection:i,Caret:o}=this.Editor,n=t.currentBlock,r=n.tool;if(n.selected||n.isEmpty&&n.currentInput===n.firstInput){e.preventDefault();const s=t.currentBlockIndex;t.previousBlock&&t.previousBlock.inputs.length===0?t.removeBlock(s-1):t.removeBlock(),o.setToBlock(t.currentBlock,s?o.positions.END:o.positions.START),this.Editor.Toolbar.close(),i.clearSelection(e);return}if(r.isLineBreaksEnabled&&!o.isAtStart)return;const l=t.currentBlockIndex===0;o.isAtStart&&m.isCollapsed&&n.currentInput===n.firstInput&&!l&&(e.preventDefault(),this.mergeBlocks())}mergeBlocks(){const{BlockManager:e,Caret:t,Toolbar:i}=this.Editor,o=e.previousBlock,n=e.currentBlock;if(n.name!==o.name||!o.mergeable){if(o.inputs.length===0||o.isEmpty){e.removeBlock(e.currentBlockIndex-1),t.setToBlock(e.currentBlock),i.close();return}t.navigatePrevious()&&i.close();return}t.createShadow(o.pluginsContent),e.mergeBlocks(o,n).then(()=>{t.restoreCaret(o.pluginsContent),o.pluginsContent.normalize(),i.close()})}arrowRightAndDown(e){const t=G.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===B.TAB);if(this.Editor.UI.someToolbarOpened&&t)return;this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();const i=this.Editor.Caret.isAtEnd||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===B.DOWN&&i){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}(e.keyCode===B.DOWN||e.keyCode===B.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious())?e.preventDefault():oe(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}arrowLeftAndUp(e){if(this.Editor.UI.someToolbarOpened){if(G.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===B.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();const t=this.Editor.Caret.isAtStart||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===B.UP&&t){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}(e.keyCode===B.UP||e.keyCode===B.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext())?e.preventDefault():oe(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}needToolbarClosing(e){const t=e.keyCode===B.ENTER&&this.Editor.Toolbar.toolbox.opened,i=e.keyCode===B.ENTER&&this.Editor.BlockSettings.opened,o=e.keyCode===B.ENTER&&this.Editor.InlineToolbar.opened,n=e.keyCode===B.ENTER&&this.Editor.ConversionToolbar.opened,r=e.keyCode===B.TAB;return!(e.shiftKey||r||t||i||o||n)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||(this.Editor.BlockManager.currentBlock.focused=!0,this.Editor.Toolbar.moveAndOpen()),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}class Ce{constructor(e){this.blocks=[],this.workingArea=e}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return it(this.workingArea.children)}static set(e,t,i){return isNaN(Number(t))?(Reflect.set(e,t,i),!0):(e.insert(+t,i),!0)}static get(e,t){return isNaN(Number(t))?Reflect.get(e,t):e.get(+t)}push(e){this.blocks.push(e),this.insertToDOM(e)}swap(e,t){const i=this.blocks[t];d.swap(this.blocks[e].holder,i.holder),this.blocks[t]=this.blocks[e],this.blocks[e]=i}move(e,t){const i=this.blocks.splice(t,1)[0],o=e-1,n=Math.max(0,o),r=this.blocks[n];e>0?this.insertToDOM(i,"afterend",r):this.insertToDOM(i,"beforebegin",r),this.blocks.splice(e,0,i);const l=this.composeBlockEvent("move",{fromIndex:t,toIndex:e});i.call(q.MOVED,l)}insert(e,t,i=!1){if(!this.length){this.push(t);return}e>this.length&&(e=this.length),i&&(this.blocks[e].holder.remove(),this.blocks[e].call(q.REMOVED));const o=i?1:0;if(this.blocks.splice(e,o,t),e>0){const n=this.blocks[e-1];this.insertToDOM(t,"afterend",n)}else{const n=this.blocks[e+1];n?this.insertToDOM(t,"beforebegin",n):this.insertToDOM(t)}}remove(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(q.REMOVED),this.blocks.splice(e,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(e=>e.call(q.REMOVED)),this.blocks.length=0}insertAfter(e,t){const i=this.blocks.indexOf(e);this.insert(i+1,t)}get(e){return this.blocks[e]}indexOf(e){return this.blocks.indexOf(e)}insertToDOM(e,t,i){t?i.holder.insertAdjacentElement(t,e.holder):this.workingArea.appendChild(e.holder),e.call(q.RENDERED)}composeBlockEvent(e,t){return new CustomEvent(e,{detail:t})}}const Je="block-removed",Qe="block-added",Wo="block-moved",Yo="block-changed";class Ko extends S{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(e){this._currentBlockIndex=e}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(e){this.currentBlockIndex=this.getBlockIndex(e)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(e=>!!e.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(e=>!!e.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(e=>e.isEmpty)}prepare(){const e=new Ce(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(e,{set:Ce.set,get:Ce.get}),this.listeners.on(document,"copy",t=>this.Editor.BlockEvents.handleCommandC(t))}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:e,data:t={},id:i=void 0,tunes:o={}}){const n=this.Editor.ReadOnly.isEnabled,r=this.Editor.Tools.blockTools.get(e),l=new F({id:i,data:t,tool:r,api:this.Editor.API,readOnly:n,tunesData:o},this.eventsDispatcher);return n||this.bindBlockEvents(l),l}insert({id:e=void 0,tool:t=this.config.defaultBlock,data:i={},index:o,needToFocus:n=!0,replace:r=!1,tunes:l={}}={}){let s=o;s===void 0&&(s=this.currentBlockIndex+(r?0:1));const a=this.composeBlock({id:e,tool:t,data:i,tunes:l});return r&&this.blockDidMutated(Je,this.getBlockByIndex(s),{index:s}),this._blocks.insert(s,a,r),this.blockDidMutated(Qe,a,{index:s}),n?this.currentBlockIndex=s:s<=this.currentBlockIndex&&this.currentBlockIndex++,a}replace({tool:e=this.config.defaultBlock,data:t={}}){return this.insert({tool:e,data:t,index:this.currentBlockIndex,replace:!0})}paste(e,t,i=!1){const o=this.insert({tool:e,replace:i});try{o.call(q.ON_PASTE,t)}catch(n){T(`${e}: onPaste callback call is failed`,"error",n)}return o}insertDefaultBlockAtIndex(e,t=!1){const i=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=i,this.blockDidMutated(Qe,i,{index:e}),t?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,i}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(e,t){const i=this._blocks.indexOf(t);if(t.isEmpty)return;const o=await t.data;V(o)||await e.mergeWith(o),this.removeBlock(i),this.currentBlockIndex=this._blocks.indexOf(e)}removeBlock(e=this.currentBlockIndex){if(!this.validateIndex(e))throw new Error("Can't find a Block to remove");const t=this._blocks[e];t.destroy(),this._blocks.remove(e),this.blockDidMutated(Je,t,{index:e}),this.currentBlockIndex>=e&&this.currentBlockIndex--,this.blocks.length?e===0&&(this.currentBlockIndex=0):(this.currentBlockIndex=-1,this.insert())}removeSelectedBlocks(){let e;for(let t=this.blocks.length-1;t>=0;t--)this.blocks[t].selected&&(this.removeBlock(t),e=t);return e}removeAllBlocks(){for(let e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.currentBlockIndex=-1,this.insert(),this.currentBlock.firstInput.focus()}split(){const e=this.Editor.Caret.extractFragmentFromCaretPosition(),t=d.make("div");t.appendChild(e);const i={text:d.isEmpty(t)?"":t.innerHTML};return this.insert({data:i})}getBlockByIndex(e){return e===-1&&(e=this._blocks.length-1),this._blocks[e]}getBlockIndex(e){return this._blocks.indexOf(e)}getBlockById(e){return this._blocks.array.find(t=>t.id===e)}getBlock(e){d.isElement(e)||(e=e.parentNode);const t=this._blocks.nodes,i=e.closest(`.${F.CSS.wrapper}`),o=t.indexOf(i);if(o>=0)return this._blocks[o]}highlightCurrentNode(){this.clearFocused(),this.currentBlock.focused=!0}clearFocused(){this.blocks.forEach(e=>{e.focused=!1})}setCurrentBlockByChildNode(e){d.isElement(e)||(e=e.parentNode);const t=e.closest(`.${F.CSS.wrapper}`);if(!t)return;const i=t.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(i!=null&&i.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(t),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(e){d.isElement(e)||(e=e.parentNode);const t=e.closest(`.${F.CSS.wrapper}`);return this.blocks.find(i=>i.holder===t)}swap(e,t){this._blocks.swap(e,t),this.currentBlockIndex=t}move(e,t=this.currentBlockIndex){if(isNaN(e)||isNaN(t)){T("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(e)||!this.validateIndex(t)){T("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(e,t),this.currentBlockIndex=e,this.blockDidMutated(Wo,this.currentBlock,{fromIndex:t,toIndex:e})}dropPointer(){this.currentBlockIndex=-1,this.clearFocused()}clear(e=!1){this._blocks.removeAll(),this.dropPointer(),e&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map(e=>e.destroy()))}bindBlockEvents(e){const{BlockEvents:t}=this.Editor;this.readOnlyMutableListeners.on(e.holder,"keydown",i=>{t.keydown(i)}),this.readOnlyMutableListeners.on(e.holder,"keyup",i=>{t.keyup(i)}),this.readOnlyMutableListeners.on(e.holder,"dragover",i=>{t.dragOver(i)}),this.readOnlyMutableListeners.on(e.holder,"dragleave",i=>{t.dragLeave(i)}),e.on("didMutated",i=>this.blockDidMutated(Yo,i,{index:this.getBlockIndex(i)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",e=>this.Editor.BlockEvents.handleCommandX(e)),this.blocks.forEach(e=>{this.bindBlockEvents(e)})}validateIndex(e){return!(e<0||e>=this._blocks.length)}blockDidMutated(e,t,i){const o=new CustomEvent(e,{detail:{target:new he(t),...i}});return this.eventsDispatcher.emit(lt,{event:o}),t}}class Xo extends S{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:e}=this.Editor;return e.blocks.every(t=>t.selected===!0)}set allBlocksSelected(e){const{BlockManager:t}=this.Editor;t.blocks.forEach(i=>{i.selected=e}),this.clearCache()}get anyBlockSelected(){const{BlockManager:e}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=e.blocks.some(t=>t.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(e=>e.selected)}prepare(){this.selection=new m,re.add({name:"CMD+A",handler:e=>{const{BlockManager:t,ReadOnly:i}=this.Editor;if(i.isEnabled){e.preventDefault(),this.selectAllBlocks();return}t.currentBlock&&this.handleCommandA(e)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){m.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(e){const{BlockManager:t}=this.Editor;let i;isNaN(e)?i=t.currentBlock:i=t.getBlockByIndex(e),i.selected=!1,this.clearCache()}clearSelection(e,t=!1){const{BlockManager:i,Caret:o,RectangleSelection:n}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const r=e&&e instanceof KeyboardEvent,l=r&&tt(e.keyCode);if(this.anyBlockSelected&&r&&l&&!m.isSelectionExists){const s=i.removeSelectedBlocks();i.insertDefaultBlockAtIndex(s,!0),o.setToBlock(i.currentBlock),oe(()=>{const a=e.key;o.insertContentAtCaretPosition(a.length>1?"":a)},20)()}if(this.Editor.CrossBlockSelection.clear(e),!this.anyBlockSelected||n.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}t&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(e){e.preventDefault();const t=d.make("div");this.selectedBlocks.forEach(n=>{const r=Z(n.holder.innerHTML,this.sanitizerConfig),l=d.make("p");l.innerHTML=r,t.appendChild(l)});const i=Array.from(t.childNodes).map(n=>n.textContent).join(`

`),o=t.innerHTML;return e.clipboardData.setData("text/plain",i),e.clipboardData.setData("text/html",o),Promise.all(this.selectedBlocks.map(n=>n.save())).then(n=>{try{e.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(n))}catch{}})}selectBlockByIndex(e){const{BlockManager:t}=this.Editor;t.clearFocused();let i;isNaN(e)?i=t.currentBlock:i=t.getBlockByIndex(e),this.selection.save(),m.get().removeAllRanges(),i.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}clearCache(){this.anyBlockSelectedCache=null}destroy(){re.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(e){if(this.Editor.RectangleSelection.clearSelection(),d.isNativeInput(e.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}const t=this.Editor.BlockManager.getBlock(e.target).inputs;if(t.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(t.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1,this.Editor.ConversionToolbar.close()):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlockByIndex(),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),m.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}class ve extends S{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}get isAtStart(){const e=m.get(),t=d.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput);let i=e.focusNode;if(d.isNativeInput(t))return t.selectionEnd===0;if(!e.anchorNode)return!1;let o=i.textContent.search(/\S/);o===-1&&(o=0);let n=e.focusOffset;return i.nodeType!==Node.TEXT_NODE&&i.childNodes.length&&(i.childNodes[n]?(i=i.childNodes[n],n=0):(i=i.childNodes[n-1],n=i.textContent.length)),(d.isLineBreakTag(t)||d.isEmpty(t))&&this.getHigherLevelSiblings(i,"left").every(r=>{const l=d.isLineBreakTag(r),s=r.children.length===1&&d.isLineBreakTag(r.children[0]),a=l||s;return d.isEmpty(r)&&!a})&&n===o?!0:t===null||i===t&&n<=o}get isAtEnd(){const e=m.get();let t=e.focusNode;const i=d.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput,!0);if(d.isNativeInput(i))return i.selectionEnd===i.value.length;if(!e.focusNode)return!1;let o=e.focusOffset;if(t.nodeType!==Node.TEXT_NODE&&t.childNodes.length&&(t.childNodes[o-1]?(t=t.childNodes[o-1],o=t.textContent.length):(t=t.childNodes[0],o=0)),d.isLineBreakTag(i)||d.isEmpty(i)){const r=this.getHigherLevelSiblings(t,"right");if(r.every((l,s)=>s===r.length-1&&d.isLineBreakTag(l)||d.isEmpty(l)&&!d.isLineBreakTag(l))&&o===t.textContent.length)return!0}const n=i.textContent.replace(/\s+$/,"");return t===i&&o>=n.length}setToBlock(e,t=this.positions.DEFAULT,i=0){const{BlockManager:o}=this.Editor;let n;switch(t){case this.positions.START:n=e.firstInput;break;case this.positions.END:n=e.lastInput;break;default:n=e.currentInput}if(!n)return;const r=d.getDeepestNode(n,t===this.positions.END),l=d.getContentLength(r);switch(!0){case t===this.positions.START:i=0;break;case t===this.positions.END:case i>l:i=l;break}oe(()=>{this.set(r,i)},20)(),o.setCurrentBlockByChildNode(e.holder),o.currentBlock.currentInput=n}setToInput(e,t=this.positions.DEFAULT,i=0){const{currentBlock:o}=this.Editor.BlockManager,n=d.getDeepestNode(e);switch(t){case this.positions.START:this.set(n,0);break;case this.positions.END:this.set(n,d.getContentLength(n));break;default:i&&this.set(n,i)}o.currentInput=e}set(e,t=0){const{top:i,bottom:o}=m.setCursor(e,t),{innerHeight:n}=window;i<0&&window.scrollBy(0,i),o>n&&window.scrollBy(0,o-n)}setToTheLastBlock(){const e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{const t=this.Editor.BlockManager.insertAtEnd();this.setToBlock(t)}}extractFragmentFromCaretPosition(){const e=m.get();if(e.rangeCount){const t=e.getRangeAt(0),i=this.Editor.BlockManager.currentBlock.currentInput;if(t.deleteContents(),i)if(d.isNativeInput(i)){const o=i,n=document.createDocumentFragment(),r=o.value.substring(0,o.selectionStart),l=o.value.substring(o.selectionStart);return n.textContent=l,o.value=r,n}else{const o=t.cloneRange();return o.selectNodeContents(i),o.setStart(t.endContainer,t.endOffset),o.extractContents()}}}navigateNext(){const{BlockManager:e}=this.Editor,{currentBlock:t,nextContentfulBlock:i}=e,{nextInput:o}=t,n=this.isAtEnd;let r=i;if(!r&&!o){if(t.tool.isDefault||!n)return!1;r=e.insertAtEnd()}return n?(o?this.setToInput(o,this.positions.START):this.setToBlock(r,this.positions.START),!0):!1}navigatePrevious(){const{currentBlock:e,previousContentfulBlock:t}=this.Editor.BlockManager;if(!e)return!1;const{previousInput:i}=e;return!t&&!i?!1:this.isAtStart?(i?this.setToInput(i,this.positions.END):this.setToBlock(t,this.positions.END),!0):!1}createShadow(e){const t=document.createElement("span");t.classList.add(ve.CSS.shadowCaret),e.insertAdjacentElement("beforeend",t)}restoreCaret(e){const t=e.querySelector(`.${ve.CSS.shadowCaret}`);t&&(new m().expandToTag(t),setTimeout(()=>{const i=document.createRange();i.selectNode(t),i.extractContents()},50))}insertContentAtCaretPosition(e){const t=document.createDocumentFragment(),i=document.createElement("div"),o=m.get(),n=m.range;i.innerHTML=e,Array.from(i.childNodes).forEach(s=>t.appendChild(s)),t.childNodes.length===0&&t.appendChild(new Text);const r=t.lastChild;n.deleteContents(),n.insertNode(t);const l=document.createRange();l.setStart(r,r.textContent.length),o.removeAllRanges(),o.addRange(l)}getHigherLevelSiblings(e,t){let i=e;const o=[];for(;i.parentNode&&i.parentNode.contentEditable!=="true";)i=i.parentNode;const n=t==="left"?"previousSibling":"nextSibling";for(;i[n];)i=i[n],o.push(i);return o}}class Vo extends S{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=e=>{const{BlockManager:t,BlockSelection:i}=this.Editor,o=t.getBlockByChildNode(e.relatedTarget)||this.lastSelectedBlock,n=t.getBlockByChildNode(e.target);if(!(!o||!n)&&n!==o){if(o===this.firstSelectedBlock){m.get().removeAllRanges(),o.selected=!0,n.selected=!0,i.clearCache();return}if(n===this.firstSelectedBlock){o.selected=!1,n.selected=!1,i.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(o,n),this.lastSelectedBlock=n}}}async prepare(){this.listeners.on(document,"mousedown",e=>{this.enableCrossBlockSelection(e)})}watchSelection(e){if(e.button!==_t.LEFT)return;const{BlockManager:t}=this.Editor;this.firstSelectedBlock=t.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock}toggleBlockSelectedState(e=!0){const{BlockManager:t,BlockSelection:i}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=t.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,i.clearCache(),m.get().removeAllRanges());const o=t.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),n=t.blocks[o];n&&(this.lastSelectedBlock.selected!==n.selected?(n.selected=!0,i.clearCache()):(this.lastSelectedBlock.selected=!1,i.clearCache()),this.lastSelectedBlock=n,this.Editor.InlineToolbar.close(),n.holder.scrollIntoView({block:"nearest"}))}clear(e){const{BlockManager:t,BlockSelection:i,Caret:o}=this.Editor,n=t.blocks.indexOf(this.firstSelectedBlock),r=t.blocks.indexOf(this.lastSelectedBlock);if(i.anyBlockSelected&&n>-1&&r>-1)if(e&&e instanceof KeyboardEvent)switch(e.keyCode){case B.DOWN:case B.RIGHT:o.setToBlock(t.blocks[Math.max(n,r)],o.positions.END);break;case B.UP:case B.LEFT:o.setToBlock(t.blocks[Math.min(n,r)],o.positions.START);break;default:o.setToBlock(t.blocks[Math.max(n,r)],o.positions.END)}else o.setToBlock(t.blocks[Math.max(n,r)],o.positions.END);this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(e){const{UI:t}=this.Editor;m.isCollapsed||this.Editor.BlockSelection.clearSelection(e),t.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}toggleBlocksSelectedState(e,t){const{BlockManager:i,BlockSelection:o}=this.Editor,n=i.blocks.indexOf(e),r=i.blocks.indexOf(t),l=e.selected!==t.selected;for(let s=Math.min(n,r);s<=Math.max(n,r);s++){const a=i.blocks[s];a!==this.firstSelectedBlock&&a!==(l?e:t)&&(i.blocks[s].selected=!i.blocks[s].selected,o.clearCache())}}}class Zo extends S{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:e}=this.Editor;this.readOnlyMutableListeners.on(e.nodes.holder,"drop",async t=>{await this.processDrop(t)},!0),this.readOnlyMutableListeners.on(e.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(e.nodes.holder,"dragover",t=>{this.processDragOver(t)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(e){const{BlockManager:t,Caret:i,Paste:o}=this.Editor;e.preventDefault(),t.blocks.forEach(r=>{r.dropTarget=!1}),m.isAtEditor&&!m.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const n=t.setCurrentBlockByChildNode(e.target);if(n)this.Editor.Caret.setToBlock(n,i.positions.END);else{const r=t.setCurrentBlockByChildNode(t.lastBlock.holder);this.Editor.Caret.setToBlock(r,i.positions.END)}await o.processDataTransfer(e.dataTransfer,!0)}processDragStart(){m.isAtEditor&&!m.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(e){e.preventDefault()}}class Go extends S{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=400,this.mutationObserver=new MutationObserver(i=>{this.redactorChanged(i)}),this.eventsDispatcher.on(lt,i=>{this.particularBlockChanged(i.event)}),this.eventsDispatcher.on(ct,()=>{this.disable()}),this.eventsDispatcher.on(dt,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(e){this.disabled||!D(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`,e),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let t;this.batchingOnChangeQueue.size===1?t=this.batchingOnChangeQueue.values().next().value:t=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,t),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(e){this.eventsDispatcher.emit(Me,{mutations:e})}}const xt=class extends S{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=c=>{try{const e=c.create({},{},!1);if(c.pasteConfig===!1){this.exceptionList.push(c.name);return}if(!D(e.onPaste))return;this.getTagsConfig(c),this.getFilesConfig(c),this.getPatternsConfig(c)}catch(e){T(`Paste handling for «${c.name}» Tool hasn't been set up because of the error`,"warn",e)}},this.handlePasteEvent=async c=>{const{BlockManager:e,Toolbar:t}=this.Editor;!e.currentBlock||this.isNativeBehaviour(c.target)&&!c.clipboardData.types.includes("Files")||e.currentBlock&&this.exceptionList.includes(e.currentBlock.name)||(c.preventDefault(),this.processDataTransfer(c.clipboardData),e.clearFocused(),t.close())}}async prepare(){this.processTools()}toggleReadOnly(c){c?this.unsetCallback():this.setCallback()}async processDataTransfer(c,e=!1){const{Tools:t}=this.Editor,i=c.types;if((i.includes?i.includes("Files"):i.contains("Files"))&&!V(this.toolsFiles)){await this.processFiles(c.files);return}const o=c.getData(this.MIME_TYPE),n=c.getData("text/plain");let r=c.getData("text/html");if(o)try{this.insertEditorJSData(JSON.parse(o));return}catch{}e&&n.trim()&&r.trim()&&(r="<p>"+(r.trim()?r:n)+"</p>");const l=Object.keys(this.toolsTags).reduce((h,u)=>(h[u.toLowerCase()]=this.toolsTags[u].sanitizationConfig??{},h),{}),s=Object.assign({},l,t.getAllInlineToolsSanitizeConfig(),{br:{}}),a=Z(r,s);!a.trim()||a.trim()===n||!d.isHTMLString(a)?await this.processText(n):await this.processText(a,!0)}async processText(c,e=!1){const{Caret:t,BlockManager:i}=this.Editor,o=e?this.processHTML(c):this.processPlain(c);if(!o.length)return;if(o.length===1){o[0].isBlock?this.processSingleBlock(o.pop()):this.processInlinePaste(o.pop());return}const n=i.currentBlock&&i.currentBlock.tool.isDefault&&i.currentBlock.isEmpty;o.map(async(r,l)=>this.insertBlock(r,l===0&&n)),i.currentBlock&&t.setToBlock(i.currentBlock,t.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const c=this.Editor.Tools.blockTools;Array.from(c.values()).forEach(this.processTool)}collectTagNames(c){return J(c)?[c]:j(c)?Object.keys(c):[]}getTagsConfig(c){if(c.pasteConfig===!1)return;const e=c.pasteConfig.tags||[],t=[];e.forEach(i=>{const o=this.collectTagNames(i);t.push(...o),o.forEach(n=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,n)){T(`Paste handler for «${c.name}» Tool on «${n}» tag is skipped because it is already used by «${this.toolsTags[n].tool.name}» Tool.`,"warn");return}const r=j(i)?i[n]:null;this.toolsTags[n.toUpperCase()]={tool:c,sanitizationConfig:r}})}),this.tagsByTool[c.name]=t.map(i=>i.toUpperCase())}getFilesConfig(c){if(c.pasteConfig===!1)return;const{files:e={}}=c.pasteConfig;let{extensions:t,mimeTypes:i}=e;!t&&!i||(t&&!Array.isArray(t)&&(T(`«extensions» property of the onDrop config for «${c.name}» Tool should be an array`),t=[]),i&&!Array.isArray(i)&&(T(`«mimeTypes» property of the onDrop config for «${c.name}» Tool should be an array`),i=[]),i&&(i=i.filter(o=>Dt(o)?!0:(T(`MIME type value «${o}» for the «${c.name}» Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[c.name]={extensions:t||[],mimeTypes:i||[]})}getPatternsConfig(c){c.pasteConfig===!1||!c.pasteConfig.patterns||V(c.pasteConfig.patterns)||Object.entries(c.pasteConfig.patterns).forEach(([e,t])=>{t instanceof RegExp||T(`Pattern ${t} for «${c.name}» Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:e,pattern:t,tool:c})})}isNativeBehaviour(c){return d.isNativeInput(c)}async processFiles(c){const{BlockManager:e}=this.Editor;let t;t=await Promise.all(Array.from(c).map(o=>this.processFile(o))),t=t.filter(o=>!!o);const i=e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty;t.forEach((o,n)=>{e.paste(o.type,o.event,n===0&&i)})}async processFile(c){const e=Rt(c),t=Object.entries(this.toolsFiles).find(([o,{mimeTypes:n,extensions:r}])=>{const[l,s]=c.type.split("/"),a=r.find(u=>u.toLowerCase()===e.toLowerCase()),h=n.find(u=>{const[p,A]=u.split("/");return p===l&&(A===s||A==="*")});return!!a||!!h});if(!t)return;const[i]=t;return{event:this.composePasteEvent("file",{file:c}),type:i}}processHTML(c){const{Tools:e}=this.Editor,t=d.make("DIV");return t.innerHTML=c,this.getNodes(t).map(i=>{let o,n=e.defaultTool,r=!1;switch(i.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:o=d.make("div"),o.appendChild(i);break;case Node.ELEMENT_NODE:o=i,r=!0,this.toolsTags[o.tagName]&&(n=this.toolsTags[o.tagName].tool);break}const{tags:l}=n.pasteConfig||{tags:[]},s=l.reduce((u,p)=>(this.collectTagNames(p).forEach(A=>{const y=j(p)?p[A]:null;u[A.toLowerCase()]=y||{}}),u),{}),a=Object.assign({},s,n.baseSanitizeConfig);if(o.tagName.toLowerCase()==="table"){const u=Z(o.outerHTML,a);o=d.make("div",void 0,{innerHTML:u}).firstChild}else o.innerHTML=Z(o.innerHTML,a);const h=this.composePasteEvent("tag",{data:o});return{content:o,isBlock:r,tool:n.name,event:h}}).filter(i=>{const o=d.isEmpty(i.content),n=d.isSingleTag(i.content);return!o||n})}processPlain(c){const{defaultBlock:e}=this.config;if(!c)return[];const t=e;return c.split(/\r?\n/).filter(i=>i.trim()).map(i=>{const o=d.make("div");o.textContent=i;const n=this.composePasteEvent("tag",{data:o});return{content:o,tool:t,isBlock:!1,event:n}})}async processSingleBlock(c){const{Caret:e,BlockManager:t}=this.Editor,{currentBlock:i}=t;if(!i||c.tool!==i.name||!d.containsOnlyInlineElements(c.content.innerHTML)){this.insertBlock(c,i?.tool.isDefault&&i.isEmpty);return}e.insertContentAtCaretPosition(c.content.innerHTML)}async processInlinePaste(c){const{BlockManager:e,Caret:t}=this.Editor,{content:i}=c;if(e.currentBlock&&e.currentBlock.tool.isDefault&&i.textContent.length<xt.PATTERN_PROCESSING_MAX_LENGTH){const o=await this.processPattern(i.textContent);if(o){const n=e.currentBlock&&e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty,r=e.paste(o.tool,o.event,n);t.setToBlock(r,t.positions.END);return}}if(e.currentBlock&&e.currentBlock.currentInput){const o=e.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,Z(i.innerHTML,o))}else this.insertBlock(c)}async processPattern(c){const e=this.toolsPatterns.find(t=>{const i=t.pattern.exec(c);return i?c===i.shift():!1});return e?{event:this.composePasteEvent("pattern",{key:e.key,data:c}),tool:e.tool.name}:void 0}insertBlock(c,e=!1){const{BlockManager:t,Caret:i}=this.Editor,{currentBlock:o}=t;let n;if(e&&o&&o.isEmpty){n=t.paste(c.tool,c.event,!0),i.setToBlock(n,i.positions.END);return}n=t.paste(c.tool,c.event),i.setToBlock(n,i.positions.END)}insertEditorJSData(c){const{BlockManager:e,Caret:t,Tools:i}=this.Editor;ht(c,o=>i.blockTools.get(o).sanitizeConfig).forEach(({tool:o,data:n},r)=>{let l=!1;r===0&&(l=e.currentBlock&&e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty);const s=e.insert({tool:o,data:n,replace:l});t.setToBlock(s,t.positions.END)})}processElementNode(c,e,t){const i=Object.keys(this.toolsTags),o=c,{tool:n}=this.toolsTags[o.tagName]||{},r=this.tagsByTool[n?.name]||[],l=i.includes(o.tagName),s=d.blockElements.includes(o.tagName.toLowerCase()),a=Array.from(o.children).some(({tagName:u})=>i.includes(u)&&!r.includes(u)),h=Array.from(o.children).some(({tagName:u})=>d.blockElements.includes(u.toLowerCase()));if(!s&&!l&&!a)return t.appendChild(o),[...e,t];if(l&&!a||s&&!h&&!a)return[...e,t,o]}getNodes(c){const e=Array.from(c.childNodes);let t;const i=(o,n)=>{if(d.isEmpty(n)&&!d.isSingleTag(n))return o;const r=o[o.length-1];let l=new DocumentFragment;switch(r&&d.isFragment(r)&&(l=o.pop()),n.nodeType){case Node.ELEMENT_NODE:if(t=this.processElementNode(n,o,l),t)return t;break;case Node.TEXT_NODE:return l.appendChild(n),[...o,l];default:return[...o,l]}return[...o,...Array.from(n.childNodes).reduce(i,[])]};return e.reduce(i,[])}composePasteEvent(c,e){return new CustomEvent(c,{detail:e})}};let wt=xt;wt.PATTERN_PROCESSING_MAX_LENGTH=450;class qo extends S{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:e}=this.Editor,{blockTools:t}=e,i=[];Array.from(t.entries()).forEach(([o,n])=>{n.isReadOnlySupported||i.push(o)}),this.toolsDontSupportReadOnly=i,this.config.readOnly&&i.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly)}async toggle(e=!this.readOnlyEnabled){e&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const t=this.readOnlyEnabled;this.readOnlyEnabled=e;for(const o in this.Editor)this.Editor[o].toggleReadOnly&&this.Editor[o].toggleReadOnly(e);if(t===e)return this.readOnlyEnabled;const i=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(i.blocks),this.readOnlyEnabled}throwCriticalError(){throw new at(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}}class pe extends S{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(e,t){const i=document.elementFromPoint(e-window.pageXOffset,t-window.pageYOffset);i.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const o=[`.${F.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],n=i.closest("."+this.Editor.UI.CSS.editorWrapper),r=o.some(l=>!!i.closest(l));!n||r||(this.mousedown=!0,this.startX=e,this.startY=t)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:e}=this.genHTML();this.listeners.on(e,"mousedown",t=>{this.processMouseDown(t)},!1),this.listeners.on(document.body,"mousemove",Te(t=>{this.processMouseMove(t)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",Te(t=>{this.processScroll(t)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(e){e.button===this.MAIN_MOUSE_BUTTON&&(e.target.closest(d.allInputsSelector)!==null||this.startSelection(e.pageX,e.pageY))}processMouseMove(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(e){this.changingRectangle(e)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(e){if(this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){const{UI:e}=this.Editor,t=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),i=d.make("div",pe.CSS.overlay,{}),o=d.make("div",pe.CSS.overlayContainer,{}),n=d.make("div",pe.CSS.rect,{});return o.appendChild(n),i.appendChild(o),t.appendChild(i),this.overlayRectangle=n,{container:t,overlay:i}}scrollVertical(e){if(!(this.inScrollZone&&this.mousedown))return;const t=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-t,setTimeout(()=>{this.scrollVertical(e)},0)}changingRectangle(e){if(!this.mousedown)return;e.pageY!==void 0&&(this.mouseX=e.pageX,this.mouseY=e.pageY);const{rightPos:t,leftPos:i,index:o}=this.genInfoForMouseSelection(),n=this.startX>t&&this.mouseX>t,r=this.startX<i&&this.mouseX<i;this.rectCrossesBlocks=!(n||r),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),o!==void 0&&(this.trySelectNextBlock(o),this.inverseSelection(),m.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e)for(const t of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(t);if(!this.rectCrossesBlocks&&e)for(const t of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(t)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){const e=document.body.offsetWidth/2,t=this.mouseY-window.pageYOffset,i=document.elementFromPoint(e,t),o=this.Editor.BlockManager.getBlockByChildNode(i);let n;o!==void 0&&(n=this.Editor.BlockManager.blocks.findIndex(h=>h.holder===o.holder));const r=this.Editor.BlockManager.lastBlock.holder.querySelector("."+F.CSS.content),l=Number.parseInt(window.getComputedStyle(r).width,10)/2,s=e-l,a=e+l;return{index:n,leftPos:s,rightPos:a}}addBlockInSelection(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}trySelectNextBlock(e){const t=this.stackOfSelected[this.stackOfSelected.length-1]===e,i=this.stackOfSelected.length,o=1,n=-1,r=0;if(t)return;const l=this.stackOfSelected[i-1]-this.stackOfSelected[i-2]>0;let s=r;i>1&&(s=l?o:n);const a=e>this.stackOfSelected[i-1]&&s===o,h=e<this.stackOfSelected[i-1]&&s===n,u=!(a||h||s===r);if(!u&&(e>this.stackOfSelected[i-1]||this.stackOfSelected[i-1]===void 0)){let y=this.stackOfSelected[i-1]+1||e;for(y;y<=e;y++)this.addBlockInSelection(y);return}if(!u&&e<this.stackOfSelected[i-1]){for(let y=this.stackOfSelected[i-1]-1;y>=e;y--)this.addBlockInSelection(y);return}if(!u)return;let p=i-1,A;for(e>this.stackOfSelected[i-1]?A=()=>e>this.stackOfSelected[p]:A=()=>e<this.stackOfSelected[p];A();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[p]),this.stackOfSelected.pop(),p--}}class Jo extends S{async render(e){const t=e.map(o=>({function:()=>this.insertBlock(o)}));this.Editor.ModificationsObserver.disable();const i=await ot(t);return this.Editor.ModificationsObserver.enable(),this.Editor.UI.checkEmptiness(),i}async insertBlock(e){var t;const{Tools:i,BlockManager:o}=this.Editor,{type:n,data:r,tunes:l,id:s}=e;if(i.available.has(n))try{o.insert({id:s,tool:n,data:r,tunes:l})}catch(a){throw T(`Block «${n}» skipped because of plugins error`,"warn",{data:r,error:a}),Error(a)}else{const a={savedData:{id:s,type:n,data:r},title:n};if(i.unavailable.has(n)){const u=(t=i.unavailable.get(n).toolbox[0])==null?void 0:t.title;a.title=u||a.title}const h=o.insert({id:s,tool:i.stubTool,data:a});h.stretched=!0,T(`Tool «${n}» is not found. Check 'tools' property at your initial Editor.js config.`,"warn")}}}class Qo extends S{async save(){const{BlockManager:e,Tools:t}=this.Editor,i=e.blocks,o=[];try{i.forEach(l=>{o.push(this.getSavedData(l))});const n=await Promise.all(o),r=await ht(n,l=>t.blockTools.get(l).sanitizeConfig);return this.makeOutput(r)}catch(n){K("Saving failed due to the Error %o","error",n)}}async getSavedData(e){const t=await e.save(),i=t&&await e.validate(t.data);return{...t,isValid:i}}makeOutput(e){let t=0;const i=[];return T("[Editor.js saving]:","groupCollapsed"),e.forEach(({id:o,tool:n,data:r,tunes:l,time:s,isValid:a})=>{if(t+=s,T(`${n.charAt(0).toUpperCase()+n.slice(1)}`,"group"),a)T(r),T(void 0,"groupEnd");else{T(`Block «${n}» skipped because saved data is invalid`),T(void 0,"groupEnd");return}if(n===this.Editor.Tools.stubTool){i.push(r);return}const h={id:o,type:n,data:r,...!V(l)&&{tunes:l}};i.push(h)}),T("Total","log",t),T(void 0,"groupEnd"),{time:+new Date,blocks:i,version:"2.27.0"}}}var Ne={},ei={get exports(){return Ne},set exports(c){Ne=c}};(function(c,e){(function(t,i){c.exports=i()})(window,function(){return function(t){var i={};function o(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=i,o.d=function(n,r,l){o.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:l})},o.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.t=function(n,r){if(1&r&&(n=o(n)),8&r||4&r&&typeof n=="object"&&n&&n.__esModule)return n;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:n}),2&r&&typeof n!="string")for(var s in n)o.d(l,s,function(a){return n[a]}.bind(null,s));return l},o.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(r,"a",r),r},o.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},o.p="/",o(o.s=4)}([function(t,i,o){var n=o(1),r=o(2);typeof(r=r.__esModule?r.default:r)=="string"&&(r=[[t.i,r,""]]);var l={insert:"head",singleton:!1};n(r,l),t.exports=r.locals||{}},function(t,i,o){var n,r=function(){return n===void 0&&(n=!!(window&&document&&document.all&&!window.atob)),n},l=function(){var k={};return function(x){if(k[x]===void 0){var L=document.querySelector(x);if(window.HTMLIFrameElement&&L instanceof window.HTMLIFrameElement)try{L=L.contentDocument.head}catch{L=null}k[x]=L}return k[x]}}(),s=[];function a(k){for(var x=-1,L=0;L<s.length;L++)if(s[L].identifier===k){x=L;break}return x}function h(k,x){for(var L={},N=[],le=0;le<k.length;le++){var g=k[le],v=x.base?g[0]+x.base:g[0],M=L[v]||0,E="".concat(v," ").concat(M);L[v]=M+1;var b=a(E),C={css:g[1],media:g[2],sourceMap:g[3]};b!==-1?(s[b].references++,s[b].updater(C)):s.push({identifier:E,updater:Q(C,x),references:1}),N.push(E)}return N}function u(k){var x=document.createElement("style"),L=k.attributes||{};if(L.nonce===void 0){var N=o.nc;N&&(L.nonce=N)}if(Object.keys(L).forEach(function(g){x.setAttribute(g,L[g])}),typeof k.insert=="function")k.insert(x);else{var le=l(k.insert||"head");if(!le)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");le.appendChild(x)}return x}var p,A=(p=[],function(k,x){return p[k]=x,p.filter(Boolean).join(`
`)});function y(k,x,L,N){var le=L?"":N.media?"@media ".concat(N.media," {").concat(N.css,"}"):N.css;if(k.styleSheet)k.styleSheet.cssText=A(x,le);else{var g=document.createTextNode(le),v=k.childNodes;v[x]&&k.removeChild(v[x]),v.length?k.insertBefore(g,v[x]):k.appendChild(g)}}function O(k,x,L){var N=L.css,le=L.media,g=L.sourceMap;if(le?k.setAttribute("media",le):k.removeAttribute("media"),g&&btoa&&(N+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(g))))," */")),k.styleSheet)k.styleSheet.cssText=N;else{for(;k.firstChild;)k.removeChild(k.firstChild);k.appendChild(document.createTextNode(N))}}var R=null,I=0;function Q(k,x){var L,N,le;if(x.singleton){var g=I++;L=R||(R=u(x)),N=y.bind(null,L,g,!1),le=y.bind(null,L,g,!0)}else L=u(x),N=O.bind(null,L,x),le=function(){(function(v){if(v.parentNode===null)return!1;v.parentNode.removeChild(v)})(L)};return N(k),function(v){if(v){if(v.css===k.css&&v.media===k.media&&v.sourceMap===k.sourceMap)return;N(k=v)}else le()}}t.exports=function(k,x){(x=x||{}).singleton||typeof x.singleton=="boolean"||(x.singleton=r());var L=h(k=k||[],x);return function(N){if(N=N||[],Object.prototype.toString.call(N)==="[object Array]"){for(var le=0;le<L.length;le++){var g=a(L[le]);s[g].references--}for(var v=h(N,x),M=0;M<L.length;M++){var E=a(L[M]);s[E].references===0&&(s[E].updater(),s.splice(E,1))}L=v}}}},function(t,i,o){(i=o(3)(!1)).push([t.i,`.ce-paragraph {
    line-height: 1.6em;
    outline: none;
}

.ce-paragraph[data-placeholder]:empty::before{
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

/** Show placeholder at the first paragraph if Editor is empty */
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {
  opacity: 1;
}

.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {
  opacity: 0;
}

.ce-paragraph p:first-of-type{
    margin-top: 0;
}

.ce-paragraph p:last-of-type{
    margin-bottom: 0;
}
`,""]),t.exports=i},function(t,i,o){t.exports=function(n){var r=[];return r.toString=function(){return this.map(function(l){var s=function(a,h){var u=a[1]||"",p=a[3];if(!p)return u;if(h&&typeof btoa=="function"){var A=(O=p,R=btoa(unescape(encodeURIComponent(JSON.stringify(O)))),I="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(R),"/*# ".concat(I," */")),y=p.sources.map(function(Q){return"/*# sourceURL=".concat(p.sourceRoot||"").concat(Q," */")});return[u].concat(y).concat([A]).join(`
`)}var O,R,I;return[u].join(`
`)}(l,n);return l[2]?"@media ".concat(l[2]," {").concat(s,"}"):s}).join("")},r.i=function(l,s,a){typeof l=="string"&&(l=[[null,l,""]]);var h={};if(a)for(var u=0;u<this.length;u++){var p=this[u][0];p!=null&&(h[p]=!0)}for(var A=0;A<l.length;A++){var y=[].concat(l[A]);a&&h[y[0]]||(s&&(y[2]?y[2]="".concat(s," and ").concat(y[2]):y[2]=s),r.push(y))}},r}},function(t,i,o){o.r(i),o.d(i,"default",function(){return l}),o(0);function n(s,a){for(var h=0;h<a.length;h++){var u=a[h];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(s,u.key,u)}}function r(s,a,h){return a&&n(s.prototype,a),h&&n(s,h),s}/**
 * Base Paragraph Block for the Editor.js.
 * Represents simple paragraph
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */var l=function(){function s(a){var h=a.data,u=a.config,p=a.api,A=a.readOnly;(function(y,O){if(!(y instanceof O))throw new TypeError("Cannot call a class as a function")})(this,s),this.api=p,this.readOnly=A,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=u.placeholder?u.placeholder:s.DEFAULT_PLACEHOLDER,this._data={},this._element=this.drawView(),this._preserveBlank=u.preserveBlank!==void 0&&u.preserveBlank,this.data=h}return r(s,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}}]),r(s,[{key:"onKeyUp",value:function(a){a.code!=="Backspace"&&a.code!=="Delete"||this._element.textContent===""&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var a=document.createElement("DIV");return a.classList.add(this._CSS.wrapper,this._CSS.block),a.contentEditable=!1,a.dataset.placeholder=this.api.i18n.t(this._placeholder),this.readOnly||(a.contentEditable=!0,a.addEventListener("keyup",this.onKeyUp)),a}},{key:"render",value:function(){return this._element}},{key:"merge",value:function(a){var h={text:this.data.text+a.text};this.data=h}},{key:"validate",value:function(a){return!(a.text.trim()===""&&!this._preserveBlank)}},{key:"save",value:function(a){return{text:a.innerHTML}}},{key:"onPaste",value:function(a){var h={text:a.detail.data.innerHTML};this.data=h}},{key:"data",get:function(){var a=this._element.innerHTML;return this._data.text=a,this._data},set:function(a){this._data=a||{},this._element.innerHTML=this._data.text||""}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>',title:"Text"}}}]),s}()}]).default})})(ei);const ti=xe(Ne);class $e{constructor(){this.commandName="bold",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--bold"},this.nodes={button:void 0}}static get sanitize(){return{b:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=Eo,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+B"}}$e.isInline=!0;$e.title="Bold";class We{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=So,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+I"}}We.isInline=!0;We.title="Italic";class Ye{constructor({api:e}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=e.toolbar,this.inlineToolbar=e.inlineToolbar,this.notifier=e.notifier,this.i18n=e.i18n,this.selection=new m}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=qe,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",e=>{e.keyCode===this.ENTER_KEY&&this.enterPressed(e)}),this.nodes.input}surround(e){if(e){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const t=this.selection.findParentTag("A");if(t){this.selection.expandToTag(t),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){const e=this.selection.findParentTag("A");if(e){this.nodes.button.innerHTML=Oo,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const t=e.getAttribute("href");this.nodes.input.value=t!=="null"?t:"",this.selection.save()}else this.nodes.button.innerHTML=qe,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!e}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(e=!1){this.nodes.input.classList.add(this.CSS.inputShowed),e&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(e=!0){if(this.selection.isFakeBackgroundEnabled){const t=new m;t.save(),this.selection.restore(),this.selection.removeFakeBackground(),t.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",e&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(e){let t=this.nodes.input.value||"";if(!t.trim()){this.selection.restore(),this.unlink(),e.preventDefault(),this.closeActions();return}if(!this.validateURL(t)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),T("Incorrect Link pasted","warn",t);return}t=this.prepareLink(t),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(t),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(e){return!/\s/.test(e)}prepareLink(e){return e=e.trim(),e=this.addProtocol(e),e}addProtocol(e){if(/^(\w+):(\/\/)?/.test(e))return e;const t=/^\/[^/\s]/.test(e),i=e.substring(0,1)==="#",o=/^\/\/[^/\s]/.test(e);return!t&&!i&&!o&&(e="http://"+e),e}insertLink(e){const t=this.selection.findParentTag("A");t&&this.selection.expandToTag(t),document.execCommand(this.commandLink,!1,e)}unlink(){document.execCommand(this.commandUnlink)}}Ye.isInline=!0;Ye.title="Link";class yt{constructor({data:e,api:t}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=t,this.title=e.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=e.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const e=d.make("div",this.CSS.wrapper),t='<svg xmlns="http://www.w3.org/2000/svg" width="52" height="52" viewBox="0 0 52 52"><path fill="#D76B6B" fill-rule="nonzero" d="M26 52C11.64 52 0 40.36 0 26S11.64 0 26 0s26 11.64 26 26-11.64 26-26 26zm0-3.25c12.564 0 22.75-10.186 22.75-22.75S38.564 3.25 26 3.25 3.25 13.436 3.25 26 13.436 48.75 26 48.75zM15.708 33.042a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm23.834 0a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm-15.875 5.452a1.083 1.083 0 1 1-1.834-1.155c1.331-2.114 3.49-3.179 6.334-3.179 2.844 0 5.002 1.065 6.333 3.18a1.083 1.083 0 1 1-1.833 1.154c-.913-1.45-2.366-2.167-4.5-2.167s-3.587.717-4.5 2.167z"/></svg>',i=d.make("div",this.CSS.info),o=d.make("div",this.CSS.title,{textContent:this.title}),n=d.make("div",this.CSS.subtitle,{textContent:this.subtitle});return e.innerHTML=t,i.appendChild(o),i.appendChild(n),e.appendChild(i),e}}yt.isReadOnlySupported=!0;class oi extends Ue{constructor(){super(...arguments),this.type=ye.Inline}get title(){return this.constructable[je.Title]}create(){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings})}}class ii extends Ue{constructor(){super(...arguments),this.type=ye.Tune}create(e,t){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings,block:t,data:e})}}class U extends Map{get blockTools(){const e=Array.from(this.entries()).filter(([,t])=>t.isBlock());return new U(e)}get inlineTools(){const e=Array.from(this.entries()).filter(([,t])=>t.isInline());return new U(e)}get blockTunes(){const e=Array.from(this.entries()).filter(([,t])=>t.isTune());return new U(e)}get internalTools(){const e=Array.from(this.entries()).filter(([,t])=>t.isInternal);return new U(e)}get externalTools(){const e=Array.from(this.entries()).filter(([,t])=>!t.isInternal);return new U(e)}}var ni=Object.defineProperty,si=Object.getOwnPropertyDescriptor,Et=(c,e,t,i)=>{for(var o=i>1?void 0:i?si(e,t):e,n=c.length-1,r;n>=0;n--)(r=c[n])&&(o=(i?r(e,t,o):r(o))||o);return i&&o&&ni(e,t,o),o};class Ke extends Ue{constructor(){super(...arguments),this.type=ye.Block,this.inlineTools=new U,this.tunes=new U}create(e,t,i){return new this.constructable({data:e,block:t,readOnly:i,api:this.api.getMethodsForTool(this),config:this.settings})}get isReadOnlySupported(){return this.constructable[se.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[se.IsEnabledLineBreaks]}get toolbox(){const e=this.constructable[se.Toolbox],t=this.config[me.Toolbox];if(!V(e)&&t!==!1)return t?Array.isArray(e)?Array.isArray(t)?t.map((i,o)=>{const n=e[o];return n?{...n,...i}:i}):[t]:Array.isArray(t)?t:[{...e,...t}]:Array.isArray(e)?e:[e]}get conversionConfig(){return this.constructable[se.ConversionConfig]}get enabledInlineTools(){return this.config[me.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[me.EnabledBlockTunes]}get pasteConfig(){return this.constructable[se.PasteConfig]??{}}get sanitizeConfig(){const e=super.sanitizeConfig,t=this.baseSanitizeConfig;if(V(e))return t;const i={};for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const n=e[o];j(n)?i[o]=Object.assign({},t,n):i[o]=n}return i}get baseSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(t=>Object.assign(e,t.sanitizeConfig)),Array.from(this.tunes.values()).forEach(t=>Object.assign(e,t.sanitizeConfig)),e}}Et([ae],Ke.prototype,"sanitizeConfig",1);Et([ae],Ke.prototype,"baseSanitizeConfig",1);class ri{constructor(e,t,i){this.api=i,this.config=e,this.editorConfig=t}get(e){const{class:t,isInternal:i=!1,...o}=this.config[e],n=this.getConstructor(t);return new n({name:e,constructable:t,config:o,api:this.api,isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:i})}getConstructor(e){switch(!0){case e[je.IsInline]:return oi;case e[vt.IsTune]:return ii;default:return Ke}}}class Bt{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:pt,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),t=this.api.blocks.getBlockByIndex(e+1);if(!t)throw new Error("Unable to move Block down since it is already the last");const i=t.holder,o=i.getBoundingClientRect();let n=Math.abs(window.innerHeight-i.offsetHeight);o.top<window.innerHeight&&(n=window.scrollY+i.offsetHeight),window.scrollTo(0,n),this.api.blocks.move(e+1),this.api.toolbar.toggleBlockSettings(!0)}}Bt.isTune=!0;class Ct{constructor({api:e}){this.api=e}render(){return{icon:Co,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}}Ct.isTune=!0;class Tt{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:Bo,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),t=this.api.blocks.getBlockByIndex(e),i=this.api.blocks.getBlockByIndex(e-1);if(e===0||!t||!i)throw new Error("Unable to move Block up since it is already the first");const o=t.holder,n=i.holder,r=o.getBoundingClientRect(),l=n.getBoundingClientRect();let s;l.top>0?s=Math.abs(r.top)-Math.abs(l.top):s=Math.abs(r.top)+l.height,window.scrollBy(0,-1*s),this.api.blocks.move(e-1),this.api.toolbar.toggleBlockSettings(!0)}}Tt.isTune=!0;var ai=Object.defineProperty,li=Object.getOwnPropertyDescriptor,ci=(c,e,t,i)=>{for(var o=i>1?void 0:i?li(e,t):e,n=c.length-1,r;n>=0;n--)(r=c[n])&&(o=(i?r(e,t,o):r(o))||o);return i&&o&&ai(e,t,o),o};class St extends S{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new U,this.toolsUnavailable=new U}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=Se({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");const e=this.prepareConfig();this.factory=new ri(e,this.config,this.Editor.API);const t=this.getListOfPrepareFunctions(e);if(t.length===0)return Promise.resolve();await ot(t,i=>{this.toolPrepareMethodSuccess(i)},i=>{this.toolPrepareMethodFallback(i)}),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(t=>{Object.assign(e,t.sanitizeConfig)}),e}destroy(){Object.values(this.available).forEach(async e=>{D(e.reset)&&await e.reset()})}get internalTools(){return{bold:{class:$e,isInternal:!0},italic:{class:We,isInternal:!0},link:{class:Ye,isInternal:!0},paragraph:{class:ti,inlineToolbar:!0,isInternal:!0},stub:{class:yt,isInternal:!0},moveUp:{class:Tt,isInternal:!0},delete:{class:Ct,isInternal:!0},moveDown:{class:Bt,isInternal:!0}}}toolPrepareMethodSuccess(e){const t=this.factory.get(e.toolName);if(t.isInline()){const i=["render","surround","checkState"].filter(o=>!t.create()[o]);if(i.length){T(`Incorrect Inline Tool: ${t.name}. Some of required methods is not implemented %o`,"warn",i),this.toolsUnavailable.set(t.name,t);return}}this.toolsAvailable.set(t.name,t)}toolPrepareMethodFallback(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}getListOfPrepareFunctions(e){const t=[];return Object.entries(e).forEach(([i,o])=>{t.push({function:D(o.class.prepare)?o.class.prepare:()=>{},data:{toolName:i,config:o.config}})}),t}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(e=>{this.assignInlineToolsToBlockTool(e),this.assignBlockTunesToBlockTool(e)})}assignInlineToolsToBlockTool(e){if(this.config.inlineToolbar!==!1){if(e.enabledInlineTools===!0){e.inlineTools=new U(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(t=>[t,this.inlineTools.get(t)]):Array.from(this.inlineTools.entries()));return}Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new U(e.enabledInlineTools.map(t=>[t,this.inlineTools.get(t)])))}}assignBlockTunesToBlockTool(e){if(e.enabledBlockTunes!==!1){if(Array.isArray(e.enabledBlockTunes)){const t=new U(e.enabledBlockTunes.map(i=>[i,this.blockTunes.get(i)]));e.tunes=new U([...t,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){const t=new U(this.config.tunes.map(i=>[i,this.blockTunes.get(i)]));e.tunes=new U([...t,...this.blockTunes.internalTools]);return}e.tunes=this.blockTunes.internalTools}}validateTools(){for(const e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;const t=this.config.tools[e];if(!D(t)&&!D(t.class))throw Error(`Tool «${e}» must be a constructor function or an object with function in the «class» property`)}}prepareConfig(){const e={};for(const t in this.config.tools)j(this.config.tools[t])?e[t]=this.config.tools[t]:e[t]={class:this.config.tools[t]};return e}}ci([ae],St.prototype,"getAllInlineToolsSanitizeConfig",1);const di=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide,.codex-editor__redactor--hidden{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor__loader{position:relative;height:30vh}.codex-editor__loader:before{content:"";position:absolute;left:50%;top:50%;width:30px;height:30px;margin-top:-15px;margin-left:-15px;border-radius:50%;border:2px solid rgba(201,201,204,.48);border-top-color:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-animation:editor-loader-spin .8s infinite linear;animation:editor-loader-spin .8s infinite linear;will-change:transform}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0px;left:0px;right:0px;bottom:0px;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}::-moz-selection{background-color:#d4ecff}::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}@-webkit-keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;-webkit-transform:translateX(-50%) translateY(8px) scale(.94);transform:translate(-50%) translateY(8px) scale(.94);opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease,-webkit-transform .15s ease;transition:opacity .25s ease,-webkit-transform .15s ease;transition:transform .15s ease,opacity .25s ease;transition:transform .15s ease,opacity .25s ease,-webkit-transform .15s ease;will-change:transform,opacity;top:0;left:0;z-index:3}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:translateX(-50%);transform:translate(-50%)}.ce-inline-toolbar--left-oriented{-webkit-transform:translateX(-23px) translateY(8px) scale(.94);transform:translate(-23px) translateY(8px) scale(.94)}.ce-inline-toolbar--left-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-23px);transform:translate(-23px)}.ce-inline-toolbar--right-oriented{-webkit-transform:translateX(-100%) translateY(8px) scale(.94);transform:translate(-100%) translateY(8px) scale(.94);margin-left:23px}.ce-inline-toolbar--right-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-100%);transform:translate(-100%)}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;border-radius:0;line-height:normal}.ce-inline-tool svg{width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#eff2f5}}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48);-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:150px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px rgba(201,201,204,.48);box-shadow:0 0 0 1px #c9c9cc7a;border-radius:5px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#fff;-webkit-box-sizing:content-box;box-sizing:content-box;-ms-flex-negative:0;flex-shrink:0;margin-right:10px}.ce-conversion-tool__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-conversion-tool__icon{width:36px;height:36px;border-radius:8px}.ce-conversion-tool__icon svg{width:28px;height:28px}}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important}.ce-conversion-tool--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;line-height:32px}.ce-settings__button svg{width:20px;height:20px}@media (max-width: 650px){.ce-settings__button svg{width:28px;height:28px}}@media (hover: hover){.ce-settings__button:hover{background-color:#eff2f5}}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{background:rgba(34,186,255,.08)!important}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button--disabled{cursor:not-allowed!important}.ce-settings__button--disabled{opacity:.3}.ce-settings__button--selected{color:#388ae5}@media (min-width: 651px){.codex-editor--narrow .ce-settings .ce-popover{right:0;left:auto;left:initial}}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@media (min-width: 651px){.codex-editor--narrow .ce-block--focused{margin-right:-50px;padding-right:50px}}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button svg{width:20px;height:20px}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;padding:3.5em 0;margin:17px 0;border-radius:3px;background:#fcf7f7;color:#b46262}.ce-stub__info{margin-left:20px}.ce-stub__title{margin-bottom:3px;font-weight:600;font-size:18px;text-transform:capitalize}.ce-stub__subtitle{font-size:16px}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0px;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:rgba(232,232,235,.49);border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #e8e8eb;--color-shadow: rgba(13,20,33,.13);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #eff2f5;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:0;top:calc(100% + var(--offset-from-target));background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}.ce-popover--open-top{top:calc(-1 * (var(--offset-from-target) + var(--popover-height)))}@media (max-width: 650px){.ce-popover{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}.ce-popover .ce-popover__search{display:none}}.ce-popover__search,.ce-popover__custom-content:not(:empty){margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover__custom-content:not(:empty){padding:4px}@media (min-width: 651px){.ce-popover__custom-content:not(:empty){padding:0}}.ce-popover__custom-content--hidden{display:none}.ce-popover-item{--border-radius: 6px;--icon-size: 20px;--icon-size-mobile: 28px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:3px;color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{border-radius:5px;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px var(--color-border-icon);box-shadow:0 0 0 1px var(--color-border-icon);background:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:var(--icon-size-mobile);height:var(--icon-size-mobile)}}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--active .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--disabled .ce-popover-item__icon{-webkit-box-shadow:0 0 0 1px var(--color-border-icon-disabled);box-shadow:0 0 0 1px var(--color-border-icon-disabled)}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--focused:not(.ce-popover-item--no-focus){-webkit-box-shadow:inset 0 0 0px 1px var(--color-shadow-item-focus);box-shadow:inset 0 0 0 1px var(--color-shadow-item-focus)}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}.ce-popover-item:hover .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__icon{color:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}.ce-popover-item--confirmation .ce-popover-item__icon,.ce-popover-item--active .ce-popover-item__icon,.ce-popover-item--focused .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}
`;class hi extends S{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=void 0,this.resizeDebouncer=Pt(()=>{this.windowResize()},200)}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorLoader:"codex-editor__loader",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache)return this.contentRectCache;const e=this.nodes.wrapper.querySelector(`.${F.CSS.content}`);return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}addLoader(){this.nodes.loader=d.make("div",this.CSS.editorLoader),this.nodes.wrapper.prepend(this.nodes.loader),this.nodes.redactor.classList.add(this.CSS.editorZoneHidden)}removeLoader(){this.nodes.loader.remove(),this.nodes.redactor.classList.remove(this.CSS.editorZoneHidden)}async prepare(){this.checkIsMobile(),this.make(),this.addLoader(),this.loadStyles()}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}checkEmptiness(){const{BlockManager:e}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:e,BlockSettings:t,InlineToolbar:i,ConversionToolbar:o}=this.Editor;return t.opened||i.opened||o.opened||e.toolbox.opened}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([e,t])=>t.flipper instanceof G).some(([e,t])=>t.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML=""}closeAllToolbars(){const{Toolbar:e,BlockSettings:t,InlineToolbar:i,ConversionToolbar:o}=this.Editor;t.close(),i.close(),o.close(),e.toolbox.close()}checkIsMobile(){this.isMobile=window.innerWidth<st}make(){this.nodes.holder=d.getHolder(this.config.holder),this.nodes.wrapper=d.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=d.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}loadStyles(){const e="editor-js-styles";if(d.get(e))return;const t=d.make("style",null,{id:e,textContent:di.toString()});d.prepend(document.head,t)}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",e=>{this.redactorClicked(e)},!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",e=>{this.documentTouched(e)},!0),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",e=>{this.documentTouched(e)},!0),this.readOnlyMutableListeners.on(document,"keydown",e=>{this.documentKeydown(e)},!0),this.readOnlyMutableListeners.on(document,"mousedown",e=>{this.documentClicked(e)},!0),this.readOnlyMutableListeners.on(document,"selectionchange",()=>{this.selectionChanged()},!0),this.readOnlyMutableListeners.on(window,"resize",()=>{this.resizeDebouncer()},{passive:!0}),this.watchBlockHoveredEvents()}watchBlockHoveredEvents(){let e;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",Te(t=>{const i=t.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||i&&e!==i&&(e=i,this.eventsDispatcher.emit(mt,{block:this.Editor.BlockManager.getBlockByChildNode(i)}))},20),{passive:!0})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.checkIsMobile()}documentKeydown(e){switch(e.keyCode){case B.ENTER:this.enterPressed(e);break;case B.BACKSPACE:this.backspacePressed(e);break;case B.ESC:this.escapePressed(e);break;default:this.defaultBehaviour(e);break}}defaultBehaviour(e){const{currentBlock:t}=this.Editor.BlockManager,i=e.target.closest(`.${this.CSS.editorWrapper}`),o=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;if(t!==void 0&&i===null){this.Editor.BlockEvents.keydown(e);return}i||t&&o||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close())}backspacePressed(e){const{BlockManager:t,BlockSelection:i,Caret:o}=this.Editor;if(i.anyBlockSelected&&!m.isSelectionExists){const n=t.removeSelectedBlocks();o.setToBlock(t.insertDefaultBlockAtIndex(n,!0),o.positions.START),i.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}escapePressed(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.ConversionToolbar.opened?this.Editor.ConversionToolbar.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(e){const{BlockManager:t,BlockSelection:i}=this.Editor,o=t.currentBlockIndex>=0;if(i.anyBlockSelected&&!m.isSelectionExists){i.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();return}if(!this.someToolbarOpened&&o&&e.target.tagName==="BODY"){const n=this.Editor.BlockManager.insert();this.Editor.Caret.setToBlock(n),this.Editor.BlockManager.highlightCurrentNode(),this.Editor.Toolbar.moveAndOpen(n)}this.Editor.BlockSelection.clearSelection(e)}documentClicked(e){if(!e.isTrusted)return;const t=e.target;this.nodes.holder.contains(t)||m.isAtEditor||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close());const i=this.Editor.BlockSettings.nodes.wrapper.contains(t),o=this.Editor.Toolbar.nodes.settingsToggler.contains(t),n=i||o;if(this.Editor.BlockSettings.opened&&!n){this.Editor.BlockSettings.close();const r=this.Editor.BlockManager.getBlockByChildNode(t);this.Editor.Toolbar.moveAndOpen(r)}this.Editor.BlockSelection.clearSelection(e)}documentTouched(e){let t=e.target;if(t===this.nodes.redactor){const i=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,o=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;t=document.elementFromPoint(i,o)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(t),this.Editor.BlockManager.highlightCurrentNode()}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}redactorClicked(e){const{BlockSelection:t}=this.Editor;if(!m.isCollapsed)return;const i=()=>{e.stopImmediatePropagation(),e.stopPropagation()},o=e.target,n=e.metaKey||e.ctrlKey;if(d.isAnchor(o)&&n){i();const a=o.getAttribute("href"),h=Ht(a);jt(h);return}const r=this.Editor.BlockManager.getBlockByIndex(-1),l=d.offset(r.holder).bottom,s=e.pageY;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!t.anyBlockSelected&&l<s){i();const{BlockManager:a,Caret:h,Toolbar:u}=this.Editor;(!a.lastBlock.tool.isDefault||!a.lastBlock.isEmpty)&&a.insertAtEnd(),h.setToTheLastBlock(),u.moveAndOpen(a.lastBlock)}}selectionChanged(){const{CrossBlockSelection:e,BlockSelection:t}=this.Editor,i=m.anchorElement;if(e.isCrossBlockSelectionStarted&&t.anyBlockSelected&&m.get().removeAllRanges(),!i){m.range||this.Editor.InlineToolbar.close();return}const o=i.closest(`.${F.CSS.content}`)===null;if(o&&(this.Editor.InlineToolbar.containsNode(i)||this.Editor.InlineToolbar.close(),i.dataset.inlineToolbar!=="true"))return;this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(i);const n=o!==!0;this.Editor.InlineToolbar.tryToShow(!0,n)}}const ui={BlocksAPI:Zt,CaretAPI:Gt,EventsAPI:qt,I18nAPI:De,API:Jt,InlineToolbarAPI:Qt,ListenersAPI:eo,NotifierAPI:no,ReadOnlyAPI:so,SanitizerAPI:po,SaverAPI:fo,SelectionAPI:go,StylesAPI:bo,ToolbarAPI:mo,TooltipAPI:xo,UiAPI:wo,BlockSettings:Ro,ConversionToolbar:Y,Toolbar:jo,InlineToolbar:Uo,BlockEvents:$o,BlockManager:Ko,BlockSelection:Xo,Caret:ve,CrossBlockSelection:Vo,DragNDrop:Zo,ModificationsObserver:Go,Paste:wt,ReadOnly:qo,RectangleSelection:pe,Renderer:Jo,Saver:Qo,Tools:St,UI:hi};class pi{constructor(e){this.moduleInstances={},this.eventsDispatcher=new we;let t,i;this.isReady=new Promise((o,n)=>{t=o,i=n}),Promise.resolve().then(async()=>{this.configuration=e,await this.validate(),await this.init(),await this.start(),K("I'm ready! (ﾉ◕ヮ◕)ﾉ*:･ﾟ✧","log","","color: #E24A75"),setTimeout(async()=>{if(await this.render(),this.configuration.autofocus){const{BlockManager:o,Caret:n}=this.moduleInstances;n.setToBlock(o.blocks[0],n.positions.START),o.highlightCurrentNode()}this.moduleInstances.UI.removeLoader(),t()},500)}).catch(o=>{T(`Editor.js is not ready because of ${o}`,"error"),i(o)})}set configuration(e){var t,i;j(e)?this.config={...e}:this.config={holder:e},Ie(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=et.VERBOSE),At(this.config.logLevel),Ie(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;const o={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,(V(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[o]}),this.config.readOnly=this.config.readOnly||!1,(t=this.config.i18n)!=null&&t.messages&&$.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((i=this.config.i18n)==null?void 0:i.direction)||"ltr"}get configuration(){return this.config}async validate(){const{holderId:e,holder:t}=this.config;if(e&&t)throw Error("«holderId» and «holder» param can't assign at the same time.");if(J(t)&&!d.get(t))throw Error(`element with ID «${t}» is missing. Pass correct holder's ID.`);if(t&&j(t)&&!d.isElement(t))throw Error("«holder» value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((e,t)=>e.then(async()=>{try{await this.moduleInstances[t].prepare()}catch(i){if(i instanceof at)throw new Error(i.message);T(`Module ${t} was skipped because of %o`,"warn",i)}}),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(ui).forEach(([e,t])=>{try{this.moduleInstances[e]=new t({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(i){T("[constructModules]",`Module ${e} skipped because`,"error",i)}})}configureModules(){for(const e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}getModulesDiff(e){const t={};for(const i in this.moduleInstances)i!==e&&(t[i]=this.moduleInstances[i]);return t}}/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */class fi{static get version(){return"2.27.0"}constructor(e){let t=()=>{};j(e)&&D(e.onReady)&&(t=e.onReady);const i=new pi(e);this.isReady=i.isReady.then(()=>{this.exportAPI(i),t()})}exportAPI(e){const t=["configuration"],i=()=>{Object.values(e.moduleInstances).forEach(o=>{D(o.destroy)&&o.destroy(),o.listeners.removeAll()}),e=null;for(const o in this)Object.prototype.hasOwnProperty.call(this,o)&&delete this[o];Object.setPrototypeOf(this,null)};t.forEach(o=>{this[o]=e[o]}),this.destroy=i,Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([o,n])=>{Object.entries(n).forEach(([r,l])=>{this[l]=e.moduleInstances.API.methods[o][r]})})}}var bundle$a={exports:{}};(function(c,e){(function(t,i){c.exports=i()})(window,function(){return function(t){var i={};function o(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=i,o.d=function(n,r,l){o.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:l})},o.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.t=function(n,r){if(1&r&&(n=o(n)),8&r||4&r&&typeof n=="object"&&n&&n.__esModule)return n;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:n}),2&r&&typeof n!="string")for(var s in n)o.d(l,s,function(a){return n[a]}.bind(null,s));return l},o.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(r,"a",r),r},o.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},o.p="/",o(o.s=4)}([function(t,i,o){var n=o(1),r=o(2);typeof(r=r.__esModule?r.default:r)=="string"&&(r=[[t.i,r,""]]);var l={insert:"head",singleton:!1};n(r,l),t.exports=r.locals||{}},function(t,i,o){var n,r=function(){return n===void 0&&(n=!!(window&&document&&document.all&&!window.atob)),n},l=function(){var k={};return function(x){if(k[x]===void 0){var L=document.querySelector(x);if(window.HTMLIFrameElement&&L instanceof window.HTMLIFrameElement)try{L=L.contentDocument.head}catch{L=null}k[x]=L}return k[x]}}(),s=[];function a(k){for(var x=-1,L=0;L<s.length;L++)if(s[L].identifier===k){x=L;break}return x}function h(k,x){for(var L={},N=[],le=0;le<k.length;le++){var g=k[le],v=x.base?g[0]+x.base:g[0],M=L[v]||0,E="".concat(v," ").concat(M);L[v]=M+1;var b=a(E),C={css:g[1],media:g[2],sourceMap:g[3]};b!==-1?(s[b].references++,s[b].updater(C)):s.push({identifier:E,updater:Q(C,x),references:1}),N.push(E)}return N}function u(k){var x=document.createElement("style"),L=k.attributes||{};if(L.nonce===void 0){var N=o.nc;N&&(L.nonce=N)}if(Object.keys(L).forEach(function(g){x.setAttribute(g,L[g])}),typeof k.insert=="function")k.insert(x);else{var le=l(k.insert||"head");if(!le)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");le.appendChild(x)}return x}var p,A=(p=[],function(k,x){return p[k]=x,p.filter(Boolean).join(`
`)});function y(k,x,L,N){var le=L?"":N.media?"@media ".concat(N.media," {").concat(N.css,"}"):N.css;if(k.styleSheet)k.styleSheet.cssText=A(x,le);else{var g=document.createTextNode(le),v=k.childNodes;v[x]&&k.removeChild(v[x]),v.length?k.insertBefore(g,v[x]):k.appendChild(g)}}function O(k,x,L){var N=L.css,le=L.media,g=L.sourceMap;if(le?k.setAttribute("media",le):k.removeAttribute("media"),g&&btoa&&(N+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(g))))," */")),k.styleSheet)k.styleSheet.cssText=N;else{for(;k.firstChild;)k.removeChild(k.firstChild);k.appendChild(document.createTextNode(N))}}var R=null,I=0;function Q(k,x){var L,N,le;if(x.singleton){var g=I++;L=R||(R=u(x)),N=y.bind(null,L,g,!1),le=y.bind(null,L,g,!0)}else L=u(x),N=O.bind(null,L,x),le=function(){(function(v){if(v.parentNode===null)return!1;v.parentNode.removeChild(v)})(L)};return N(k),function(v){if(v){if(v.css===k.css&&v.media===k.media&&v.sourceMap===k.sourceMap)return;N(k=v)}else le()}}t.exports=function(k,x){(x=x||{}).singleton||typeof x.singleton=="boolean"||(x.singleton=r());var L=h(k=k||[],x);return function(N){if(N=N||[],Object.prototype.toString.call(N)==="[object Array]"){for(var le=0;le<L.length;le++){var g=a(L[le]);s[g].references--}for(var v=h(N,x),M=0;M<L.length;M++){var E=a(L[M]);s[E].references===0&&(s[E].updater(),s.splice(E,1))}L=v}}}},function(t,i,o){(i=o(3)(!1)).push([t.i,`.cdx-list {
    margin: 0;
    padding-left: 40px;
    outline: none;
}

    .cdx-list__item {
        padding: 5.5px 0 5.5px 3px;
        line-height: 1.6em;
    }

    .cdx-list--unordered {
        list-style: disc;
    }

    .cdx-list--ordered {
        list-style: decimal;
    }

    .cdx-list-settings {
        display: flex;
    }

    .cdx-list-settings .cdx-settings-button {
            width: 50%;
        }
`,""]),t.exports=i},function(t,i,o){t.exports=function(n){var r=[];return r.toString=function(){return this.map(function(l){var s=function(a,h){var u=a[1]||"",p=a[3];if(!p)return u;if(h&&typeof btoa=="function"){var A=(O=p,R=btoa(unescape(encodeURIComponent(JSON.stringify(O)))),I="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(R),"/*# ".concat(I," */")),y=p.sources.map(function(Q){return"/*# sourceURL=".concat(p.sourceRoot||"").concat(Q," */")});return[u].concat(y).concat([A]).join(`
`)}var O,R,I;return[u].join(`
`)}(l,n);return l[2]?"@media ".concat(l[2]," {").concat(s,"}"):s}).join("")},r.i=function(l,s,a){typeof l=="string"&&(l=[[null,l,""]]);var h={};if(a)for(var u=0;u<this.length;u++){var p=this[u][0];p!=null&&(h[p]=!0)}for(var A=0;A<l.length;A++){var y=[].concat(l[A]);a&&h[y[0]]||(s&&(y[2]?y[2]="".concat(s," and ").concat(y[2]):y[2]=s),r.push(y))}},r}},function(t,i,o){o.r(i),o.d(i,"default",function(){return A}),o(0);const n='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>';function r(y){return function(O){if(Array.isArray(O))return l(O)}(y)||function(O){if(typeof Symbol<"u"&&Symbol.iterator in Object(O))return Array.from(O)}(y)||function(O,R){if(O){if(typeof O=="string")return l(O,R);var I=Object.prototype.toString.call(O).slice(8,-1);if(I==="Object"&&O.constructor&&(I=O.constructor.name),I==="Map"||I==="Set")return Array.from(O);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return l(O,R)}}(y)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function l(y,O){(O==null||O>y.length)&&(O=y.length);for(var R=0,I=new Array(O);R<O;R++)I[R]=y[R];return I}function s(y,O){var R=Object.keys(y);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(y);O&&(I=I.filter(function(Q){return Object.getOwnPropertyDescriptor(y,Q).enumerable})),R.push.apply(R,I)}return R}function a(y){for(var O=1;O<arguments.length;O++){var R=arguments[O]!=null?arguments[O]:{};O%2?s(Object(R),!0).forEach(function(I){h(y,I,R[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(R)):s(Object(R)).forEach(function(I){Object.defineProperty(y,I,Object.getOwnPropertyDescriptor(R,I))})}return y}function h(y,O,R){return O in y?Object.defineProperty(y,O,{value:R,enumerable:!0,configurable:!0,writable:!0}):y[O]=R,y}function u(y,O){for(var R=0;R<O.length;R++){var I=O[R];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(y,I.key,I)}}function p(y,O,R){return O&&u(y.prototype,O),R&&u(y,R),y}var A=function(){function y(O){var R=O.data,I=O.config,Q=O.api,k=O.readOnly;(function(x,L){if(!(x instanceof L))throw new TypeError("Cannot call a class as a function")})(this,y),this._elements={wrapper:null},this.api=Q,this.readOnly=k,this.settings=[{name:"unordered",label:this.api.i18n.t("Unordered"),icon:n,default:I.defaultStyle==="unordered"||!1},{name:"ordered",label:this.api.i18n.t("Ordered"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>',default:I.defaultStyle==="ordered"||!0}],this._data={style:this.settings.find(function(x){return x.default===!0}).name,items:[]},this.data=R}return p(y,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:n,title:"List"}}}]),p(y,[{key:"render",value:function(){var O=this;return this._elements.wrapper=this.makeMainTag(this._data.style),this._data.items.length?this._data.items.forEach(function(R){O._elements.wrapper.appendChild(O._make("li",O.CSS.item,{innerHTML:R}))}):this._elements.wrapper.appendChild(this._make("li",this.CSS.item)),this.readOnly||this._elements.wrapper.addEventListener("keydown",function(R){switch(R.keyCode){case 13:O.getOutofList(R);break;case 8:O.backspace(R)}},!1),this._elements.wrapper}},{key:"save",value:function(){return this.data}},{key:"renderSettings",value:function(){var O=this;return this.settings.map(function(R){return a(a({},R),{},{isActive:O._data.style===R.name,closeOnActivate:!0,onActivate:function(){return O.toggleTune(R.name)}})})}},{key:"onPaste",value:function(O){var R=O.detail.data;this.data=this.pasteHandler(R)}},{key:"makeMainTag",value:function(O){var R=O==="ordered"?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered,I=O==="ordered"?"ol":"ul";return this._make(I,[this.CSS.baseBlock,this.CSS.wrapper,R],{contentEditable:!this.readOnly})}},{key:"toggleTune",value:function(O){for(var R=this.makeMainTag(O);this._elements.wrapper.hasChildNodes();)R.appendChild(this._elements.wrapper.firstChild);this._elements.wrapper.replaceWith(R),this._elements.wrapper=R,this._data.style=O}},{key:"_make",value:function(O){var R,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},k=document.createElement(O);Array.isArray(I)?(R=k.classList).add.apply(R,r(I)):I&&k.classList.add(I);for(var x in Q)k[x]=Q[x];return k}},{key:"getOutofList",value:function(O){var R=this._elements.wrapper.querySelectorAll("."+this.CSS.item);if(!(R.length<2)){var I=R[R.length-1],Q=this.currentItem;Q!==I||I.textContent.trim().length||(Q.parentElement.removeChild(Q),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()),O.preventDefault(),O.stopPropagation())}}},{key:"backspace",value:function(O){var R=this._elements.wrapper.querySelectorAll("."+this.CSS.item),I=R[0];I&&R.length<2&&!I.innerHTML.replace("<br>"," ").trim()&&O.preventDefault()}},{key:"selectItem",value:function(O){O.preventDefault();var R=window.getSelection(),I=R.anchorNode.parentNode.closest("."+this.CSS.item),Q=new Range;Q.selectNodeContents(I),R.removeAllRanges(),R.addRange(Q)}},{key:"pasteHandler",value:function(O){var R,I=O.tagName;switch(I){case"OL":R="ordered";break;case"UL":case"LI":R="unordered"}var Q={style:R,items:[]};if(I==="LI")Q.items=[O.innerHTML];else{var k=Array.from(O.querySelectorAll("LI"));Q.items=k.map(function(x){return x.innerHTML}).filter(function(x){return!!x.trim()})}return Q}},{key:"CSS",get:function(){return{baseBlock:this.api.styles.block,wrapper:"cdx-list",wrapperOrdered:"cdx-list--ordered",wrapperUnordered:"cdx-list--unordered",item:"cdx-list__item"}}},{key:"data",set:function(O){O||(O={}),this._data.style=O.style||this.settings.find(function(I){return I.default===!0}).name,this._data.items=O.items||[];var R=this._elements.wrapper;R&&R.parentNode.replaceChild(this.render(),R)},get:function(){this._data.items=[];for(var O=this._elements.wrapper.querySelectorAll(".".concat(this.CSS.item)),R=0;R<O.length;R++)O[R].innerHTML.replace("<br>"," ").trim()&&this._data.items.push(O[R].innerHTML);return this._data}},{key:"currentItem",get:function(){var O=window.getSelection().anchorNode;return O.nodeType!==Node.ELEMENT_NODE&&(O=O.parentNode),O.closest(".".concat(this.CSS.item))}}],[{key:"conversionConfig",get:function(){return{export:function(O){return O.items.join(". ")},import:function(O){return{items:[O],style:"unordered"}}}}},{key:"sanitize",get:function(){return{style:{},items:{br:!0}}}},{key:"pasteConfig",get:function(){return{tags:["OL","UL","LI"]}}}]),y}()}]).default})})(bundle$a);var bundleExports$a=bundle$a.exports;const List=getDefaultExportFromCjs(bundleExports$a);var bundle$9={exports:{}};(function(c,e){(function(t,i){c.exports=i()})(window,function(){return function(t){var i={};function o(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=i,o.d=function(n,r,l){o.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:l})},o.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.t=function(n,r){if(1&r&&(n=o(n)),8&r||4&r&&typeof n=="object"&&n&&n.__esModule)return n;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:n}),2&r&&typeof n!="string")for(var s in n)o.d(l,s,function(a){return n[a]}.bind(null,s));return l},o.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(r,"a",r),r},o.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},o.p="/",o(o.s=5)}([function(t,i,o){var n=o(1);typeof n=="string"&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};o(3)(n,r),n.locals&&(t.exports=n.locals)},function(t,i,o){(t.exports=o(2)(!1)).push([t.i,`.cdx-quote-icon svg {
  transform: rotate(180deg);
}

.cdx-quote {
  margin: 0;
}

.cdx-quote__text {
  min-height: 158px;
  margin-bottom: 10px;
}

.cdx-quote__caption {}

.cdx-quote [contentEditable=true][data-placeholder]::before{
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

.cdx-quote [contentEditable=true][data-placeholder]:empty::before {
  opacity: 1;
}

.cdx-quote [contentEditable=true][data-placeholder]:empty:focus::before {
  opacity: 0;
}


.cdx-quote-settings {
  display: flex;
}

.cdx-quote-settings .cdx-settings-button {
  width: 50%;
}
`,""])},function(t,i){t.exports=function(o){var n=[];return n.toString=function(){return this.map(function(r){var l=function(s,a){var h=s[1]||"",u=s[3];if(!u)return h;if(a&&typeof btoa=="function"){var p=(y=u,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(y))))+" */"),A=u.sources.map(function(O){return"/*# sourceURL="+u.sourceRoot+O+" */"});return[h].concat(A).concat([p]).join(`
`)}var y;return[h].join(`
`)}(r,o);return r[2]?"@media "+r[2]+"{"+l+"}":l}).join("")},n.i=function(r,l){typeof r=="string"&&(r=[[null,r,""]]);for(var s={},a=0;a<this.length;a++){var h=this[a][0];typeof h=="number"&&(s[h]=!0)}for(a=0;a<r.length;a++){var u=r[a];typeof u[0]=="number"&&s[u[0]]||(l&&!u[2]?u[2]=l:l&&(u[2]="("+u[2]+") and ("+l+")"),n.push(u))}},n}},function(t,i,o){var n,r,l={},s=(n=function(){return window&&document&&document.all&&!window.atob},function(){return r===void 0&&(r=n.apply(this,arguments)),r}),a=function(g){var v={};return function(M){if(typeof M=="function")return M();if(v[M]===void 0){var E=function(b){return document.querySelector(b)}.call(this,M);if(window.HTMLIFrameElement&&E instanceof window.HTMLIFrameElement)try{E=E.contentDocument.head}catch{E=null}v[M]=E}return v[M]}}(),h=null,u=0,p=[],A=o(4);function y(g,v){for(var M=0;M<g.length;M++){var E=g[M],b=l[E.id];if(b){b.refs++;for(var C=0;C<b.parts.length;C++)b.parts[C](E.parts[C]);for(;C<E.parts.length;C++)b.parts.push(x(E.parts[C],v))}else{var w=[];for(C=0;C<E.parts.length;C++)w.push(x(E.parts[C],v));l[E.id]={id:E.id,refs:1,parts:w}}}}function O(g,v){for(var M=[],E={},b=0;b<g.length;b++){var C=g[b],w=v.base?C[0]+v.base:C[0],f={css:C[1],media:C[2],sourceMap:C[3]};E[w]?E[w].parts.push(f):M.push(E[w]={id:w,parts:[f]})}return M}function R(g,v){var M=a(g.insertInto);if(!M)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var E=p[p.length-1];if(g.insertAt==="top")E?E.nextSibling?M.insertBefore(v,E.nextSibling):M.appendChild(v):M.insertBefore(v,M.firstChild),p.push(v);else if(g.insertAt==="bottom")M.appendChild(v);else{if(typeof g.insertAt!="object"||!g.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var b=a(g.insertInto+" "+g.insertAt.before);M.insertBefore(v,b)}}function I(g){if(g.parentNode===null)return!1;g.parentNode.removeChild(g);var v=p.indexOf(g);v>=0&&p.splice(v,1)}function Q(g){var v=document.createElement("style");return g.attrs.type===void 0&&(g.attrs.type="text/css"),k(v,g.attrs),R(g,v),v}function k(g,v){Object.keys(v).forEach(function(M){g.setAttribute(M,v[M])})}function x(g,v){var M,E,b,C;if(v.transform&&g.css){if(!(C=v.transform(g.css)))return function(){};g.css=C}if(v.singleton){var w=u++;M=h||(h=Q(v)),E=le.bind(null,M,w,!1),b=le.bind(null,M,w,!0)}else g.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(M=function(f){var _=document.createElement("link");return f.attrs.type===void 0&&(f.attrs.type="text/css"),f.attrs.rel="stylesheet",k(_,f.attrs),R(f,_),_}(v),E=function(f,_,H){var W=H.css,Ee=H.sourceMap,Xe=_.convertToAbsoluteUrls===void 0&&Ee;(_.convertToAbsoluteUrls||Xe)&&(W=A(W)),Ee&&(W+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(Ee))))+" */");var It=new Blob([W],{type:"text/css"}),Mt=f.href;f.href=URL.createObjectURL(It),Mt&&URL.revokeObjectURL(Mt)}.bind(null,M,v),b=function(){I(M),M.href&&URL.revokeObjectURL(M.href)}):(M=Q(v),E=function(f,_){var H=_.css,W=_.media;if(W&&f.setAttribute("media",W),f.styleSheet)f.styleSheet.cssText=H;else{for(;f.firstChild;)f.removeChild(f.firstChild);f.appendChild(document.createTextNode(H))}}.bind(null,M),b=function(){I(M)});return E(g),function(f){if(f){if(f.css===g.css&&f.media===g.media&&f.sourceMap===g.sourceMap)return;E(g=f)}else b()}}t.exports=function(g,v){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(v=v||{}).attrs=typeof v.attrs=="object"?v.attrs:{},v.singleton||typeof v.singleton=="boolean"||(v.singleton=s()),v.insertInto||(v.insertInto="head"),v.insertAt||(v.insertAt="bottom");var M=O(g,v);return y(M,v),function(E){for(var b=[],C=0;C<M.length;C++){var w=M[C];(f=l[w.id]).refs--,b.push(f)}for(E&&y(O(E,v),v),C=0;C<b.length;C++){var f;if((f=b[C]).refs===0){for(var _=0;_<f.parts.length;_++)f.parts[_]();delete l[f.id]}}}};var L,N=(L=[],function(g,v){return L[g]=v,L.filter(Boolean).join(`
`)});function le(g,v,M,E){var b=M?"":E.css;if(g.styleSheet)g.styleSheet.cssText=N(v,b);else{var C=document.createTextNode(b),w=g.childNodes;w[v]&&g.removeChild(w[v]),w.length?g.insertBefore(C,w[v]):g.appendChild(C)}}},function(t,i){t.exports=function(o){var n=typeof window<"u"&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var r=n.protocol+"//"+n.host,l=r+n.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(s,a){var h,u=a.trim().replace(/^"(.*)"$/,function(p,A){return A}).replace(/^'(.*)'$/,function(p,A){return A});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(u)?s:(h=u.indexOf("//")===0?u:u.indexOf("/")===0?r+u:l+u.replace(/^\.\//,""),"url("+JSON.stringify(h)+")")})}},function(t,i,o){o.r(i),o(0);function n(a){return function(h){if(Array.isArray(h)){for(var u=0,p=new Array(h.length);u<h.length;u++)p[u]=h[u];return p}}(a)||function(h){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]")return Array.from(h)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(a,h){for(var u=0;u<h.length;u++){var p=h[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(a,p.key,p)}}function l(a,h,u){return h&&r(a.prototype,h),u&&r(a,u),a}o.d(i,"default",function(){return s});var s=function(){function a(h){var u=h.data,p=h.config,A=h.api,y=h.readOnly;(function(I,Q){if(!(I instanceof Q))throw new TypeError("Cannot call a class as a function")})(this,a);var O=a.ALIGNMENTS,R=a.DEFAULT_ALIGNMENT;this.api=A,this.readOnly=y,this.quotePlaceholder=p.quotePlaceholder||a.DEFAULT_QUOTE_PLACEHOLDER,this.captionPlaceholder=p.captionPlaceholder||a.DEFAULT_CAPTION_PLACEHOLDER,this.data={text:u.text||"",caption:u.caption||"",alignment:Object.values(O).includes(u.alignment)&&u.alignment||p.defaultAlignment||R}}return l(a,[{key:"CSS",get:function(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"}}},{key:"settings",get:function(){return[{name:"left",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>'},{name:"center",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>'}]}}],[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>',title:"Quote"}}},{key:"contentless",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"DEFAULT_QUOTE_PLACEHOLDER",get:function(){return"Enter a quote"}},{key:"DEFAULT_CAPTION_PLACEHOLDER",get:function(){return"Enter a caption"}},{key:"ALIGNMENTS",get:function(){return{left:"left",center:"center"}}},{key:"DEFAULT_ALIGNMENT",get:function(){return a.ALIGNMENTS.left}},{key:"conversionConfig",get:function(){return{import:"text",export:function(h){return h.caption?"".concat(h.text," — ").concat(h.caption):h.text}}}}]),l(a,[{key:"render",value:function(){var h=this._make("blockquote",[this.CSS.baseClass,this.CSS.wrapper]),u=this._make("div",[this.CSS.input,this.CSS.text],{contentEditable:!this.readOnly,innerHTML:this.data.text}),p=this._make("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption});return u.dataset.placeholder=this.quotePlaceholder,p.dataset.placeholder=this.captionPlaceholder,h.appendChild(u),h.appendChild(p),h}},{key:"save",value:function(h){var u=h.querySelector(".".concat(this.CSS.text)),p=h.querySelector(".".concat(this.CSS.caption));return Object.assign(this.data,{text:u.innerHTML,caption:p.innerHTML})}},{key:"renderSettings",value:function(){var h=this;return this.settings.map(function(u){return{icon:u.icon,label:h.api.i18n.t("Align ".concat((p=u.name,p[0].toUpperCase()+p.substr(1)))),onActivate:function(){return h._toggleTune(u.name)},isActive:h.data.alignment===u.name,closeOnActivate:!0};var p})}},{key:"_toggleTune",value:function(h){this.data.alignment=h}},{key:"_make",value:function(h){var u,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},y=document.createElement(h);Array.isArray(p)?(u=y.classList).add.apply(u,n(p)):p&&y.classList.add(p);for(var O in A)y[O]=A[O];return y}}],[{key:"sanitize",get:function(){return{text:{br:!0},caption:{br:!0},alignment:{}}}}]),a}()}]).default})})(bundle$9);var bundleExports$9=bundle$9.exports;const Quote=getDefaultExportFromCjs(bundleExports$9);var bundle$8={exports:{}};(function(c,e){(function(t,i){c.exports=i()})(window,function(){return function(t){var i={};function o(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=i,o.d=function(n,r,l){o.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:l})},o.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.t=function(n,r){if(1&r&&(n=o(n)),8&r||4&r&&typeof n=="object"&&n&&n.__esModule)return n;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:n}),2&r&&typeof n!="string")for(var s in n)o.d(l,s,function(a){return n[a]}.bind(null,s));return l},o.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(r,"a",r),r},o.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},o.p="/",o(o.s=14)}([function(t,i,o){var n=o(5),r=o(6),l=o(7),s=o(9);t.exports=function(a,h){return n(a)||r(a,h)||l(a,h)||s()}},function(t,i){function o(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t.exports=o=function(r){return typeof r}:t.exports=o=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},o(n)}t.exports=o},function(t,i){t.exports=function(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}},function(t,i){function o(n,r){for(var l=0;l<r.length;l++){var s=r[l];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}t.exports=function(n,r,l){return r&&o(n.prototype,r),l&&o(n,l),n}},function(t,i){function o(n,r,l){var s,a,h,u,p;function A(){var O=Date.now()-u;O<r&&O>=0?s=setTimeout(A,r-O):(s=null,l||(p=n.apply(h,a),h=a=null))}r==null&&(r=100);var y=function(){h=this,a=arguments,u=Date.now();var O=l&&!s;return s||(s=setTimeout(A,r)),O&&(p=n.apply(h,a),h=a=null),p};return y.clear=function(){s&&(clearTimeout(s),s=null)},y.flush=function(){s&&(p=n.apply(h,a),h=a=null,clearTimeout(s),s=null)},y}o.debounce=o,t.exports=o},function(t,i){t.exports=function(o){if(Array.isArray(o))return o}},function(t,i){t.exports=function(o,n){if(typeof Symbol<"u"&&Symbol.iterator in Object(o)){var r=[],l=!0,s=!1,a=void 0;try{for(var h,u=o[Symbol.iterator]();!(l=(h=u.next()).done)&&(r.push(h.value),!n||r.length!==n);l=!0);}catch(p){s=!0,a=p}finally{try{l||u.return==null||u.return()}finally{if(s)throw a}}return r}}},function(t,i,o){var n=o(8);t.exports=function(r,l){if(r){if(typeof r=="string")return n(r,l);var s=Object.prototype.toString.call(r).slice(8,-1);return s==="Object"&&r.constructor&&(s=r.constructor.name),s==="Map"||s==="Set"?Array.from(s):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?n(r,l):void 0}}},function(t,i){t.exports=function(o,n){(n==null||n>o.length)&&(n=o.length);for(var r=0,l=new Array(n);r<n;r++)l[r]=o[r];return l}},function(t,i){t.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(t,i,o){var n=o(11),r=o(12);typeof(r=r.__esModule?r.default:r)=="string"&&(r=[[t.i,r,""]]);var l={insert:"head",singleton:!1};n(r,l),t.exports=r.locals||{}},function(t,i,o){var n,r=function(){return n===void 0&&(n=!!(window&&document&&document.all&&!window.atob)),n},l=function(){var k={};return function(x){if(k[x]===void 0){var L=document.querySelector(x);if(window.HTMLIFrameElement&&L instanceof window.HTMLIFrameElement)try{L=L.contentDocument.head}catch{L=null}k[x]=L}return k[x]}}(),s=[];function a(k){for(var x=-1,L=0;L<s.length;L++)if(s[L].identifier===k){x=L;break}return x}function h(k,x){for(var L={},N=[],le=0;le<k.length;le++){var g=k[le],v=x.base?g[0]+x.base:g[0],M=L[v]||0,E="".concat(v," ").concat(M);L[v]=M+1;var b=a(E),C={css:g[1],media:g[2],sourceMap:g[3]};b!==-1?(s[b].references++,s[b].updater(C)):s.push({identifier:E,updater:Q(C,x),references:1}),N.push(E)}return N}function u(k){var x=document.createElement("style"),L=k.attributes||{};if(L.nonce===void 0){var N=o.nc;N&&(L.nonce=N)}if(Object.keys(L).forEach(function(g){x.setAttribute(g,L[g])}),typeof k.insert=="function")k.insert(x);else{var le=l(k.insert||"head");if(!le)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");le.appendChild(x)}return x}var p,A=(p=[],function(k,x){return p[k]=x,p.filter(Boolean).join(`
`)});function y(k,x,L,N){var le=L?"":N.media?"@media ".concat(N.media," {").concat(N.css,"}"):N.css;if(k.styleSheet)k.styleSheet.cssText=A(x,le);else{var g=document.createTextNode(le),v=k.childNodes;v[x]&&k.removeChild(v[x]),v.length?k.insertBefore(g,v[x]):k.appendChild(g)}}function O(k,x,L){var N=L.css,le=L.media,g=L.sourceMap;if(le?k.setAttribute("media",le):k.removeAttribute("media"),g&&btoa&&(N+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(g))))," */")),k.styleSheet)k.styleSheet.cssText=N;else{for(;k.firstChild;)k.removeChild(k.firstChild);k.appendChild(document.createTextNode(N))}}var R=null,I=0;function Q(k,x){var L,N,le;if(x.singleton){var g=I++;L=R||(R=u(x)),N=y.bind(null,L,g,!1),le=y.bind(null,L,g,!0)}else L=u(x),N=O.bind(null,L,x),le=function(){(function(v){if(v.parentNode===null)return!1;v.parentNode.removeChild(v)})(L)};return N(k),function(v){if(v){if(v.css===k.css&&v.media===k.media&&v.sourceMap===k.sourceMap)return;N(k=v)}else le()}}t.exports=function(k,x){(x=x||{}).singleton||typeof x.singleton=="boolean"||(x.singleton=r());var L=h(k=k||[],x);return function(N){if(N=N||[],Object.prototype.toString.call(N)==="[object Array]"){for(var le=0;le<L.length;le++){var g=a(L[le]);s[g].references--}for(var v=h(N,x),M=0;M<L.length;M++){var E=a(L[M]);s[E].references===0&&(s[E].updater(),s.splice(E,1))}L=v}}}},function(t,i,o){(i=o(13)(!1)).push([t.i,`.embed-tool--loading .embed-tool__caption {
      display: none;
    }

    .embed-tool--loading .embed-tool__preloader {
      display: block;
    }

    .embed-tool--loading .embed-tool__content {
      display: none;
    }
  .embed-tool__preloader {
    display: none;
    position: relative;
    height: 200px;
    box-sizing: border-box;
    border-radius: 5px;
    border: 1px solid #e6e9eb;
  }
  .embed-tool__preloader::before {
      content: '';
      position: absolute;
      z-index: 3;
      left: 50%;
      top: 50%;
      width: 30px;
      height: 30px;
      margin-top: -25px;
      margin-left: -15px;
      border-radius: 50%;
      border: 2px solid #cdd1e0;
      border-top-color: #388ae5;
      box-sizing: border-box;
      animation: embed-preloader-spin 2s infinite linear;
    }
  .embed-tool__url {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    max-width: 250px;
    color: #7b7e89;
    font-size: 11px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  .embed-tool__content {
    width: 100%;
  }
  .embed-tool__caption {
    margin-top: 7px;
  }
  .embed-tool__caption[contentEditable=true][data-placeholder]::before{
      position: absolute;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      opacity: 0;
    }
  .embed-tool__caption[contentEditable=true][data-placeholder]:empty::before {
         opacity: 1;
      }
  .embed-tool__caption[contentEditable=true][data-placeholder]:empty:focus::before {
        opacity: 0;
      }

@keyframes embed-preloader-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
`,""]),t.exports=i},function(t,i,o){t.exports=function(n){var r=[];return r.toString=function(){return this.map(function(l){var s=function(a,h){var u=a[1]||"",p=a[3];if(!p)return u;if(h&&typeof btoa=="function"){var A=(O=p,R=btoa(unescape(encodeURIComponent(JSON.stringify(O)))),I="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(R),"/*# ".concat(I," */")),y=p.sources.map(function(Q){return"/*# sourceURL=".concat(p.sourceRoot||"").concat(Q," */")});return[u].concat(y).concat([A]).join(`
`)}var O,R,I;return[u].join(`
`)}(l,n);return l[2]?"@media ".concat(l[2]," {").concat(s,"}"):s}).join("")},r.i=function(l,s,a){typeof l=="string"&&(l=[[null,l,""]]);var h={};if(a)for(var u=0;u<this.length;u++){var p=this[u][0];p!=null&&(h[p]=!0)}for(var A=0;A<l.length;A++){var y=[].concat(l[A]);a&&h[y[0]]||(s&&(y[2]?y[2]="".concat(s," and ").concat(y[2]):y[2]=s),r.push(y))}},r}},function(t,i,o){o.r(i),o.d(i,"default",function(){return O});var n=o(1),r=o.n(n),l=o(0),s=o.n(l),a=o(2),h=o.n(a),u=o(3),p=o.n(u),A={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:function(R){var I=s()(R,2),Q=I[0],k=I[1];if(!k&&Q)return Q;var x={start:"start",end:"end",t:"start",time_continue:"start",list:"list"};return k=k.slice(1).split("&").map(function(L){var N=L.split("="),le=s()(N,2),g=le[0],v=le[1];return Q||g!=="v"?x[g]?v==="LL"||v.startsWith("RDMM")||v.startsWith("FL")?null:"".concat(x[g],"=").concat(v):null:(Q=v,null)}).filter(function(L){return!!L}),Q+"?"+k.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:`<iframe frameborder='0' scrolling='no' style="width:100%;" height='436' allowfullscreen ></iframe>`,height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:function(R){return R.join("/")}},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:function(R){return R.join("/")}},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:function(R){return R.join("/embed/")}},instagram:{regex:/https?:\/\/www\.instagram\.com\/p\/([^\/\?\&]+)\/?.*/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400},twitter:{regex:/^https?:\/\/twitter\.com\/(?:#!\/)?(\w+)\/status(?:es)?\/(\d+?.*)?$/,embedUrl:"https://twitframe.com/show?url=https://twitter.com/<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:function(R){return R.join("/status/")}},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:function(R){return R[1]}},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:function(R){return R.join("/")}},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600},miro:{regex:/https:\/\/miro.com\/\S+(\S{12})\/(\S+)?/,embedUrl:"https://miro.com/app/live-embed/<%= remote_id %>",html:'<iframe width="700" height="500" style="margin: 0 auto;" allowFullScreen frameBorder="0" scrolling="no"></iframe>'}},y=(o(10),o(4)),O=function(){function R(I){var Q=I.data,k=I.api,x=I.readOnly;h()(this,R),this.api=k,this._data={},this.element=null,this.readOnly=x,this.data=Q}return p()(R,[{key:"render",value:function(){var I=this;if(!this.data.service){var Q=document.createElement("div");return this.element=Q,Q}var k=R.services[this.data.service].html,x=document.createElement("div"),L=document.createElement("div"),N=document.createElement("template"),le=this.createPreloader();x.classList.add(this.CSS.baseClass,this.CSS.container,this.CSS.containerLoading),L.classList.add(this.CSS.input,this.CSS.caption),x.appendChild(le),L.contentEditable=!this.readOnly,L.dataset.placeholder=this.api.i18n.t("Enter a caption"),L.innerHTML=this.data.caption||"",N.innerHTML=k,N.content.firstChild.setAttribute("src",this.data.embed),N.content.firstChild.classList.add(this.CSS.content);var g=this.embedIsReady(x);return x.appendChild(N.content.firstChild),x.appendChild(L),g.then(function(){x.classList.remove(I.CSS.containerLoading)}),this.element=x,x}},{key:"createPreloader",value:function(){var I=document.createElement("preloader"),Q=document.createElement("div");return Q.textContent=this.data.source,I.classList.add(this.CSS.preloader),Q.classList.add(this.CSS.url),I.appendChild(Q),I}},{key:"save",value:function(){return this.data}},{key:"onPaste",value:function(I){var Q=I.detail,k=Q.key,x=Q.data,L=R.services[k],N=L.regex,le=L.embedUrl,g=L.width,v=L.height,M=L.id,E=M===void 0?function(w){return w.shift()}:M,b=N.exec(x).slice(1),C=le.replace(/<%= remote_id %>/g,E(b));this.data={service:k,source:x,embed:C,width:g,height:v}}},{key:"embedIsReady",value:function(I){var Q=null;return new Promise(function(k,x){(Q=new MutationObserver(Object(y.debounce)(k,450))).observe(I,{childList:!0,subtree:!0})}).then(function(){Q.disconnect()})}},{key:"data",set:function(I){if(!(I instanceof Object))throw Error("Embed Tool data should be object");var Q=I.service,k=I.source,x=I.embed,L=I.width,N=I.height,le=I.caption,g=le===void 0?"":le;this._data={service:Q||this.data.service,source:k||this.data.source,embed:x||this.data.embed,width:L||this.data.width,height:N||this.data.height,caption:g||this.data.caption||""};var v=this.element;v&&v.parentNode.replaceChild(this.render(),v)},get:function(){if(this.element){var I=this.element.querySelector(".".concat(this.api.styles.input));this._data.caption=I?I.innerHTML:""}return this._data}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"embed-tool",containerLoading:"embed-tool--loading",preloader:"embed-tool__preloader",caption:"embed-tool__caption",url:"embed-tool__url",content:"embed-tool__content"}}}],[{key:"prepare",value:function(I){var Q=I.config,k=(Q===void 0?{}:Q).services,x=k===void 0?{}:k,L=Object.entries(A),N=Object.entries(x).filter(function(g){var v=s()(g,2),M=(v[0],v[1]);return typeof M=="boolean"&&M===!0}).map(function(g){return s()(g,1)[0]}),le=Object.entries(x).filter(function(g){var v=s()(g,2),M=(v[0],v[1]);return r()(M)==="object"}).filter(function(g){var v=s()(g,2),M=(v[0],v[1]);return R.checkServiceConfig(M)}).map(function(g){var v=s()(g,2),M=v[0],E=v[1];return[M,{regex:E.regex,embedUrl:E.embedUrl,html:E.html,height:E.height,width:E.width,id:E.id}]});N.length&&(L=L.filter(function(g){var v=s()(g,1)[0];return N.includes(v)})),L=L.concat(le),R.services=L.reduce(function(g,v){var M=s()(v,2),E=M[0],b=M[1];return E in g?(g[E]=Object.assign({},g[E],b),g):(g[E]=b,g)},{}),R.patterns=L.reduce(function(g,v){var M=s()(v,2),E=M[0],b=M[1];return g[E]=b.regex,g},{})}},{key:"checkServiceConfig",value:function(I){var Q=I.regex,k=I.embedUrl,x=I.html,L=I.height,N=I.width,le=I.id,g=Q&&Q instanceof RegExp&&k&&typeof k=="string"&&x&&typeof x=="string";return g=(g=(g=g&&(le===void 0||le instanceof Function))&&(L===void 0||Number.isFinite(L)))&&(N===void 0||Number.isFinite(N))}},{key:"pasteConfig",get:function(){return{patterns:R.patterns}}},{key:"isReadOnlySupported",get:function(){return!0}}]),R}()}]).default})})(bundle$8);var bundleExports$8=bundle$8.exports;const Embed=getDefaultExportFromCjs(bundleExports$8);var bundle$7={exports:{}};(function(c,e){(function(t,i){c.exports=i()})(window,function(){return function(t){var i={};function o(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=i,o.d=function(n,r,l){o.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:l})},o.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.t=function(n,r){if(1&r&&(n=o(n)),8&r||4&r&&typeof n=="object"&&n&&n.__esModule)return n;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:n}),2&r&&typeof n!="string")for(var s in n)o.d(l,s,function(a){return n[a]}.bind(null,s));return l},o.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(r,"a",r),r},o.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},o.p="/",o(o.s=18)}([function(t,i,o){t.exports=o(11)},function(t,i){function o(n,r){for(var l=0;l<r.length;l++){var s=r[l];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}t.exports=function(n,r,l){return r&&o(n.prototype,r),l&&o(n,l),n}},function(t,i){t.exports=function(o,n){(n==null||n>o.length)&&(n=o.length);for(var r=0,l=new Array(n);r<n;r++)l[r]=o[r];return l}},function(t,i,o){var n=o(7),r=o(8),l=o(9),s=o(10);t.exports=function(a){return n(a)||r(a)||l(a)||s()}},function(t,i){function o(n,r,l,s,a,h,u){try{var p=n[h](u),A=p.value}catch(y){return void l(y)}p.done?r(A):Promise.resolve(A).then(s,a)}t.exports=function(n){return function(){var r=this,l=arguments;return new Promise(function(s,a){var h=n.apply(r,l);function u(A){o(h,s,a,u,p,"next",A)}function p(A){o(h,s,a,u,p,"throw",A)}u(void 0)})}}},function(t,i){t.exports=function(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}},function(t,i,o){t.exports=function(n){var r={};function l(s){if(r[s])return r[s].exports;var a=r[s]={i:s,l:!1,exports:{}};return n[s].call(a.exports,a,a.exports,l),a.l=!0,a.exports}return l.m=n,l.c=r,l.d=function(s,a,h){l.o(s,a)||Object.defineProperty(s,a,{enumerable:!0,get:h})},l.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},l.t=function(s,a){if(1&a&&(s=l(s)),8&a||4&a&&typeof s=="object"&&s&&s.__esModule)return s;var h=Object.create(null);if(l.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:s}),2&a&&typeof s!="string")for(var u in s)l.d(h,u,function(p){return s[p]}.bind(null,u));return h},l.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return l.d(a,"a",a),a},l.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},l.p="",l(l.s=3)}([function(n,r){var l;l=function(){return this}();try{l=l||new Function("return this")()}catch{typeof window=="object"&&(l=window)}n.exports=l},function(n,r,l){(function(s){var a=l(2),h=setTimeout;function u(){}function p(k){if(!(this instanceof p))throw new TypeError("Promises must be constructed via new");if(typeof k!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Q(k,this)}function A(k,x){for(;k._state===3;)k=k._value;k._state!==0?(k._handled=!0,p._immediateFn(function(){var L=k._state===1?x.onFulfilled:x.onRejected;if(L!==null){var N;try{N=L(k._value)}catch(le){return void O(x.promise,le)}y(x.promise,N)}else(k._state===1?y:O)(x.promise,k._value)})):k._deferreds.push(x)}function y(k,x){try{if(x===k)throw new TypeError("A promise cannot be resolved with itself.");if(x&&(typeof x=="object"||typeof x=="function")){var L=x.then;if(x instanceof p)return k._state=3,k._value=x,void R(k);if(typeof L=="function")return void Q((N=L,le=x,function(){N.apply(le,arguments)}),k)}k._state=1,k._value=x,R(k)}catch(g){O(k,g)}var N,le}function O(k,x){k._state=2,k._value=x,R(k)}function R(k){k._state===2&&k._deferreds.length===0&&p._immediateFn(function(){k._handled||p._unhandledRejectionFn(k._value)});for(var x=0,L=k._deferreds.length;x<L;x++)A(k,k._deferreds[x]);k._deferreds=null}function I(k,x,L){this.onFulfilled=typeof k=="function"?k:null,this.onRejected=typeof x=="function"?x:null,this.promise=L}function Q(k,x){var L=!1;try{k(function(N){L||(L=!0,y(x,N))},function(N){L||(L=!0,O(x,N))})}catch(N){if(L)return;L=!0,O(x,N)}}p.prototype.catch=function(k){return this.then(null,k)},p.prototype.then=function(k,x){var L=new this.constructor(u);return A(this,new I(k,x,L)),L},p.prototype.finally=a.a,p.all=function(k){return new p(function(x,L){if(!k||k.length===void 0)throw new TypeError("Promise.all accepts an array");var N=Array.prototype.slice.call(k);if(N.length===0)return x([]);var le=N.length;function g(M,E){try{if(E&&(typeof E=="object"||typeof E=="function")){var b=E.then;if(typeof b=="function")return void b.call(E,function(C){g(M,C)},L)}N[M]=E,--le==0&&x(N)}catch(C){L(C)}}for(var v=0;v<N.length;v++)g(v,N[v])})},p.resolve=function(k){return k&&typeof k=="object"&&k.constructor===p?k:new p(function(x){x(k)})},p.reject=function(k){return new p(function(x,L){L(k)})},p.race=function(k){return new p(function(x,L){for(var N=0,le=k.length;N<le;N++)k[N].then(x,L)})},p._immediateFn=typeof s=="function"&&function(k){s(k)}||function(k){h(k,0)},p._unhandledRejectionFn=function(k){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",k)},r.a=p}).call(this,l(5).setImmediate)},function(n,r,l){r.a=function(s){var a=this.constructor;return this.then(function(h){return a.resolve(s()).then(function(){return h})},function(h){return a.resolve(s()).then(function(){return a.reject(h)})})}},function(n,r,l){function s(I){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q})(I)}l(4);var a,h,u,p,A,y,O=l(8),R=(h=function(I){return new Promise(function(Q,k){I=p(I),I=A(I);var x=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");x.open(I.method,I.url),x.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(I.headers).forEach(function(N){var le=I.headers[N];x.setRequestHeader(N,le)});var L=I.ratio;x.upload.addEventListener("progress",function(N){var le=Math.round(N.loaded/N.total*100),g=Math.ceil(le*L/100);I.progress(g)},!1),x.addEventListener("progress",function(N){var le=Math.round(N.loaded/N.total*100),g=Math.ceil(le*(100-L)/100)+L;I.progress(g)},!1),x.onreadystatechange=function(){if(x.readyState===4){var N=x.response;try{N=JSON.parse(N)}catch{}var le=O.parseHeaders(x.getAllResponseHeaders()),g={body:N,code:x.status,headers:le};x.status===200?Q(g):k(g)}},x.send(I.data)})},u=function(I){return I.method="POST",h(I)},p=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(I.url&&typeof I.url!="string")throw new Error("Url must be a string");if(I.url=I.url||"",I.method&&typeof I.method!="string")throw new Error("`method` must be a string or null");if(I.method=I.method?I.method.toUpperCase():"GET",I.headers&&s(I.headers)!=="object")throw new Error("`headers` must be an object or null");if(I.headers=I.headers||{},I.type&&(typeof I.type!="string"||!Object.values(a).includes(I.type)))throw new Error("`type` must be taken from module's «contentType» library");if(I.progress&&typeof I.progress!="function")throw new Error("`progress` must be a function or null");if(I.progress=I.progress||function(Q){},I.beforeSend=I.beforeSend||function(Q){},I.ratio&&typeof I.ratio!="number")throw new Error("`ratio` must be a number");if(I.ratio<0||I.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(I.ratio=I.ratio||90,I.accept&&typeof I.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(I.accept=I.accept||"*/*",I.multiple&&typeof I.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(I.multiple=I.multiple||!1,I.fieldName&&typeof I.fieldName!="string")throw new Error("`fieldName` must be a string");return I.fieldName=I.fieldName||"files",I},A=function(I){switch(I.method){case"GET":var Q=y(I.data,a.URLENCODED);delete I.data,I.url=/\?/.test(I.url)?I.url+"&"+Q:I.url+"?"+Q;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var k=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||a.JSON}(I);(O.isFormData(I.data)||O.isFormElement(I.data))&&(k=a.FORM),I.data=y(I.data,k),k!==R.contentType.FORM&&(I.headers["content-type"]=k)}return I},y=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case a.URLENCODED:return O.urlEncode(I);case a.JSON:return O.jsonEncode(I);case a.FORM:return O.formEncode(I);default:return I}},{contentType:a={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:h,get:function(I){return I.method="GET",h(I)},post:u,transport:function(I){return I=p(I),O.selectFiles(I).then(function(Q){for(var k=new FormData,x=0;x<Q.length;x++)k.append(I.fieldName,Q[x],Q[x].name);return O.isObject(I.data)&&Object.keys(I.data).forEach(function(L){var N=I.data[L];k.append(L,N)}),I.beforeSend&&I.beforeSend(Q),I.data=k,u(I)})},selectFiles:function(I){return delete(I=p(I)).beforeSend,O.selectFiles(I)}});n.exports=R},function(n,r,l){l.r(r);var s=l(1);window.Promise=window.Promise||s.a},function(n,r,l){(function(s){var a=s!==void 0&&s||typeof self<"u"&&self||window,h=Function.prototype.apply;function u(p,A){this._id=p,this._clearFn=A}r.setTimeout=function(){return new u(h.call(setTimeout,a,arguments),clearTimeout)},r.setInterval=function(){return new u(h.call(setInterval,a,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(p){p&&p.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(a,this._id)},r.enroll=function(p,A){clearTimeout(p._idleTimeoutId),p._idleTimeout=A},r.unenroll=function(p){clearTimeout(p._idleTimeoutId),p._idleTimeout=-1},r._unrefActive=r.active=function(p){clearTimeout(p._idleTimeoutId);var A=p._idleTimeout;A>=0&&(p._idleTimeoutId=setTimeout(function(){p._onTimeout&&p._onTimeout()},A))},l(6),r.setImmediate=typeof self<"u"&&self.setImmediate||s!==void 0&&s.setImmediate||this&&this.setImmediate,r.clearImmediate=typeof self<"u"&&self.clearImmediate||s!==void 0&&s.clearImmediate||this&&this.clearImmediate}).call(this,l(0))},function(n,r,l){(function(s,a){(function(h,u){if(!h.setImmediate){var p,A,y,O,R,I=1,Q={},k=!1,x=h.document,L=Object.getPrototypeOf&&Object.getPrototypeOf(h);L=L&&L.setTimeout?L:h,{}.toString.call(h.process)==="[object process]"?p=function(g){a.nextTick(function(){le(g)})}:function(){if(h.postMessage&&!h.importScripts){var g=!0,v=h.onmessage;return h.onmessage=function(){g=!1},h.postMessage("","*"),h.onmessage=v,g}}()?(O="setImmediate$"+Math.random()+"$",R=function(g){g.source===h&&typeof g.data=="string"&&g.data.indexOf(O)===0&&le(+g.data.slice(O.length))},h.addEventListener?h.addEventListener("message",R,!1):h.attachEvent("onmessage",R),p=function(g){h.postMessage(O+g,"*")}):h.MessageChannel?((y=new MessageChannel).port1.onmessage=function(g){le(g.data)},p=function(g){y.port2.postMessage(g)}):x&&"onreadystatechange"in x.createElement("script")?(A=x.documentElement,p=function(g){var v=x.createElement("script");v.onreadystatechange=function(){le(g),v.onreadystatechange=null,A.removeChild(v),v=null},A.appendChild(v)}):p=function(g){setTimeout(le,0,g)},L.setImmediate=function(g){typeof g!="function"&&(g=new Function(""+g));for(var v=new Array(arguments.length-1),M=0;M<v.length;M++)v[M]=arguments[M+1];var E={callback:g,args:v};return Q[I]=E,p(I),I++},L.clearImmediate=N}function N(g){delete Q[g]}function le(g){if(k)setTimeout(le,0,g);else{var v=Q[g];if(v){k=!0;try{(function(M){var E=M.callback,b=M.args;switch(b.length){case 0:E();break;case 1:E(b[0]);break;case 2:E(b[0],b[1]);break;case 3:E(b[0],b[1],b[2]);break;default:E.apply(void 0,b)}})(v)}finally{N(g),k=!1}}}}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,l(0),l(7))},function(n,r){var l,s,a=n.exports={};function h(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function p(L){if(l===setTimeout)return setTimeout(L,0);if((l===h||!l)&&setTimeout)return l=setTimeout,setTimeout(L,0);try{return l(L,0)}catch{try{return l.call(null,L,0)}catch{return l.call(this,L,0)}}}(function(){try{l=typeof setTimeout=="function"?setTimeout:h}catch{l=h}try{s=typeof clearTimeout=="function"?clearTimeout:u}catch{s=u}})();var A,y=[],O=!1,R=-1;function I(){O&&A&&(O=!1,A.length?y=A.concat(y):R=-1,y.length&&Q())}function Q(){if(!O){var L=p(I);O=!0;for(var N=y.length;N;){for(A=y,y=[];++R<N;)A&&A[R].run();R=-1,N=y.length}A=null,O=!1,function(le){if(s===clearTimeout)return clearTimeout(le);if((s===u||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(le);try{s(le)}catch{try{return s.call(null,le)}catch{return s.call(this,le)}}}(L)}}function k(L,N){this.fun=L,this.array=N}function x(){}a.nextTick=function(L){var N=new Array(arguments.length-1);if(arguments.length>1)for(var le=1;le<arguments.length;le++)N[le-1]=arguments[le];y.push(new k(L,N)),y.length!==1||O||p(Q)},k.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=x,a.addListener=x,a.once=x,a.off=x,a.removeListener=x,a.removeAllListeners=x,a.emit=x,a.prependListener=x,a.prependOnceListener=x,a.listeners=function(L){return[]},a.binding=function(L){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(L){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(n,r,l){function s(h,u){for(var p=0;p<u.length;p++){var A=u[p];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,A.key,A)}}var a=l(9);n.exports=function(){function h(){(function(A,y){if(!(A instanceof y))throw new TypeError("Cannot call a class as a function")})(this,h)}var u,p;return u=h,(p=[{key:"urlEncode",value:function(A){return a(A)}},{key:"jsonEncode",value:function(A){return JSON.stringify(A)}},{key:"formEncode",value:function(A){if(this.isFormData(A))return A;if(this.isFormElement(A))return new FormData(A);if(this.isObject(A)){var y=new FormData;return Object.keys(A).forEach(function(O){var R=A[O];y.append(O,R)}),y}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(A){return Object.prototype.toString.call(A)==="[object Object]"}},{key:"isFormData",value:function(A){return A instanceof FormData}},{key:"isFormElement",value:function(A){return A instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(y,O){var R=document.createElement("INPUT");R.type="file",A.multiple&&R.setAttribute("multiple","multiple"),A.accept&&R.setAttribute("accept",A.accept),R.style.display="none",document.body.appendChild(R),R.addEventListener("change",function(I){var Q=I.target.files;y(Q),document.body.removeChild(R)},!1),R.click()})}},{key:"parseHeaders",value:function(A){var y=A.trim().split(/[\r\n]+/),O={};return y.forEach(function(R){var I=R.split(": "),Q=I.shift(),k=I.join(": ");Q&&(O[Q]=k)}),O}}])&&s(u,p),h}()},function(n,r){var l=function(a){return encodeURIComponent(a).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},s=function(a,h,u,p){return h=h||null,u=u||"&",p=p||null,a?function(A){for(var y=new Array,O=0;O<A.length;O++)A[O]&&y.push(A[O]);return y}(Object.keys(a).map(function(A){var y,O,R=A;if(p&&(R=p+"["+R+"]"),typeof a[A]=="object"&&a[A]!==null)y=s(a[A],null,u,R);else{h&&(O=R,R=!isNaN(parseFloat(O))&&isFinite(O)?h+Number(R):R);var I=a[A];I=(I=(I=(I=I===!0?"1":I)===!1?"0":I)===0?"0":I)||"",y=l(R)+"="+l(I)}return y})).join(u).replace(/[!'()*]/g,""):""};n.exports=s}])},function(t,i,o){var n=o(2);t.exports=function(r){if(Array.isArray(r))return n(r)}},function(t,i){t.exports=function(o){if(typeof Symbol<"u"&&Symbol.iterator in Object(o))return Array.from(o)}},function(t,i,o){var n=o(2);t.exports=function(r,l){if(r){if(typeof r=="string")return n(r,l);var s=Object.prototype.toString.call(r).slice(8,-1);return s==="Object"&&r.constructor&&(s=r.constructor.name),s==="Map"||s==="Set"?Array.from(r):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?n(r,l):void 0}}},function(t,i){t.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(t,i,o){var n=function(r){var l=Object.prototype,s=l.hasOwnProperty,a=typeof Symbol=="function"?Symbol:{},h=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",p=a.toStringTag||"@@toStringTag";function A(f,_,H,W){var Ee=_&&_.prototype instanceof R?_:R,Xe=Object.create(Ee.prototype),It=new b(W||[]);return Xe._invoke=function(Mt,tn,en){var nn="suspendedStart";return function(rn,sn){if(nn==="executing")throw new Error("Generator is already running");if(nn==="completed"){if(rn==="throw")throw sn;return w()}for(en.method=rn,en.arg=sn;;){var cn=en.delegate;if(cn){var an=v(cn,en);if(an){if(an===O)continue;return an}}if(en.method==="next")en.sent=en._sent=en.arg;else if(en.method==="throw"){if(nn==="suspendedStart")throw nn="completed",en.arg;en.dispatchException(en.arg)}else en.method==="return"&&en.abrupt("return",en.arg);nn="executing";var on=y(Mt,tn,en);if(on.type==="normal"){if(nn=en.done?"completed":"suspendedYield",on.arg===O)continue;return{value:on.arg,done:en.done}}on.type==="throw"&&(nn="completed",en.method="throw",en.arg=on.arg)}}}(f,H,It),Xe}function y(f,_,H){try{return{type:"normal",arg:f.call(_,H)}}catch(W){return{type:"throw",arg:W}}}r.wrap=A;var O={};function R(){}function I(){}function Q(){}var k={};k[h]=function(){return this};var x=Object.getPrototypeOf,L=x&&x(x(C([])));L&&L!==l&&s.call(L,h)&&(k=L);var N=Q.prototype=R.prototype=Object.create(k);function le(f){["next","throw","return"].forEach(function(_){f[_]=function(H){return this._invoke(_,H)}})}function g(f,_){var H;this._invoke=function(W,Ee){function Xe(){return new _(function(It,Mt){(function tn(en,nn,rn,sn){var cn=y(f[en],f,nn);if(cn.type!=="throw"){var an=cn.arg,on=an.value;return on&&typeof on=="object"&&s.call(on,"__await")?_.resolve(on.__await).then(function(ln){tn("next",ln,rn,sn)},function(ln){tn("throw",ln,rn,sn)}):_.resolve(on).then(function(ln){an.value=ln,rn(an)},function(ln){return tn("throw",ln,rn,sn)})}sn(cn.arg)})(W,Ee,It,Mt)})}return H=H?H.then(Xe,Xe):Xe()}}function v(f,_){var H=f.iterator[_.method];if(H===void 0){if(_.delegate=null,_.method==="throw"){if(f.iterator.return&&(_.method="return",_.arg=void 0,v(f,_),_.method==="throw"))return O;_.method="throw",_.arg=new TypeError("The iterator does not provide a 'throw' method")}return O}var W=y(H,f.iterator,_.arg);if(W.type==="throw")return _.method="throw",_.arg=W.arg,_.delegate=null,O;var Ee=W.arg;return Ee?Ee.done?(_[f.resultName]=Ee.value,_.next=f.nextLoc,_.method!=="return"&&(_.method="next",_.arg=void 0),_.delegate=null,O):Ee:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,O)}function M(f){var _={tryLoc:f[0]};1 in f&&(_.catchLoc=f[1]),2 in f&&(_.finallyLoc=f[2],_.afterLoc=f[3]),this.tryEntries.push(_)}function E(f){var _=f.completion||{};_.type="normal",delete _.arg,f.completion=_}function b(f){this.tryEntries=[{tryLoc:"root"}],f.forEach(M,this),this.reset(!0)}function C(f){if(f){var _=f[h];if(_)return _.call(f);if(typeof f.next=="function")return f;if(!isNaN(f.length)){var H=-1,W=function Ee(){for(;++H<f.length;)if(s.call(f,H))return Ee.value=f[H],Ee.done=!1,Ee;return Ee.value=void 0,Ee.done=!0,Ee};return W.next=W}}return{next:w}}function w(){return{value:void 0,done:!0}}return I.prototype=N.constructor=Q,Q.constructor=I,Q[p]=I.displayName="GeneratorFunction",r.isGeneratorFunction=function(f){var _=typeof f=="function"&&f.constructor;return!!_&&(_===I||(_.displayName||_.name)==="GeneratorFunction")},r.mark=function(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,Q):(f.__proto__=Q,p in f||(f[p]="GeneratorFunction")),f.prototype=Object.create(N),f},r.awrap=function(f){return{__await:f}},le(g.prototype),g.prototype[u]=function(){return this},r.AsyncIterator=g,r.async=function(f,_,H,W,Ee){Ee===void 0&&(Ee=Promise);var Xe=new g(A(f,_,H,W),Ee);return r.isGeneratorFunction(_)?Xe:Xe.next().then(function(It){return It.done?It.value:Xe.next()})},le(N),N[p]="Generator",N[h]=function(){return this},N.toString=function(){return"[object Generator]"},r.keys=function(f){var _=[];for(var H in f)_.push(H);return _.reverse(),function W(){for(;_.length;){var Ee=_.pop();if(Ee in f)return W.value=Ee,W.done=!1,W}return W.done=!0,W}},r.values=C,b.prototype={constructor:b,reset:function(f){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!f)for(var _ in this)_.charAt(0)==="t"&&s.call(this,_)&&!isNaN(+_.slice(1))&&(this[_]=void 0)},stop:function(){this.done=!0;var f=this.tryEntries[0].completion;if(f.type==="throw")throw f.arg;return this.rval},dispatchException:function(f){if(this.done)throw f;var _=this;function H(tn,en){return Xe.type="throw",Xe.arg=f,_.next=tn,en&&(_.method="next",_.arg=void 0),!!en}for(var W=this.tryEntries.length-1;W>=0;--W){var Ee=this.tryEntries[W],Xe=Ee.completion;if(Ee.tryLoc==="root")return H("end");if(Ee.tryLoc<=this.prev){var It=s.call(Ee,"catchLoc"),Mt=s.call(Ee,"finallyLoc");if(It&&Mt){if(this.prev<Ee.catchLoc)return H(Ee.catchLoc,!0);if(this.prev<Ee.finallyLoc)return H(Ee.finallyLoc)}else if(It){if(this.prev<Ee.catchLoc)return H(Ee.catchLoc,!0)}else{if(!Mt)throw new Error("try statement without catch or finally");if(this.prev<Ee.finallyLoc)return H(Ee.finallyLoc)}}}},abrupt:function(f,_){for(var H=this.tryEntries.length-1;H>=0;--H){var W=this.tryEntries[H];if(W.tryLoc<=this.prev&&s.call(W,"finallyLoc")&&this.prev<W.finallyLoc){var Ee=W;break}}Ee&&(f==="break"||f==="continue")&&Ee.tryLoc<=_&&_<=Ee.finallyLoc&&(Ee=null);var Xe=Ee?Ee.completion:{};return Xe.type=f,Xe.arg=_,Ee?(this.method="next",this.next=Ee.finallyLoc,O):this.complete(Xe)},complete:function(f,_){if(f.type==="throw")throw f.arg;return f.type==="break"||f.type==="continue"?this.next=f.arg:f.type==="return"?(this.rval=this.arg=f.arg,this.method="return",this.next="end"):f.type==="normal"&&_&&(this.next=_),O},finish:function(f){for(var _=this.tryEntries.length-1;_>=0;--_){var H=this.tryEntries[_];if(H.finallyLoc===f)return this.complete(H.completion,H.afterLoc),E(H),O}},catch:function(f){for(var _=this.tryEntries.length-1;_>=0;--_){var H=this.tryEntries[_];if(H.tryLoc===f){var W=H.completion;if(W.type==="throw"){var Ee=W.arg;E(H)}return Ee}}throw new Error("illegal catch attempt")},delegateYield:function(f,_,H){return this.delegate={iterator:C(f),resultName:_,nextLoc:H},this.method==="next"&&(this.arg=void 0),O}},r}(t.exports);try{regeneratorRuntime=n}catch{Function("r","regeneratorRuntime = r")(n)}},function(t,i,o){var n=o(13),r=o(14);typeof(r=r.__esModule?r.default:r)=="string"&&(r=[[t.i,r,""]]);var l={insert:"head",singleton:!1};n(r,l),t.exports=r.locals||{}},function(t,i,o){var n,r=function(){return n===void 0&&(n=!!(window&&document&&document.all&&!window.atob)),n},l=function(){var k={};return function(x){if(k[x]===void 0){var L=document.querySelector(x);if(window.HTMLIFrameElement&&L instanceof window.HTMLIFrameElement)try{L=L.contentDocument.head}catch{L=null}k[x]=L}return k[x]}}(),s=[];function a(k){for(var x=-1,L=0;L<s.length;L++)if(s[L].identifier===k){x=L;break}return x}function h(k,x){for(var L={},N=[],le=0;le<k.length;le++){var g=k[le],v=x.base?g[0]+x.base:g[0],M=L[v]||0,E="".concat(v," ").concat(M);L[v]=M+1;var b=a(E),C={css:g[1],media:g[2],sourceMap:g[3]};b!==-1?(s[b].references++,s[b].updater(C)):s.push({identifier:E,updater:Q(C,x),references:1}),N.push(E)}return N}function u(k){var x=document.createElement("style"),L=k.attributes||{};if(L.nonce===void 0){var N=o.nc;N&&(L.nonce=N)}if(Object.keys(L).forEach(function(g){x.setAttribute(g,L[g])}),typeof k.insert=="function")k.insert(x);else{var le=l(k.insert||"head");if(!le)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");le.appendChild(x)}return x}var p,A=(p=[],function(k,x){return p[k]=x,p.filter(Boolean).join(`
`)});function y(k,x,L,N){var le=L?"":N.media?"@media ".concat(N.media," {").concat(N.css,"}"):N.css;if(k.styleSheet)k.styleSheet.cssText=A(x,le);else{var g=document.createTextNode(le),v=k.childNodes;v[x]&&k.removeChild(v[x]),v.length?k.insertBefore(g,v[x]):k.appendChild(g)}}function O(k,x,L){var N=L.css,le=L.media,g=L.sourceMap;if(le?k.setAttribute("media",le):k.removeAttribute("media"),g&&btoa&&(N+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(g))))," */")),k.styleSheet)k.styleSheet.cssText=N;else{for(;k.firstChild;)k.removeChild(k.firstChild);k.appendChild(document.createTextNode(N))}}var R=null,I=0;function Q(k,x){var L,N,le;if(x.singleton){var g=I++;L=R||(R=u(x)),N=y.bind(null,L,g,!1),le=y.bind(null,L,g,!0)}else L=u(x),N=O.bind(null,L,x),le=function(){(function(v){if(v.parentNode===null)return!1;v.parentNode.removeChild(v)})(L)};return N(k),function(v){if(v){if(v.css===k.css&&v.media===k.media&&v.sourceMap===k.sourceMap)return;N(k=v)}else le()}}t.exports=function(k,x){(x=x||{}).singleton||typeof x.singleton=="boolean"||(x.singleton=r());var L=h(k=k||[],x);return function(N){if(N=N||[],Object.prototype.toString.call(N)==="[object Array]"){for(var le=0;le<L.length;le++){var g=a(L[le]);s[g].references--}for(var v=h(N,x),M=0;M<L.length;M++){var E=a(L[M]);s[E].references===0&&(s[E].updater(),s.splice(E,1))}L=v}}}},function(t,i,o){(i=o(15)(!1)).push([t.i,`.link-tool {
  position: relative;
}

  .link-tool__input {
    padding-left: 38px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none'%3E%3Cpath stroke='%23707684' stroke-linecap='round' stroke-width='2' d='m7.7 12.6-.021.02a2.795 2.795 0 0 0-.044 4.005v0a2.795 2.795 0 0 0 3.936.006l1.455-1.438a3 3 0 0 0 .34-3.866l-.146-.207'/%3E%3Cpath stroke='%23707684' stroke-linecap='round' stroke-width='2' d='m16.22 11.12.136-.14c.933-.954.992-2.46.135-3.483v0a2.597 2.597 0 0 0-3.664-.32L11.39 8.386a3 3 0 0 0-.301 4.3l.031.034'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: 10px;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
  }

  .link-tool__input-holder {
      position: relative;
    }

  .link-tool__input-holder--error .link-tool__input {
          background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none'%3E%3Cpath stroke='rgb(224, 147, 147)' stroke-linecap='round' stroke-width='2' d='m7.7 12.6-.021.02a2.795 2.795 0 0 0-.044 4.005v0a2.795 2.795 0 0 0 3.936.006l1.455-1.438a3 3 0 0 0 .34-3.866l-.146-.207'/%3E%3Cpath stroke='rgb(224, 147, 147)' stroke-linecap='round' stroke-width='2' d='m16.22 11.12.136-.14c.933-.954.992-2.46.135-3.483v0a2.597 2.597 0 0 0-3.664-.32L11.39 8.386a3 3 0 0 0-.301 4.3l.031.034'/%3E%3C/svg%3E");
          background-color: #fff3f6;
          border-color: #f3e0e0;
          color: #a95a5a;
          box-shadow: inset 0 1px 3px 0 rgba(146, 62, 62, .05);
        }

  .link-tool__input[contentEditable=true][data-placeholder]::before{
      position: absolute;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      opacity: 0;
    }

  .link-tool__input[contentEditable=true][data-placeholder]:empty::before {
        opacity: 1;
      }

  .link-tool__input[contentEditable=true][data-placeholder]:empty:focus::before {
         opacity: 0;
       }

  .link-tool__progress {
    position: absolute;
    box-shadow: inset 0 1px 3px 0 rgba(102, 85, 107, 0.04);
    height: 100%;
    width: 0;
    background-color: #f4f5f7;
    z-index: -1;
  }

  .link-tool__progress--loading {
      -webkit-animation: progress 500ms ease-in;
      -webkit-animation-fill-mode: forwards;
    }

  .link-tool__progress--loaded {
      width: 100%;
    }

  .link-tool__content {
    display: block;
    padding: 25px;
    border-radius: 2px;
    box-shadow: 0 0 0 2px #fff;
    color: initial !important;
    text-decoration: none !important;
  }

  .link-tool__content::after {
      content: "";
      clear: both;
      display: table;
    }

  .link-tool__content--rendered {
      background: #fff;
      border: 1px solid rgba(201, 201, 204, 0.48);
      box-shadow: 0 1px 3px rgba(0,0,0, .1);
      border-radius: 6px;
      will-change: filter;
      animation: link-in 450ms 1 cubic-bezier(0.215, 0.61, 0.355, 1);
    }

  .link-tool__content--rendered:hover {
        box-shadow: 0 0 3px rgba(0,0,0, .16);
      }

  .link-tool__image {
    background-position: center center;
    background-repeat: no-repeat;
    background-size: cover;
    margin: 0 0 0 30px;
    width: 65px;
    height: 65px;
    border-radius: 3px;
    float: right;
  }

  .link-tool__title {
    font-size: 17px;
    font-weight: 600;
    line-height: 1.5em;
    margin: 0 0 10px 0;
  }

  .link-tool__title + .link-tool__anchor {
      margin-top: 25px;
    }

  .link-tool__description {
    margin: 0 0 20px 0;
    font-size: 15px;
    line-height: 1.55em;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .link-tool__anchor {
    display: block;
    font-size: 15px;
    line-height: 1em;
    color: #888 !important;
    border: 0 !important;
    padding: 0 !important;
  }

@keyframes link-in {
  from {
    filter: blur(5px);
  }

  to {
    filter: none;
  }
}

.codex-editor--narrow .link-tool__image {
  display: none;
}

@-webkit-keyframes progress {
  0% {
    width: 0;
  }
  100% {
    width: 85%;
  }
}
`,""]),t.exports=i},function(t,i,o){t.exports=function(n){var r=[];return r.toString=function(){return this.map(function(l){var s=function(a,h){var u=a[1]||"",p=a[3];if(!p)return u;if(h&&typeof btoa=="function"){var A=(O=p,R=btoa(unescape(encodeURIComponent(JSON.stringify(O)))),I="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(R),"/*# ".concat(I," */")),y=p.sources.map(function(Q){return"/*# sourceURL=".concat(p.sourceRoot||"").concat(Q," */")});return[u].concat(y).concat([A]).join(`
`)}var O,R,I;return[u].join(`
`)}(l,n);return l[2]?"@media ".concat(l[2]," {").concat(s,"}"):s}).join("")},r.i=function(l,s,a){typeof l=="string"&&(l=[[null,l,""]]);var h={};if(a)for(var u=0;u<this.length;u++){var p=this[u][0];p!=null&&(h[p]=!0)}for(var A=0;A<l.length;A++){var y=[].concat(l[A]);a&&h[y[0]]||(s&&(y[2]?y[2]="".concat(s," and ").concat(y[2]):y[2]=s),r.push(y))}},r}},function(t,i,o){(function(n){(function(r){var l=function(){try{return!!Symbol.iterator}catch{return!1}}(),s=function(p){var A={next:function(){var y=p.shift();return{done:y===void 0,value:y}}};return l&&(A[Symbol.iterator]=function(){return A}),A},a=function(p){return encodeURIComponent(p).replace(/%20/g,"+")},h=function(p){return decodeURIComponent(String(p).replace(/\+/g," "))};(function(){try{var p=r.URLSearchParams;return new p("?a=1").toString()==="a=1"&&typeof p.prototype.set=="function"}catch{return!1}})()||function(){var p=function(y){Object.defineProperty(this,"_entries",{writable:!0,value:{}});var O=typeof y;if(O!=="undefined")if(O==="string")y!==""&&this._fromString(y);else if(y instanceof p){var R=this;y.forEach(function(x,L){R.append(L,x)})}else{if(y===null||O!=="object")throw new TypeError("Unsupported input's type for URLSearchParams");if(Object.prototype.toString.call(y)==="[object Array]")for(var I=0;I<y.length;I++){var Q=y[I];if(Object.prototype.toString.call(Q)!=="[object Array]"&&Q.length===2)throw new TypeError("Expected [string, any] as entry at index "+I+" of URLSearchParams's input");this.append(Q[0],Q[1])}else for(var k in y)y.hasOwnProperty(k)&&this.append(k,y[k])}},A=p.prototype;A.append=function(y,O){y in this._entries?this._entries[y].push(String(O)):this._entries[y]=[String(O)]},A.delete=function(y){delete this._entries[y]},A.get=function(y){return y in this._entries?this._entries[y][0]:null},A.getAll=function(y){return y in this._entries?this._entries[y].slice(0):[]},A.has=function(y){return y in this._entries},A.set=function(y,O){this._entries[y]=[String(O)]},A.forEach=function(y,O){var R;for(var I in this._entries)if(this._entries.hasOwnProperty(I)){R=this._entries[I];for(var Q=0;Q<R.length;Q++)y.call(O,R[Q],I,this)}},A.keys=function(){var y=[];return this.forEach(function(O,R){y.push(R)}),s(y)},A.values=function(){var y=[];return this.forEach(function(O){y.push(O)}),s(y)},A.entries=function(){var y=[];return this.forEach(function(O,R){y.push([R,O])}),s(y)},l&&(A[Symbol.iterator]=A.entries),A.toString=function(){var y=[];return this.forEach(function(O,R){y.push(a(R)+"="+a(O))}),y.join("&")},r.URLSearchParams=p}();var u=r.URLSearchParams.prototype;typeof u.sort!="function"&&(u.sort=function(){var p=this,A=[];this.forEach(function(O,R){A.push([R,O]),p._entries||p.delete(R)}),A.sort(function(O,R){return O[0]<R[0]?-1:O[0]>R[0]?1:0}),p._entries&&(p._entries={});for(var y=0;y<A.length;y++)this.append(A[y][0],A[y][1])}),typeof u._fromString!="function"&&Object.defineProperty(u,"_fromString",{enumerable:!1,configurable:!1,writable:!1,value:function(p){if(this._entries)this._entries={};else{var A=[];this.forEach(function(I,Q){A.push(Q)});for(var y=0;y<A.length;y++)this.delete(A[y])}var O,R=(p=p.replace(/^\?/,"")).split("&");for(y=0;y<R.length;y++)O=R[y].split("="),this.append(h(O[0]),O.length>1?h(O[1]):"")}})})(n!==void 0?n:typeof window<"u"?window:typeof self<"u"?self:this),function(r){if(function(){try{var s=new r.URL("b","http://a");return s.pathname="c d",s.href==="http://a/c%20d"&&s.searchParams}catch{return!1}}()||function(){var s=r.URL,a=function(u,p){typeof u!="string"&&(u=String(u));var A,y=document;if(p&&(r.location===void 0||p!==r.location.href)){(A=(y=document.implementation.createHTMLDocument("")).createElement("base")).href=p,y.head.appendChild(A);try{if(A.href.indexOf(p)!==0)throw new Error(A.href)}catch(N){throw new Error("URL unable to set base "+p+" due to "+N)}}var O=y.createElement("a");O.href=u,A&&(y.body.appendChild(O),O.href=O.href);var R=y.createElement("input");if(R.type="url",R.value=u,O.protocol===":"||!/:/.test(O.href)||!R.checkValidity()&&!p)throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:O});var I=new r.URLSearchParams(this.search),Q=!0,k=!0,x=this;["append","delete","set"].forEach(function(N){var le=I[N];I[N]=function(){le.apply(I,arguments),Q&&(k=!1,x.search=I.toString(),k=!0)}}),Object.defineProperty(this,"searchParams",{value:I,enumerable:!0});var L=void 0;Object.defineProperty(this,"_updateSearchParams",{enumerable:!1,configurable:!1,writable:!1,value:function(){this.search!==L&&(L=this.search,k&&(Q=!1,this.searchParams._fromString(this.search),Q=!0))}})},h=a.prototype;["hash","host","hostname","port","protocol"].forEach(function(u){(function(p){Object.defineProperty(h,p,{get:function(){return this._anchorElement[p]},set:function(A){this._anchorElement[p]=A},enumerable:!0})})(u)}),Object.defineProperty(h,"search",{get:function(){return this._anchorElement.search},set:function(u){this._anchorElement.search=u,this._updateSearchParams()},enumerable:!0}),Object.defineProperties(h,{toString:{get:function(){var u=this;return function(){return u.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(u){this._anchorElement.href=u,this._updateSearchParams()},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(u){this._anchorElement.pathname=u},enumerable:!0},origin:{get:function(){var u={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],p=this._anchorElement.port!=u&&this._anchorElement.port!=="";return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(p?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(u){},enumerable:!0},username:{get:function(){return""},set:function(u){},enumerable:!0}}),a.createObjectURL=function(u){return s.createObjectURL.apply(s,arguments)},a.revokeObjectURL=function(u){return s.revokeObjectURL.apply(s,arguments)},r.URL=a}(),r.location!==void 0&&!("origin"in r.location)){var l=function(){return r.location.protocol+"//"+r.location.hostname+(r.location.port?":"+r.location.port:"")};try{Object.defineProperty(r.location,"origin",{get:l,enumerable:!0})}catch{setInterval(function(){r.location.origin=l()},100)}}}(n!==void 0?n:typeof window<"u"?window:typeof self<"u"?self:this)}).call(this,o(17))},function(t,i){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}t.exports=o},function(t,i,o){o.r(i),o.d(i,"default",function(){return I});var n=o(3),r=o.n(n),l=o(0),s=o.n(l),a=o(4),h=o.n(a),u=o(5),p=o.n(u),A=o(1),y=o.n(A),O=(o(12),o(16),o(6)),R=o.n(O),I=function(){function Q(x){var L=x.data,N=x.config,le=x.api,g=x.readOnly;p()(this,Q),this.api=le,this.readOnly=g,this.config={endpoint:N.endpoint||"",headers:N.headers||{}},this.nodes={wrapper:null,container:null,progress:null,input:null,inputHolder:null,linkContent:null,linkImage:null,linkTitle:null,linkDescription:null,linkText:null},this._data={link:"",meta:{}},this.data=L}var k;return y()(Q,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.569 6.39509 13.9269 6.25143 12.8271 7.17675L11.39 8.38588C10.0935 9.47674 9.95704 11.4241 11.0887 12.6852L11.12 12.72"/></svg>',title:"Link"}}},{key:"enableLineBreaks",get:function(){return!0}}]),y()(Q,[{key:"render",value:function(){return this.nodes.wrapper=this.make("div",this.CSS.baseClass),this.nodes.container=this.make("div",this.CSS.container),this.nodes.inputHolder=this.makeInputHolder(),this.nodes.linkContent=this.prepareLinkPreview(),Object.keys(this.data.meta).length?(this.nodes.container.appendChild(this.nodes.linkContent),this.showLinkPreview(this.data.meta)):this.nodes.container.appendChild(this.nodes.inputHolder),this.nodes.wrapper.appendChild(this.nodes.container),this.nodes.wrapper}},{key:"save",value:function(){return this.data}},{key:"validate",value:function(){return this.data.link.trim()!==""}},{key:"makeInputHolder",value:function(){var x=this,L=this.make("div",this.CSS.inputHolder);return this.nodes.progress=this.make("label",this.CSS.progress),this.nodes.input=this.make("div",[this.CSS.input,this.CSS.inputEl],{contentEditable:!this.readOnly}),this.nodes.input.dataset.placeholder=this.api.i18n.t("Link"),this.readOnly||(this.nodes.input.addEventListener("paste",function(N){x.startFetching(N)}),this.nodes.input.addEventListener("keydown",function(N){var le=N.ctrlKey||N.metaKey;switch(N.keyCode){case 13:N.preventDefault(),N.stopPropagation(),x.startFetching(N);break;case 65:le&&x.selectLinkUrl(N)}})),L.appendChild(this.nodes.progress),L.appendChild(this.nodes.input),L}},{key:"startFetching",value:function(x){var L=this.nodes.input.textContent;x.type==="paste"&&(L=(x.clipboardData||window.clipboardData).getData("text")),this.removeErrorStyle(),this.fetchLinkData(L)}},{key:"removeErrorStyle",value:function(){this.nodes.inputHolder.classList.remove(this.CSS.inputError),this.nodes.inputHolder.insertBefore(this.nodes.progress,this.nodes.input)}},{key:"selectLinkUrl",value:function(x){x.preventDefault(),x.stopPropagation();var L=window.getSelection(),N=new Range,le=L.anchorNode.parentNode.closest(".".concat(this.CSS.inputHolder)).querySelector(".".concat(this.CSS.inputEl));N.selectNodeContents(le),L.removeAllRanges(),L.addRange(N)}},{key:"prepareLinkPreview",value:function(){var x=this.make("a",this.CSS.linkContent,{target:"_blank",rel:"nofollow noindex noreferrer"});return this.nodes.linkImage=this.make("div",this.CSS.linkImage),this.nodes.linkTitle=this.make("div",this.CSS.linkTitle),this.nodes.linkDescription=this.make("p",this.CSS.linkDescription),this.nodes.linkText=this.make("span",this.CSS.linkText),x}},{key:"showLinkPreview",value:function(x){var L=x.image,N=x.title,le=x.description;this.nodes.container.appendChild(this.nodes.linkContent),L&&L.url&&(this.nodes.linkImage.style.backgroundImage="url("+L.url+")",this.nodes.linkContent.appendChild(this.nodes.linkImage)),N&&(this.nodes.linkTitle.textContent=N,this.nodes.linkContent.appendChild(this.nodes.linkTitle)),le&&(this.nodes.linkDescription.textContent=le,this.nodes.linkContent.appendChild(this.nodes.linkDescription)),this.nodes.linkContent.classList.add(this.CSS.linkContentRendered),this.nodes.linkContent.setAttribute("href",this.data.link),this.nodes.linkContent.appendChild(this.nodes.linkText);try{this.nodes.linkText.textContent=new URL(this.data.link).hostname}catch{this.nodes.linkText.textContent=this.data.link}}},{key:"showProgress",value:function(){this.nodes.progress.classList.add(this.CSS.progressLoading)}},{key:"hideProgress",value:function(){var x=this;return new Promise(function(L){x.nodes.progress.classList.remove(x.CSS.progressLoading),x.nodes.progress.classList.add(x.CSS.progressLoaded),setTimeout(L,500)})}},{key:"applyErrorStyle",value:function(){this.nodes.inputHolder.classList.add(this.CSS.inputError),this.nodes.progress.remove()}},{key:"fetchLinkData",value:(k=h()(s.a.mark(function x(L){var N,le;return s.a.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return this.showProgress(),this.data={link:L},g.prev=2,g.next=5,R.a.get({url:this.config.endpoint,headers:this.config.headers,data:{url:L}});case 5:N=g.sent,le=N.body,this.onFetch(le),g.next=13;break;case 10:g.prev=10,g.t0=g.catch(2),this.fetchingFailed(this.api.i18n.t("Couldn't fetch the link data"));case 13:case"end":return g.stop()}},x,this,[[2,10]])})),function(x){return k.apply(this,arguments)})},{key:"onFetch",value:function(x){var L=this;if(x&&x.success){var N=x.meta,le=x.link||this.data.link;this.data={meta:N,link:le},N?this.hideProgress().then(function(){L.nodes.inputHolder.remove(),L.showLinkPreview(N)}):this.fetchingFailed(this.api.i18n.t("Wrong response format from the server"))}else this.fetchingFailed(this.api.i18n.t("Couldn't get this link data, try the other one"))}},{key:"fetchingFailed",value:function(x){this.api.notifier.show({message:x,style:"error"}),this.applyErrorStyle()}},{key:"make",value:function(x){var L,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=document.createElement(x);Array.isArray(N)?(L=g.classList).add.apply(L,r()(N)):N&&g.classList.add(N);for(var v in le)g[v]=le[v];return g}},{key:"data",set:function(x){this._data=Object.assign({},{link:x.link||this._data.link,meta:x.meta||this._data.meta})},get:function(){return this._data}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"link-tool",inputEl:"link-tool__input",inputHolder:"link-tool__input-holder",inputError:"link-tool__input-holder--error",linkContent:"link-tool__content",linkContentRendered:"link-tool__content--rendered",linkImage:"link-tool__image",linkTitle:"link-tool__title",linkDescription:"link-tool__description",linkText:"link-tool__anchor",progress:"link-tool__progress",progressLoading:"link-tool__progress--loading",progressLoaded:"link-tool__progress--loaded"}}}]),Q}()}]).default})})(bundle$7);var bundleExports$7=bundle$7.exports;const Link=getDefaultExportFromCjs(bundleExports$7);var table={exports:{}};(function(c,e){(function(t,i){c.exports=i()})(window,function(){return function(t){var i={};function o(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=i,o.d=function(n,r,l){o.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:l})},o.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.t=function(n,r){if(1&r&&(n=o(n)),8&r||4&r&&typeof n=="object"&&n&&n.__esModule)return n;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:n}),2&r&&typeof n!="string")for(var s in n)o.d(l,s,function(a){return n[a]}.bind(null,s));return l},o.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(r,"a",r),r},o.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},o.p="/",o(o.s=6)}([function(t,i){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"><rect width="18" height="18" fill="#F4F5F7" rx="2"></rect><circle cx="11.5" cy="6.5" r="1.5"></circle><circle cx="11.5" cy="11.5" r="1.5"></circle><circle cx="6.5" cy="6.5" r="1.5"></circle><circle cx="6.5" cy="11.5" r="1.5"></circle></svg>'},function(t,i,o){var n=o(2);typeof n=="string"&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};o(4)(n,r),n.locals&&(t.exports=n.locals)},function(t,i,o){(t.exports=o(3)(!1)).push([t.i,'.tc-wrap{--color-background:#f9f9fb;--color-text-secondary:#7b7e89;--color-border:#e8e8eb;--cell-size:34px;--toolbox-icon-size:18px;--toolbox-padding:6px;--toolbox-aiming-field-size:calc(var(--toolbox-icon-size) + var(--toolbox-padding)*2);border-left:0;position:relative;height:100%;width:100%;margin-top:var(--toolbox-icon-size);box-sizing:border-box;display:grid;grid-template-columns:calc(100% - var(--cell-size)) var(--cell-size);}.tc-wrap--readonly{grid-template-columns:100% var(--cell-size)}.tc-wrap svg{vertical-align:top}@media print{.tc-wrap{border-left-color:var(--color-border);border-left-style:solid;border-left-width:1px;grid-template-columns:100% var(--cell-size)}}@media print{.tc-wrap .tc-row:after{display:none}}.tc-table{position:relative;width:100%;height:100%;display:grid;font-size:14px;border-top:1px solid var(--color-border);line-height:1.4;}.tc-table:after{width:calc(var(--cell-size));height:100%;left:calc(var(--cell-size)*-1);top:0}.tc-table:after,.tc-table:before{position:absolute;content:""}.tc-table:before{width:100%;height:var(--toolbox-aiming-field-size);top:calc(var(--toolbox-aiming-field-size)*-1);left:0}.tc-table--heading .tc-row:first-child{font-weight:600;border-bottom:2px solid var(--color-border);}.tc-table--heading .tc-row:first-child [contenteditable]:empty:before{content:attr(heading);color:var(--color-text-secondary)}.tc-table--heading .tc-row:first-child:after{bottom:-2px;border-bottom:2px solid var(--color-border)}.tc-add-column,.tc-add-row{display:flex;color:var(--color-text-secondary)}@media print{.tc-add{display:none}}.tc-add-column{padding:4px 0;justify-content:center;border-top:1px solid var(--color-border);}@media print{.tc-add-column{display:none}}.tc-add-row{height:var(--cell-size);align-items:center;padding-left:4px;position:relative;}.tc-add-row:before{content:"";position:absolute;right:calc(var(--cell-size)*-1);width:var(--cell-size);height:100%}@media print{.tc-add-row{display:none}}.tc-add-column,.tc-add-row{transition:0s;cursor:pointer;will-change:background-color;}.tc-add-column:hover,.tc-add-row:hover{transition:background-color .1s ease;background-color:var(--color-background)}.tc-add-row{margin-top:1px;}.tc-add-row:hover:before{transition:.1s;background-color:var(--color-background)}.tc-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(10px,1fr));position:relative;border-bottom:1px solid var(--color-border);}.tc-row:after{content:"";pointer-events:none;position:absolute;width:var(--cell-size);height:100%;bottom:-1px;right:calc(var(--cell-size)*-1);border-bottom:1px solid var(--color-border)}.tc-row--selected{background:var(--color-background)}.tc-row--selected:after{background:var(--color-background)}.tc-cell{border-right:1px solid var(--color-border);padding:6px 12px;overflow:hidden;outline:none;line-break:normal;}.tc-cell--selected{background:var(--color-background)}.tc-wrap--readonly .tc-row:after{display:none}.tc-toolbox{--toolbox-padding:6px;--popover-margin:30px;--toggler-click-zone-size:30px;--toggler-dots-color:#7b7e89;--toggler-dots-color-hovered:#1d202b;position:absolute;cursor:pointer;z-index:1;opacity:0;transition:opacity .1s;will-change:left,opacity;}.tc-toolbox--column{top:calc(var(--toggler-click-zone-size)*-1);transform:translateX(calc(var(--toggler-click-zone-size)*-1/2));will-change:left,opacity}.tc-toolbox--row{left:calc(var(--popover-margin)*-1);transform:translateY(calc(var(--toggler-click-zone-size)*-1/2));margin-top:-1px;will-change:top,opacity}.tc-toolbox--showed{opacity:1}.tc-toolbox .tc-popover{position:absolute;top:0;left:var(--popover-margin)}.tc-toolbox__toggler{display:flex;align-items:center;justify-content:center;width:var(--toggler-click-zone-size);height:var(--toggler-click-zone-size);color:var(--toggler-dots-color);opacity:0;transition:opacity .15s ease;will-change:opacity;}.tc-toolbox__toggler:hover{color:var(--toggler-dots-color-hovered)}.tc-toolbox__toggler svg{fill:currentColor}.tc-wrap:hover .tc-toolbox__toggler{opacity:1}.tc-settings .cdx-settings-button{width:50%;margin:0}.tc-popover{--color-border:#eaeaea;--color-background:#fff;--color-background-hover:rgba(232,232,235,0.49);--color-background-confirm:#e24a4a;--color-background-confirm-hover:#d54040;--color-text-confirm:#fff;background:var(--color-background);border:1px solid var(--color-border);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:6px;padding:6px;display:none;will-change:opacity,transform;}.tc-popover--opened{display:block;animation:menuShowing .1s cubic-bezier(.215,.61,.355,1) forwards}.tc-popover__item{display:flex;align-items:center;padding:2px 14px 2px 2px;border-radius:5px;cursor:pointer;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;user-select:none;}.tc-popover__item:hover{background:var(--color-background-hover)}.tc-popover__item:not(:last-of-type){margin-bottom:2px}.tc-popover__item-icon{display:inline-flex;width:26px;height:26px;align-items:center;justify-content:center;background:var(--color-background);border-radius:5px;border:1px solid var(--color-border);margin-right:8px}.tc-popover__item-label{line-height:22px;font-size:14px;font-weight:500}.tc-popover__item--confirm{background:var(--color-background-confirm);color:var(--color-text-confirm);}.tc-popover__item--confirm:hover{background-color:var(--color-background-confirm-hover)}.tc-popover__item--confirm .tc-popover__item-icon{background:var(--color-background-confirm);border-color:rgba(0,0,0,.1);}.tc-popover__item--confirm .tc-popover__item-icon svg{transition:transform .2s ease-in;transform:rotate(90deg) scale(1.2)}.tc-popover__item--hidden{display:none}@keyframes menuShowing{0%{opacity:0;transform:translateY(-8px) scale(.9)}70%{opacity:1;transform:translateY(2px)}to{transform:translateY(0)}}',""])},function(t,i){t.exports=function(o){var n=[];return n.toString=function(){return this.map(function(r){var l=function(s,a){var h=s[1]||"",u=s[3];if(!u)return h;if(a&&typeof btoa=="function"){var p=(y=u,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(y))))+" */"),A=u.sources.map(function(O){return"/*# sourceURL="+u.sourceRoot+O+" */"});return[h].concat(A).concat([p]).join(`
`)}var y;return[h].join(`
`)}(r,o);return r[2]?"@media "+r[2]+"{"+l+"}":l}).join("")},n.i=function(r,l){typeof r=="string"&&(r=[[null,r,""]]);for(var s={},a=0;a<this.length;a++){var h=this[a][0];typeof h=="number"&&(s[h]=!0)}for(a=0;a<r.length;a++){var u=r[a];typeof u[0]=="number"&&s[u[0]]||(l&&!u[2]?u[2]=l:l&&(u[2]="("+u[2]+") and ("+l+")"),n.push(u))}},n}},function(t,i,o){var n,r,l={},s=(n=function(){return window&&document&&document.all&&!window.atob},function(){return r===void 0&&(r=n.apply(this,arguments)),r}),a=function(E,b){return b?b.querySelector(E):document.querySelector(E)},h=function(E){var b={};return function(C,w){if(typeof C=="function")return C();if(b[C]===void 0){var f=a.call(this,C,w);if(window.HTMLIFrameElement&&f instanceof window.HTMLIFrameElement)try{f=f.contentDocument.head}catch{f=null}b[C]=f}return b[C]}}(),u=null,p=0,A=[],y=o(5);function O(E,b){for(var C=0;C<E.length;C++){var w=E[C],f=l[w.id];if(f){f.refs++;for(var _=0;_<f.parts.length;_++)f.parts[_](w.parts[_]);for(;_<w.parts.length;_++)f.parts.push(L(w.parts[_],b))}else{var H=[];for(_=0;_<w.parts.length;_++)H.push(L(w.parts[_],b));l[w.id]={id:w.id,refs:1,parts:H}}}}function R(E,b){for(var C=[],w={},f=0;f<E.length;f++){var _=E[f],H=b.base?_[0]+b.base:_[0],W={css:_[1],media:_[2],sourceMap:_[3]};w[H]?w[H].parts.push(W):C.push(w[H]={id:H,parts:[W]})}return C}function I(E,b){var C=h(E.insertInto);if(!C)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var w=A[A.length-1];if(E.insertAt==="top")w?w.nextSibling?C.insertBefore(b,w.nextSibling):C.appendChild(b):C.insertBefore(b,C.firstChild),A.push(b);else if(E.insertAt==="bottom")C.appendChild(b);else{if(typeof E.insertAt!="object"||!E.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var f=h(E.insertAt.before,C);C.insertBefore(b,f)}}function Q(E){if(E.parentNode===null)return!1;E.parentNode.removeChild(E);var b=A.indexOf(E);b>=0&&A.splice(b,1)}function k(E){var b=document.createElement("style");if(E.attrs.type===void 0&&(E.attrs.type="text/css"),E.attrs.nonce===void 0){var C=function(){return o.nc}();C&&(E.attrs.nonce=C)}return x(b,E.attrs),I(E,b),b}function x(E,b){Object.keys(b).forEach(function(C){E.setAttribute(C,b[C])})}function L(E,b){var C,w,f,_;if(b.transform&&E.css){if(!(_=typeof b.transform=="function"?b.transform(E.css):b.transform.default(E.css)))return function(){};E.css=_}if(b.singleton){var H=p++;C=u||(u=k(b)),w=g.bind(null,C,H,!1),f=g.bind(null,C,H,!0)}else E.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(C=function(W){var Ee=document.createElement("link");return W.attrs.type===void 0&&(W.attrs.type="text/css"),W.attrs.rel="stylesheet",x(Ee,W.attrs),I(W,Ee),Ee}(b),w=M.bind(null,C,b),f=function(){Q(C),C.href&&URL.revokeObjectURL(C.href)}):(C=k(b),w=v.bind(null,C),f=function(){Q(C)});return w(E),function(W){if(W){if(W.css===E.css&&W.media===E.media&&W.sourceMap===E.sourceMap)return;w(E=W)}else f()}}t.exports=function(E,b){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(b=b||{}).attrs=typeof b.attrs=="object"?b.attrs:{},b.singleton||typeof b.singleton=="boolean"||(b.singleton=s()),b.insertInto||(b.insertInto="head"),b.insertAt||(b.insertAt="bottom");var C=R(E,b);return O(C,b),function(w){for(var f=[],_=0;_<C.length;_++){var H=C[_];(W=l[H.id]).refs--,f.push(W)}for(w&&O(R(w,b),b),_=0;_<f.length;_++){var W;if((W=f[_]).refs===0){for(var Ee=0;Ee<W.parts.length;Ee++)W.parts[Ee]();delete l[W.id]}}}};var N,le=(N=[],function(E,b){return N[E]=b,N.filter(Boolean).join(`
`)});function g(E,b,C,w){var f=C?"":w.css;if(E.styleSheet)E.styleSheet.cssText=le(b,f);else{var _=document.createTextNode(f),H=E.childNodes;H[b]&&E.removeChild(H[b]),H.length?E.insertBefore(_,H[b]):E.appendChild(_)}}function v(E,b){var C=b.css,w=b.media;if(w&&E.setAttribute("media",w),E.styleSheet)E.styleSheet.cssText=C;else{for(;E.firstChild;)E.removeChild(E.firstChild);E.appendChild(document.createTextNode(C))}}function M(E,b,C){var w=C.css,f=C.sourceMap,_=b.convertToAbsoluteUrls===void 0&&f;(b.convertToAbsoluteUrls||_)&&(w=y(w)),f&&(w+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(f))))+" */");var H=new Blob([w],{type:"text/css"}),W=E.href;E.href=URL.createObjectURL(H),W&&URL.revokeObjectURL(W)}},function(t,i){t.exports=function(o){var n=typeof window<"u"&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var r=n.protocol+"//"+n.host,l=r+n.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(s,a){var h,u=a.trim().replace(/^"(.*)"$/,function(p,A){return A}).replace(/^'(.*)'$/,function(p,A){return A});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(u)?s:(h=u.indexOf("//")===0?u:u.indexOf("/")===0?r+u:l+u.replace(/^\.\//,""),"url("+JSON.stringify(h)+")")})}},function(t,i,o){function n(E,b,C={}){const w=document.createElement(E);Array.isArray(b)?w.classList.add(...b):b&&w.classList.add(b);for(const f in C)Object.prototype.hasOwnProperty.call(C,f)&&(w[f]=C[f]);return w}function r(E){const b=E.getBoundingClientRect();return{y1:Math.floor(b.top+window.pageYOffset),x1:Math.floor(b.left+window.pageXOffset),x2:Math.floor(b.right+window.pageXOffset),y2:Math.floor(b.bottom+window.pageYOffset)}}function l(E,b){const C=r(E),w=r(b);return{fromTopBorder:w.y1-C.y1,fromLeftBorder:w.x1-C.x1,fromRightBorder:C.x2-w.x2,fromBottomBorder:C.y2-w.y2}}function s(E,b){return b.parentNode.insertBefore(E,b)}function a(E,b=!0){const C=document.createRange(),w=window.getSelection();C.selectNodeContents(E),C.collapse(b),w.removeAllRanges(),w.addRange(C)}o.r(i);class h{constructor({items:b}){this.items=b,this.wrapper=void 0,this.itemEls=[]}static get CSS(){return{popover:"tc-popover",popoverOpened:"tc-popover--opened",item:"tc-popover__item",itemHidden:"tc-popover__item--hidden",itemConfirmState:"tc-popover__item--confirm",itemIcon:"tc-popover__item-icon",itemLabel:"tc-popover__item-label"}}render(){return this.wrapper=n("div",h.CSS.popover),this.items.forEach((b,C)=>{const w=n("div",h.CSS.item),f=n("div",h.CSS.itemIcon,{innerHTML:b.icon}),_=n("div",h.CSS.itemLabel,{textContent:b.label});w.dataset.index=C,w.appendChild(f),w.appendChild(_),this.wrapper.appendChild(w),this.itemEls.push(w)}),this.wrapper.addEventListener("click",b=>{this.popoverClicked(b)}),this.wrapper}popoverClicked(b){const C=b.target.closest("."+h.CSS.item);if(!C)return;const w=C.dataset.index,f=this.items[w];!f.confirmationRequired||this.hasConfirmationState(C)?f.onClick():this.setConfirmationState(C)}setConfirmationState(b){b.classList.add(h.CSS.itemConfirmState)}clearConfirmationState(b){b.classList.remove(h.CSS.itemConfirmState)}hasConfirmationState(b){return b.classList.contains(h.CSS.itemConfirmState)}get opened(){return this.wrapper.classList.contains(h.CSS.popoverOpened)}open(){this.items.forEach((b,C)=>{typeof b.hideIf=="function"&&this.itemEls[C].classList.toggle(h.CSS.itemHidden,b.hideIf())}),this.wrapper.classList.add(h.CSS.popoverOpened)}close(){this.wrapper.classList.remove(h.CSS.popoverOpened),this.itemEls.forEach(b=>{this.clearConfirmationState(b)})}}var u=o(0),p=o.n(u);class A{constructor({api:b,items:C,onOpen:w,onClose:f,cssModifier:_=""}){this.api=b,this.items=C,this.onOpen=w,this.onClose=f,this.cssModifier=_,this.popover=null,this.wrapper=this.createToolbox()}static get CSS(){return{toolbox:"tc-toolbox",toolboxShowed:"tc-toolbox--showed",toggler:"tc-toolbox__toggler"}}get element(){return this.wrapper}createToolbox(){const b=n("div",[A.CSS.toolbox,this.cssModifier?`${A.CSS.toolbox}--${this.cssModifier}`:""]),C=this.createPopover(),w=this.createToggler();return b.appendChild(w),b.appendChild(C),b}createToggler(){const b=n("div",A.CSS.toggler,{innerHTML:p.a});return b.addEventListener("click",()=>{this.togglerClicked()}),b}createPopover(){return this.popover=new h({items:this.items}),this.popover.render()}togglerClicked(){this.popover.opened?(this.popover.close(),this.onClose()):(this.popover.open(),this.onOpen())}show(b){const C=b();Object.entries(C).forEach(([w,f])=>{this.wrapper.style[w]=f}),this.wrapper.classList.add(A.CSS.toolboxShowed)}hide(){this.popover.close(),this.wrapper.classList.remove(A.CSS.toolboxShowed)}}const y='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',O='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',R="tc-wrap",I="tc-wrap--readonly",Q="tc-table",k="tc-row",x="tc-table--heading",L="tc-row--selected",N="tc-cell",le="tc-cell--selected",g="tc-add-row",v="tc-add-column";class M{constructor(b,C,w,f){this.readOnly=b,this.api=C,this.data=w,this.config=f,this.wrapper=null,this.table=null,this.toolboxColumn=this.createColumnToolbox(),this.toolboxRow=this.createRowToolbox(),this.createTableWrapper(),this.hoveredRow=0,this.hoveredColumn=0,this.selectedRow=0,this.selectedColumn=0,this.tunes={withHeadings:!1},this.resize(),this.fill(),this.focusedCell={row:0,column:0},this.documentClicked=_=>{const H=_.target.closest("."+Q)!==null,W=_.target.closest("."+R)===null;(H||W)&&this.hideToolboxes();const Ee=_.target.closest("."+g),Xe=_.target.closest("."+v);Ee&&Ee.parentNode===this.wrapper?(this.addRow(void 0,!0),this.hideToolboxes()):Xe&&Xe.parentNode===this.wrapper&&(this.addColumn(void 0,!0),this.hideToolboxes())},this.readOnly||this.bindEvents()}getWrapper(){return this.wrapper}bindEvents(){document.addEventListener("click",this.documentClicked),this.table.addEventListener("mousemove",function(b,C){let w=0;return function(...f){const _=new Date().getTime();if(!(_-w<b))return w=_,C(...f)}}(150,b=>this.onMouseMoveInTable(b)),{passive:!0}),this.table.onkeypress=b=>this.onKeyPressListener(b),this.table.addEventListener("keydown",b=>this.onKeyDownListener(b)),this.table.addEventListener("focusin",b=>this.focusInTableListener(b))}createColumnToolbox(){return new A({api:this.api,cssModifier:"column",items:[{label:this.api.i18n.t("Add column to left"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.9167 14.9167L11.5833 18.25M11.5833 18.25L8.25 14.9167M11.5833 18.25L11.5833 10.0833C11.5833 9.19928 11.9345 8.35143 12.5596 7.72631C13.1848 7.10119 14.0326 6.75 14.9167 6.75"/></svg>',onClick:()=>{this.addColumn(this.selectedColumn,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add column to right"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.13333 14.9167L12.4667 18.25M12.4667 18.25L15.8 14.9167M12.4667 18.25L12.4667 10.0833C12.4667 9.19928 12.1155 8.35143 11.4904 7.72631C10.8652 7.10119 10.0174 6.75 9.13333 6.75"/></svg>',onClick:()=>{this.addColumn(this.selectedColumn+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete column"),icon:y,hideIf:()=>this.numberOfColumns===1,confirmationRequired:!0,onClick:()=>{this.deleteColumn(this.selectedColumn),this.hideToolboxes()}}],onOpen:()=>{this.selectColumn(this.hoveredColumn),this.hideRowToolbox()},onClose:()=>{this.unselectColumn()}})}createRowToolbox(){return new A({api:this.api,cssModifier:"row",items:[{label:this.api.i18n.t("Add row above"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 15.8333L18.2167 12.5M18.2167 12.5L14.8833 9.16667M18.2167 12.5L10.05 12.5C9.16595 12.5 8.31811 12.8512 7.69299 13.4763C7.06787 14.1014 6.71667 14.9493 6.71667 15.8333"/></svg>',onClick:()=>{this.addRow(this.selectedRow,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add row below"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 9.16666L18.2167 12.5M18.2167 12.5L14.8833 15.8333M18.2167 12.5H10.05C9.16594 12.5 8.31809 12.1488 7.69297 11.5237C7.06785 10.8986 6.71666 10.0507 6.71666 9.16666"/></svg>',onClick:()=>{this.addRow(this.selectedRow+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete row"),icon:y,hideIf:()=>this.numberOfRows===1,confirmationRequired:!0,onClick:()=>{this.deleteRow(this.selectedRow),this.hideToolboxes()}}],onOpen:()=>{this.selectRow(this.hoveredRow),this.hideColumnToolbox()},onClose:()=>{this.unselectRow()}})}moveCursorToNextRow(){this.focusedCell.row!==this.numberOfRows?(this.focusedCell.row+=1,this.focusCell(this.focusedCell)):(this.addRow(),this.focusedCell.row+=1,this.focusCell(this.focusedCell),this.updateToolboxesPosition(0,0))}getCell(b,C){return this.table.querySelectorAll(`.${k}:nth-child(${b}) .${N}`)[C-1]}getRow(b){return this.table.querySelector(`.${k}:nth-child(${b})`)}getRowByCell(b){return b.parentElement}getRowFirstCell(b){return b.querySelector(`.${N}:first-child`)}setCellContent(b,C,w){this.getCell(b,C).innerHTML=w}addColumn(b=-1,C=!1){let w=this.numberOfColumns;for(let f=1;f<=this.numberOfRows;f++){let _;const H=this.createCell();if(b>0&&b<=w?(_=this.getCell(f,b),s(H,_)):_=this.getRow(f).appendChild(H),f===1){const W=this.getCell(f,b>0?b:w+1);W&&C&&a(W)}}this.addHeadingAttrToFirstRow()}addRow(b=-1,C=!1){let w,f=n("div",k);this.tunes.withHeadings&&this.removeHeadingAttrFromFirstRow();let _=this.numberOfColumns;b>0&&b<=this.numberOfRows?w=s(f,this.getRow(b)):w=this.table.appendChild(f),this.fillRow(w,_),this.tunes.withHeadings&&this.addHeadingAttrToFirstRow();const H=this.getRowFirstCell(w);return H&&C&&a(H),w}deleteColumn(b){for(let C=1;C<=this.numberOfRows;C++){const w=this.getCell(C,b);if(!w)return;w.remove()}}deleteRow(b){this.getRow(b).remove(),this.addHeadingAttrToFirstRow()}createTableWrapper(){if(this.wrapper=n("div",R),this.table=n("div",Q),this.readOnly&&this.wrapper.classList.add(I),this.wrapper.appendChild(this.toolboxRow.element),this.wrapper.appendChild(this.toolboxColumn.element),this.wrapper.appendChild(this.table),!this.readOnly){const b=n("div",v,{innerHTML:O}),C=n("div",g,{innerHTML:O});this.wrapper.appendChild(b),this.wrapper.appendChild(C)}}computeInitialSize(){const b=this.data&&this.data.content,C=Array.isArray(b),w=!!C&&b.length,f=C?b.length:void 0,_=w?b[0].length:void 0,H=Number.parseInt(this.config&&this.config.rows),W=Number.parseInt(this.config&&this.config.cols),Ee=!isNaN(H)&&H>0?H:void 0,Xe=!isNaN(W)&&W>0?W:void 0;return{rows:f||Ee||2,cols:_||Xe||2}}resize(){const{rows:b,cols:C}=this.computeInitialSize();for(let w=0;w<b;w++)this.addRow();for(let w=0;w<C;w++)this.addColumn()}fill(){const b=this.data;if(b&&b.content)for(let C=0;C<b.content.length;C++)for(let w=0;w<b.content[C].length;w++)this.setCellContent(C+1,w+1,b.content[C][w])}fillRow(b,C){for(let w=1;w<=C;w++){const f=this.createCell();b.appendChild(f)}}createCell(){return n("div",N,{contentEditable:!this.readOnly})}get numberOfRows(){return this.table.childElementCount}get numberOfColumns(){return this.numberOfRows?this.table.querySelectorAll(`.${k}:first-child .${N}`).length:0}get isColumnMenuShowing(){return this.selectedColumn!==0}get isRowMenuShowing(){return this.selectedRow!==0}onMouseMoveInTable(b){const{row:C,column:w}=this.getHoveredCell(b);this.hoveredColumn=w,this.hoveredRow=C,this.updateToolboxesPosition()}onKeyPressListener(b){if(b.key==="Enter"){if(b.shiftKey)return!0;this.moveCursorToNextRow()}return b.key!=="Enter"}onKeyDownListener(b){b.key==="Tab"&&b.stopPropagation()}focusInTableListener(b){const C=b.target,w=this.getRowByCell(C);this.focusedCell={row:Array.from(this.table.querySelectorAll("."+k)).indexOf(w)+1,column:Array.from(w.querySelectorAll("."+N)).indexOf(C)+1}}hideToolboxes(){this.hideRowToolbox(),this.hideColumnToolbox(),this.updateToolboxesPosition()}hideRowToolbox(){this.unselectRow(),this.toolboxRow.hide()}hideColumnToolbox(){this.unselectColumn(),this.toolboxColumn.hide()}focusCell(){this.focusedCellElem.focus()}get focusedCellElem(){const{row:b,column:C}=this.focusedCell;return this.getCell(b,C)}updateToolboxesPosition(b=this.hoveredRow,C=this.hoveredColumn){this.isColumnMenuShowing||C>0&&C<=this.numberOfColumns&&this.toolboxColumn.show(()=>({left:`calc((100% - var(--cell-size)) / (${this.numberOfColumns} * 2) * (1 + (${C} - 1) * 2))`})),this.isRowMenuShowing||b>0&&b<=this.numberOfRows&&this.toolboxRow.show(()=>{const w=this.getRow(b),{fromTopBorder:f}=l(this.table,w),{height:_}=w.getBoundingClientRect();return{top:Math.ceil(f+_/2)+"px"}})}setHeadingsSetting(b){this.tunes.withHeadings=b,b?(this.table.classList.add(x),this.addHeadingAttrToFirstRow()):(this.table.classList.remove(x),this.removeHeadingAttrFromFirstRow())}addHeadingAttrToFirstRow(){for(let b=1;b<=this.numberOfColumns;b++){let C=this.getCell(1,b);C&&C.setAttribute("heading",this.api.i18n.t("Heading"))}}removeHeadingAttrFromFirstRow(){for(let b=1;b<=this.numberOfColumns;b++){let C=this.getCell(1,b);C&&C.removeAttribute("heading")}}selectRow(b){const C=this.getRow(b);C&&(this.selectedRow=b,C.classList.add(L))}unselectRow(){if(this.selectedRow<=0)return;const b=this.table.querySelector("."+L);b&&b.classList.remove(L),this.selectedRow=0}selectColumn(b){for(let C=1;C<=this.numberOfRows;C++){const w=this.getCell(C,b);w&&w.classList.add(le)}this.selectedColumn=b}unselectColumn(){if(this.selectedColumn<=0)return;let b=this.table.querySelectorAll("."+le);Array.from(b).forEach(C=>{C.classList.remove(le)}),this.selectedColumn=0}getHoveredCell(b){let C=this.hoveredRow,w=this.hoveredColumn;const{width:f,height:_,x:H,y:W}=function(Ee,Xe){const It=Ee.getBoundingClientRect(),{width:Mt,height:tn,x:en,y:nn}=It,{clientX:rn,clientY:sn}=Xe;return{width:Mt,height:tn,x:rn-en,y:sn-nn}}(this.table,b);return H>=0&&(w=this.binSearch(this.numberOfColumns,Ee=>this.getCell(1,Ee),({fromLeftBorder:Ee})=>H<Ee,({fromRightBorder:Ee})=>H>f-Ee)),W>=0&&(C=this.binSearch(this.numberOfRows,Ee=>this.getCell(Ee,1),({fromTopBorder:Ee})=>W<Ee,({fromBottomBorder:Ee})=>W>_-Ee)),{row:C||this.hoveredRow,column:w||this.hoveredColumn}}binSearch(b,C,w,f){let _,H=0,W=b+1,Ee=0;for(;H<W-1&&Ee<10;){_=Math.ceil((H+W)/2);const Xe=C(_),It=l(this.table,Xe);if(w(It))W=_;else{if(!f(It))break;H=_}Ee++}return _}getData(){const b=[];for(let C=1;C<=this.numberOfRows;C++){const w=this.table.querySelector(`.${k}:nth-child(${C})`),f=Array.from(w.querySelectorAll("."+N));f.every(_=>!_.textContent.trim())||b.push(f.map(_=>_.innerHTML))}return b}destroy(){document.removeEventListener("click",this.documentClicked)}}o(1),i.default=class{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}constructor({data:E,config:b,api:C,readOnly:w}){this.api=C,this.readOnly=w,this.config=b,this.data={withHeadings:this.getConfig("withHeadings",!1,E),content:E&&E.content?E.content:[]},this.table=null}static get toolbox(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',title:"Table"}}render(){return this.table=new M(this.readOnly,this.api,this.data,this.config),this.container=n("div",this.api.styles.block),this.container.appendChild(this.table.getWrapper()),this.table.setHeadingsSetting(this.data.withHeadings),this.container}renderSettings(){return[{label:this.api.i18n.t("With headings"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',isActive:this.data.withHeadings,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.withHeadings=!0,this.table.setHeadingsSetting(this.data.withHeadings)}},{label:this.api.i18n.t("Without headings"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M14 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><path stroke="currentColor" stroke-width="2" d="M5 14H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',isActive:!this.data.withHeadings,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.withHeadings=!1,this.table.setHeadingsSetting(this.data.withHeadings)}}]}save(){const E=this.table.getData();return{withHeadings:this.data.withHeadings,content:E}}destroy(){this.table.destroy()}getConfig(E,b,C){const w=this.data||C;return w?w[E]?w[E]:b:this.config&&this.config[E]?this.config[E]:b}static get pasteConfig(){return{tags:["TABLE","TR","TH","TD"]}}onPaste(E){const b=E.detail.data,C=b.querySelector(":scope > thead, tr:first-of-type th"),w=Array.from(b.querySelectorAll("tr")).map(f=>Array.from(f.querySelectorAll("th, td")).map(_=>_.innerHTML));this.data={withHeadings:C!==null,content:w},this.table.wrapper&&this.table.wrapper.replaceWith(this.render())}}}]).default})})(table);var tableExports=table.exports;const Table=getDefaultExportFromCjs(tableExports);var bundle$6={exports:{}};(function(c,e){(function(t,i){c.exports=i()})(window,function(){return function(t){var i={};function o(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=i,o.d=function(n,r,l){o.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:l})},o.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.t=function(n,r){if(1&r&&(n=o(n)),8&r||4&r&&typeof n=="object"&&n&&n.__esModule)return n;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:n}),2&r&&typeof n!="string")for(var s in n)o.d(l,s,function(a){return n[a]}.bind(null,s));return l},o.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(r,"a",r),r},o.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},o.p="/",o(o.s=5)}([function(t,i,o){var n=o(1);typeof n=="string"&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};o(3)(n,r),n.locals&&(t.exports=n.locals)},function(t,i,o){(t.exports=o(2)(!1)).push([t.i,`.inline-code {
  background: rgba(250, 239, 240, 0.78);
  color: #b44437;
  padding: 3px 4px;
  border-radius: 5px;
  margin: 0 1px;
  font-family: inherit;
  font-size: 0.86em;
  font-weight: 500;
  letter-spacing: 0.3px;
}
`,""])},function(t,i){t.exports=function(o){var n=[];return n.toString=function(){return this.map(function(r){var l=function(s,a){var h=s[1]||"",u=s[3];if(!u)return h;if(a&&typeof btoa=="function"){var p=(y=u,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(y))))+" */"),A=u.sources.map(function(O){return"/*# sourceURL="+u.sourceRoot+O+" */"});return[h].concat(A).concat([p]).join(`
`)}var y;return[h].join(`
`)}(r,o);return r[2]?"@media "+r[2]+"{"+l+"}":l}).join("")},n.i=function(r,l){typeof r=="string"&&(r=[[null,r,""]]);for(var s={},a=0;a<this.length;a++){var h=this[a][0];typeof h=="number"&&(s[h]=!0)}for(a=0;a<r.length;a++){var u=r[a];typeof u[0]=="number"&&s[u[0]]||(l&&!u[2]?u[2]=l:l&&(u[2]="("+u[2]+") and ("+l+")"),n.push(u))}},n}},function(t,i,o){var n,r,l={},s=(n=function(){return window&&document&&document.all&&!window.atob},function(){return r===void 0&&(r=n.apply(this,arguments)),r}),a=function(g){var v={};return function(M){if(typeof M=="function")return M();if(v[M]===void 0){var E=function(b){return document.querySelector(b)}.call(this,M);if(window.HTMLIFrameElement&&E instanceof window.HTMLIFrameElement)try{E=E.contentDocument.head}catch{E=null}v[M]=E}return v[M]}}(),h=null,u=0,p=[],A=o(4);function y(g,v){for(var M=0;M<g.length;M++){var E=g[M],b=l[E.id];if(b){b.refs++;for(var C=0;C<b.parts.length;C++)b.parts[C](E.parts[C]);for(;C<E.parts.length;C++)b.parts.push(x(E.parts[C],v))}else{var w=[];for(C=0;C<E.parts.length;C++)w.push(x(E.parts[C],v));l[E.id]={id:E.id,refs:1,parts:w}}}}function O(g,v){for(var M=[],E={},b=0;b<g.length;b++){var C=g[b],w=v.base?C[0]+v.base:C[0],f={css:C[1],media:C[2],sourceMap:C[3]};E[w]?E[w].parts.push(f):M.push(E[w]={id:w,parts:[f]})}return M}function R(g,v){var M=a(g.insertInto);if(!M)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var E=p[p.length-1];if(g.insertAt==="top")E?E.nextSibling?M.insertBefore(v,E.nextSibling):M.appendChild(v):M.insertBefore(v,M.firstChild),p.push(v);else if(g.insertAt==="bottom")M.appendChild(v);else{if(typeof g.insertAt!="object"||!g.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var b=a(g.insertInto+" "+g.insertAt.before);M.insertBefore(v,b)}}function I(g){if(g.parentNode===null)return!1;g.parentNode.removeChild(g);var v=p.indexOf(g);v>=0&&p.splice(v,1)}function Q(g){var v=document.createElement("style");return g.attrs.type===void 0&&(g.attrs.type="text/css"),k(v,g.attrs),R(g,v),v}function k(g,v){Object.keys(v).forEach(function(M){g.setAttribute(M,v[M])})}function x(g,v){var M,E,b,C;if(v.transform&&g.css){if(!(C=v.transform(g.css)))return function(){};g.css=C}if(v.singleton){var w=u++;M=h||(h=Q(v)),E=le.bind(null,M,w,!1),b=le.bind(null,M,w,!0)}else g.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(M=function(f){var _=document.createElement("link");return f.attrs.type===void 0&&(f.attrs.type="text/css"),f.attrs.rel="stylesheet",k(_,f.attrs),R(f,_),_}(v),E=function(f,_,H){var W=H.css,Ee=H.sourceMap,Xe=_.convertToAbsoluteUrls===void 0&&Ee;(_.convertToAbsoluteUrls||Xe)&&(W=A(W)),Ee&&(W+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(Ee))))+" */");var It=new Blob([W],{type:"text/css"}),Mt=f.href;f.href=URL.createObjectURL(It),Mt&&URL.revokeObjectURL(Mt)}.bind(null,M,v),b=function(){I(M),M.href&&URL.revokeObjectURL(M.href)}):(M=Q(v),E=function(f,_){var H=_.css,W=_.media;if(W&&f.setAttribute("media",W),f.styleSheet)f.styleSheet.cssText=H;else{for(;f.firstChild;)f.removeChild(f.firstChild);f.appendChild(document.createTextNode(H))}}.bind(null,M),b=function(){I(M)});return E(g),function(f){if(f){if(f.css===g.css&&f.media===g.media&&f.sourceMap===g.sourceMap)return;E(g=f)}else b()}}t.exports=function(g,v){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(v=v||{}).attrs=typeof v.attrs=="object"?v.attrs:{},v.singleton||typeof v.singleton=="boolean"||(v.singleton=s()),v.insertInto||(v.insertInto="head"),v.insertAt||(v.insertAt="bottom");var M=O(g,v);return y(M,v),function(E){for(var b=[],C=0;C<M.length;C++){var w=M[C];(f=l[w.id]).refs--,b.push(f)}for(E&&y(O(E,v),v),C=0;C<b.length;C++){var f;if((f=b[C]).refs===0){for(var _=0;_<f.parts.length;_++)f.parts[_]();delete l[f.id]}}}};var L,N=(L=[],function(g,v){return L[g]=v,L.filter(Boolean).join(`
`)});function le(g,v,M,E){var b=M?"":E.css;if(g.styleSheet)g.styleSheet.cssText=N(v,b);else{var C=document.createTextNode(b),w=g.childNodes;w[v]&&g.removeChild(w[v]),w.length?g.insertBefore(C,w[v]):g.appendChild(C)}}},function(t,i){t.exports=function(o){var n=typeof window<"u"&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var r=n.protocol+"//"+n.host,l=r+n.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(s,a){var h,u=a.trim().replace(/^"(.*)"$/,function(p,A){return A}).replace(/^'(.*)'$/,function(p,A){return A});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(u)?s:(h=u.indexOf("//")===0?u:u.indexOf("/")===0?r+u:l+u.replace(/^\.\//,""),"url("+JSON.stringify(h)+")")})}},function(t,i,o){o.r(i),o(0);function n(s,a){for(var h=0;h<a.length;h++){var u=a[h];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(s,u.key,u)}}function r(s,a,h){return a&&n(s.prototype,a),h&&n(s,h),s}o.d(i,"default",function(){return l});var l=function(){function s(a){var h=a.api;(function(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")})(this,s),this.api=h,this.button=null,this.tag="CODE",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}return r(s,null,[{key:"CSS",get:function(){return"inline-code"}}]),r(s,[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(a){if(a){var h=this.api.selection.findParentTag(this.tag,s.CSS);h?this.unwrap(h):this.wrap(a)}}},{key:"wrap",value:function(a){var h=document.createElement(this.tag);h.classList.add(s.CSS),h.appendChild(a.extractContents()),a.insertNode(h),this.api.selection.expandToTag(h)}},{key:"unwrap",value:function(a){this.api.selection.expandToTag(a);var h=window.getSelection(),u=h.getRangeAt(0),p=u.extractContents();a.parentNode.removeChild(a),u.insertNode(p),h.removeAllRanges(),h.addRange(u)}},{key:"checkState",value:function(){var a=this.api.selection.findParentTag(this.tag,s.CSS);this.button.classList.toggle(this.iconClasses.active,!!a)}},{key:"toolboxIcon",get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.5 8L6.11524 11.8683C6.04926 11.9437 6.04926 12.0563 6.11524 12.1317L9.5 16"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15 8L18.3848 11.8683C18.4507 11.9437 18.4507 12.0563 18.3848 12.1317L15 16"/></svg>'}}],[{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{code:{class:s.CSS}}}}]),s}()}]).default})})(bundle$6);var bundleExports$6=bundle$6.exports;const InlineCode=getDefaultExportFromCjs(bundleExports$6);var bundle$5={exports:{}};(function(c,e){(function(t,i){c.exports=i()})(window,function(){return function(t){var i={};function o(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=i,o.d=function(n,r,l){o.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:l})},o.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.t=function(n,r){if(1&r&&(n=o(n)),8&r||4&r&&typeof n=="object"&&n&&n.__esModule)return n;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:n}),2&r&&typeof n!="string")for(var s in n)o.d(l,s,function(a){return n[a]}.bind(null,s));return l},o.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(r,"a",r),r},o.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},o.p="/",o(o.s=5)}([function(t,i,o){var n=o(1);typeof n=="string"&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};o(3)(n,r),n.locals&&(t.exports=n.locals)},function(t,i,o){(t.exports=o(2)(!1)).push([t.i,`.cdx-warning {
  position: relative;

}

@media all and (min-width: 736px) {
  .cdx-warning {
    padding-left: 36px;
  }
}

.cdx-warning [contentEditable=true][data-placeholder]::before{
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

.cdx-warning [contentEditable=true][data-placeholder]:empty::before {
  opacity: 1;
}

.cdx-warning [contentEditable=true][data-placeholder]:empty:focus::before {
  opacity: 0;
}


.cdx-warning::before {
  content: '';
  background-image: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='5' y='5' width='14' height='14' rx='4' stroke='black' stroke-width='2'/%3E%3Cline x1='12' y1='9' x2='12' y2='12' stroke='black' stroke-width='2' stroke-linecap='round'/%3E%3Cpath d='M12 15.02V15.01' stroke='black' stroke-width='2' stroke-linecap='round'/%3E%3C/svg%3E");
  width: 24px;
  height: 24px;
  background-size: 24px 24px;
  position: absolute;
  margin-top: 8px;
  left: 0;
}

@media all and (max-width: 735px) {
  .cdx-warning::before {
    display: none;
  }
}

.cdx-warning__message {
  min-height: 85px;
}

.cdx-warning__title {
  margin-bottom: 6px;
}
`,""])},function(t,i,o){t.exports=function(n){var r=[];return r.toString=function(){return this.map(function(l){var s=function(a,h){var u=a[1]||"",p=a[3];if(!p)return u;if(h&&typeof btoa=="function"){var A=(O=p,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(O))))+" */"),y=p.sources.map(function(R){return"/*# sourceURL="+p.sourceRoot+R+" */"});return[u].concat(y).concat([A]).join(`
`)}var O;return[u].join(`
`)}(l,n);return l[2]?"@media "+l[2]+"{"+s+"}":s}).join("")},r.i=function(l,s){typeof l=="string"&&(l=[[null,l,""]]);for(var a={},h=0;h<this.length;h++){var u=this[h][0];u!=null&&(a[u]=!0)}for(h=0;h<l.length;h++){var p=l[h];p[0]!=null&&a[p[0]]||(s&&!p[2]?p[2]=s:s&&(p[2]="("+p[2]+") and ("+s+")"),r.push(p))}},r}},function(t,i,o){var n,r,l={},s=(n=function(){return window&&document&&document.all&&!window.atob},function(){return r===void 0&&(r=n.apply(this,arguments)),r}),a=function(g){var v={};return function(M,E){if(typeof M=="function")return M();if(v[M]===void 0){var b=function(C,w){return w?w.querySelector(C):document.querySelector(C)}.call(this,M,E);if(window.HTMLIFrameElement&&b instanceof window.HTMLIFrameElement)try{b=b.contentDocument.head}catch{b=null}v[M]=b}return v[M]}}(),h=null,u=0,p=[],A=o(4);function y(g,v){for(var M=0;M<g.length;M++){var E=g[M],b=l[E.id];if(b){b.refs++;for(var C=0;C<b.parts.length;C++)b.parts[C](E.parts[C]);for(;C<E.parts.length;C++)b.parts.push(x(E.parts[C],v))}else{var w=[];for(C=0;C<E.parts.length;C++)w.push(x(E.parts[C],v));l[E.id]={id:E.id,refs:1,parts:w}}}}function O(g,v){for(var M=[],E={},b=0;b<g.length;b++){var C=g[b],w=v.base?C[0]+v.base:C[0],f={css:C[1],media:C[2],sourceMap:C[3]};E[w]?E[w].parts.push(f):M.push(E[w]={id:w,parts:[f]})}return M}function R(g,v){var M=a(g.insertInto);if(!M)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var E=p[p.length-1];if(g.insertAt==="top")E?E.nextSibling?M.insertBefore(v,E.nextSibling):M.appendChild(v):M.insertBefore(v,M.firstChild),p.push(v);else if(g.insertAt==="bottom")M.appendChild(v);else{if(typeof g.insertAt!="object"||!g.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var b=a(g.insertAt.before,M);M.insertBefore(v,b)}}function I(g){if(g.parentNode===null)return!1;g.parentNode.removeChild(g);var v=p.indexOf(g);v>=0&&p.splice(v,1)}function Q(g){var v=document.createElement("style");if(g.attrs.type===void 0&&(g.attrs.type="text/css"),g.attrs.nonce===void 0){var M=function(){return o.nc}();M&&(g.attrs.nonce=M)}return k(v,g.attrs),R(g,v),v}function k(g,v){Object.keys(v).forEach(function(M){g.setAttribute(M,v[M])})}function x(g,v){var M,E,b,C;if(v.transform&&g.css){if(!(C=typeof v.transform=="function"?v.transform(g.css):v.transform.default(g.css)))return function(){};g.css=C}if(v.singleton){var w=u++;M=h||(h=Q(v)),E=le.bind(null,M,w,!1),b=le.bind(null,M,w,!0)}else g.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(M=function(f){var _=document.createElement("link");return f.attrs.type===void 0&&(f.attrs.type="text/css"),f.attrs.rel="stylesheet",k(_,f.attrs),R(f,_),_}(v),E=function(f,_,H){var W=H.css,Ee=H.sourceMap,Xe=_.convertToAbsoluteUrls===void 0&&Ee;(_.convertToAbsoluteUrls||Xe)&&(W=A(W)),Ee&&(W+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(Ee))))+" */");var It=new Blob([W],{type:"text/css"}),Mt=f.href;f.href=URL.createObjectURL(It),Mt&&URL.revokeObjectURL(Mt)}.bind(null,M,v),b=function(){I(M),M.href&&URL.revokeObjectURL(M.href)}):(M=Q(v),E=function(f,_){var H=_.css,W=_.media;if(W&&f.setAttribute("media",W),f.styleSheet)f.styleSheet.cssText=H;else{for(;f.firstChild;)f.removeChild(f.firstChild);f.appendChild(document.createTextNode(H))}}.bind(null,M),b=function(){I(M)});return E(g),function(f){if(f){if(f.css===g.css&&f.media===g.media&&f.sourceMap===g.sourceMap)return;E(g=f)}else b()}}t.exports=function(g,v){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(v=v||{}).attrs=typeof v.attrs=="object"?v.attrs:{},v.singleton||typeof v.singleton=="boolean"||(v.singleton=s()),v.insertInto||(v.insertInto="head"),v.insertAt||(v.insertAt="bottom");var M=O(g,v);return y(M,v),function(E){for(var b=[],C=0;C<M.length;C++){var w=M[C];(f=l[w.id]).refs--,b.push(f)}for(E&&y(O(E,v),v),C=0;C<b.length;C++){var f;if((f=b[C]).refs===0){for(var _=0;_<f.parts.length;_++)f.parts[_]();delete l[f.id]}}}};var L,N=(L=[],function(g,v){return L[g]=v,L.filter(Boolean).join(`
`)});function le(g,v,M,E){var b=M?"":E.css;if(g.styleSheet)g.styleSheet.cssText=N(v,b);else{var C=document.createTextNode(b),w=g.childNodes;w[v]&&g.removeChild(w[v]),w.length?g.insertBefore(C,w[v]):g.appendChild(C)}}},function(t,i){t.exports=function(o){var n=typeof window<"u"&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var r=n.protocol+"//"+n.host,l=r+n.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(s,a){var h,u=a.trim().replace(/^"(.*)"$/,function(p,A){return A}).replace(/^'(.*)'$/,function(p,A){return A});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(u)?s:(h=u.indexOf("//")===0?u:u.indexOf("/")===0?r+u:l+u.replace(/^\.\//,""),"url("+JSON.stringify(h)+")")})}},function(t,i,o){o.r(i);function n(a){return function(h){if(Array.isArray(h)){for(var u=0,p=new Array(h.length);u<h.length;u++)p[u]=h[u];return p}}(a)||function(h){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]")return Array.from(h)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(a,h){for(var u=0;u<h.length;u++){var p=h[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(a,p.key,p)}}function l(a,h,u){return h&&r(a.prototype,h),u&&r(a,u),a}o.d(i,"default",function(){return s}),o(0).toString();var s=function(){function a(h){var u=h.data,p=h.config,A=h.api,y=h.readOnly;(function(O,R){if(!(O instanceof R))throw new TypeError("Cannot call a class as a function")})(this,a),this.api=A,this.readOnly=y,this.titlePlaceholder=p.titlePlaceholder||a.DEFAULT_TITLE_PLACEHOLDER,this.messagePlaceholder=p.messagePlaceholder||a.DEFAULT_MESSAGE_PLACEHOLDER,this.data={title:u.title||"",message:u.message||""}}return l(a,[{key:"CSS",get:function(){return{baseClass:this.api.styles.block,wrapper:"cdx-warning",title:"cdx-warning__title",input:this.api.styles.input,message:"cdx-warning__message"}}}],[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>',title:"Warning"}}},{key:"enableLineBreaks",get:function(){return!0}},{key:"DEFAULT_TITLE_PLACEHOLDER",get:function(){return"Title"}},{key:"DEFAULT_MESSAGE_PLACEHOLDER",get:function(){return"Message"}}]),l(a,[{key:"render",value:function(){var h=this._make("div",[this.CSS.baseClass,this.CSS.wrapper]),u=this._make("div",[this.CSS.input,this.CSS.title],{contentEditable:!this.readOnly,innerHTML:this.data.title}),p=this._make("div",[this.CSS.input,this.CSS.message],{contentEditable:!this.readOnly,innerHTML:this.data.message});return u.dataset.placeholder=this.titlePlaceholder,p.dataset.placeholder=this.messagePlaceholder,h.appendChild(u),h.appendChild(p),h}},{key:"save",value:function(h){var u=h.querySelector(".".concat(this.CSS.title)),p=h.querySelector(".".concat(this.CSS.message));return Object.assign(this.data,{title:u.innerHTML,message:p.innerHTML})}},{key:"_make",value:function(h){var u,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},y=document.createElement(h);Array.isArray(p)?(u=y.classList).add.apply(u,n(p)):p&&y.classList.add(p);for(var O in A)y[O]=A[O];return y}}],[{key:"sanitize",get:function(){return{title:{},message:{}}}}]),a}()}]).default})})(bundle$5);var bundleExports$5=bundle$5.exports;const Warning=getDefaultExportFromCjs(bundleExports$5);var bundle$4={exports:{}};(function(c,e){(function(t,i){c.exports=i()})(window,function(){return function(t){var i={};function o(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=i,o.d=function(n,r,l){o.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:l})},o.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.t=function(n,r){if(1&r&&(n=o(n)),8&r||4&r&&typeof n=="object"&&n&&n.__esModule)return n;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:n}),2&r&&typeof n!="string")for(var s in n)o.d(l,s,function(a){return n[a]}.bind(null,s));return l},o.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(r,"a",r),r},o.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},o.p="/",o(o.s=0)}([function(t,i,o){function n(s,a){for(var h=0;h<a.length;h++){var u=a[h];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(s,u.key,u)}}function r(s,a,h){return a&&n(s.prototype,a),h&&n(s,h),s}o(1).toString();var l=function(){function s(a){var h=a.data,u=a.config,p=a.api,A=a.readOnly;(function(y,O){if(!(y instanceof O))throw new TypeError("Cannot call a class as a function")})(this,s),this.api=p,this.config=u,this.readOnly=A,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph",alignment:{left:"ce-paragraph--left",center:"ce-paragraph--center",right:"ce-paragraph--right",justify:"ce-paragraph--justify"}},this.CSS={baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive},this.settings=[{name:"left",icon:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer" enable-background="new 0 0 64 64" height="20" viewBox="0 0 64 64" width="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m10 23h28c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"/><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m10 45h28c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"/></svg>'},{name:"center",icon:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer" enable-background="new 0 0 64 64" height="20" viewBox="0 0 64 64" width="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m46 23c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"/><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m46 45c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"/></svg>'},{name:"right",icon:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer" enable-background="new 0 0 64 64" height="20" viewBox="0 0 64 64" width="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 19h-28c-1.104 0-2 .896-2 2s.896 2 2 2h28c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 41h-28c-1.104 0-2 .896-2 2s.896 2 2 2h28c1.104 0 2-.896 2-2s-.896-2-2-2z"/></svg>'},{name:"justify",icon:'<svg viewBox="0 0 64 64" width="20" height="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="M 52.867 19 L 10.914 19 C 9.26 19 7.918 19.896 7.918 21 C 7.918 22.104 9.26 23 10.914 23 L 52.867 23 C 54.522 23 55.863 22.104 55.863 21 C 55.863 19.896 54.522 19 52.867 19 Z" style=""></path><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="M 52.779 41 L 11.113 41 C 9.469 41 8.136 41.896 8.136 43 C 8.136 44.104 9.469 45 11.113 45 L 52.779 45 C 54.421 45 55.754 44.104 55.754 43 C 55.754 41.896 54.421 41 52.779 41 Z" style=""></path></svg>'}],this.onKeyUp=this.onKeyUp.bind(this),this._placeholder=u.placeholder?u.placeholder:s.DEFAULT_PLACEHOLDER,this._data={text:h.text||"",alignment:h.alignment||u.defaultAlignment||s.DEFAULT_ALIGNMENT},this._element=this.drawView(),this.data=h,this._preserveBlank=u.preserveBlank!==void 0&&u.preserveBlank}return r(s,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}},{key:"ALIGNMENTS",get:function(){return{left:"left",center:"center",right:"right",justify:"justify"}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"DEFAULT_ALIGNMENT",get:function(){return s.ALIGNMENTS.left}}]),r(s,[{key:"onKeyUp",value:function(a){a.code!=="Backspace"&&a.code!=="Delete"||this._element.textContent===""&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var a=document.createElement("DIV");return a.classList.add(this._CSS.wrapper,this._CSS.block,this._CSS.alignment[this.data.alignment]),a.contentEditable=!this.readOnly,a.dataset.placeholder=this.api.i18n.t(this._placeholder),a.innerHTML=this.data.text,a.addEventListener("keyup",this.onKeyUp),a}},{key:"render",value:function(){return this._element}},{key:"merge",value:function(a){var h={text:this.data.text+=a.text,alignment:this.data.alignment};this._element.innerHTML=this.data.text,this.data=h}},{key:"validate",value:function(a){return!(a.text.trim()===""&&!this._preserveBlank)}},{key:"save",value:function(a){return Object.assign(this.data,{text:a.innerHTML})}},{key:"onPaste",value:function(a){var h={text:a.detail.data.innerHTML,alignment:this.config.defaultAlignment||s.DEFAULT_ALIGNMENT};this.data=h}},{key:"renderSettings",value:function(){var a=this,h=document.createElement("div");return this.settings.map(function(u){var p=document.createElement("div");return p.classList.add("cdx-settings-button"),p.innerHTML=u.icon,p.classList.toggle(a.CSS.settingsButtonActive,u.name===a.data.alignment),h.appendChild(p),p}).forEach(function(u,p,A){u.addEventListener("click",function(){a._toggleTune(a.settings[p].name),A.forEach(function(y,O){var R=a.settings[O].name;y.classList.toggle(a.CSS.settingsButtonActive,R===a.data.alignment),a._element.classList.toggle(a._CSS.alignment[R],R===a.data.alignment)})})}),h}},{key:"_toggleTune",value:function(a){this.data.alignment=a}},{key:"data",get:function(){return this._data},set:function(a){this._data={text:a.text||"",alignment:a.alignment||this.config.defaultAlignment||s.DEFAULT_ALIGNMENT},this._element.innerHTML=this._data.text||""}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0},alignment:{}}}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:o(5).default,title:"Text"}}}]),s}();t.exports=l},function(t,i,o){var n=o(2),r=o(3);typeof(r=r.__esModule?r.default:r)=="string"&&(r=[[t.i,r,""]]);var l={insert:"head",singleton:!1};n(r,l),t.exports=r.locals||{}},function(t,i,o){var n,r=function(){return n===void 0&&(n=!!(window&&document&&document.all&&!window.atob)),n},l=function(){var k={};return function(x){if(k[x]===void 0){var L=document.querySelector(x);if(window.HTMLIFrameElement&&L instanceof window.HTMLIFrameElement)try{L=L.contentDocument.head}catch{L=null}k[x]=L}return k[x]}}(),s=[];function a(k){for(var x=-1,L=0;L<s.length;L++)if(s[L].identifier===k){x=L;break}return x}function h(k,x){for(var L={},N=[],le=0;le<k.length;le++){var g=k[le],v=x.base?g[0]+x.base:g[0],M=L[v]||0,E="".concat(v," ").concat(M);L[v]=M+1;var b=a(E),C={css:g[1],media:g[2],sourceMap:g[3]};b!==-1?(s[b].references++,s[b].updater(C)):s.push({identifier:E,updater:Q(C,x),references:1}),N.push(E)}return N}function u(k){var x=document.createElement("style"),L=k.attributes||{};if(L.nonce===void 0){var N=o.nc;N&&(L.nonce=N)}if(Object.keys(L).forEach(function(g){x.setAttribute(g,L[g])}),typeof k.insert=="function")k.insert(x);else{var le=l(k.insert||"head");if(!le)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");le.appendChild(x)}return x}var p,A=(p=[],function(k,x){return p[k]=x,p.filter(Boolean).join(`
`)});function y(k,x,L,N){var le=L?"":N.media?"@media ".concat(N.media," {").concat(N.css,"}"):N.css;if(k.styleSheet)k.styleSheet.cssText=A(x,le);else{var g=document.createTextNode(le),v=k.childNodes;v[x]&&k.removeChild(v[x]),v.length?k.insertBefore(g,v[x]):k.appendChild(g)}}function O(k,x,L){var N=L.css,le=L.media,g=L.sourceMap;if(le?k.setAttribute("media",le):k.removeAttribute("media"),g&&typeof btoa<"u"&&(N+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(g))))," */")),k.styleSheet)k.styleSheet.cssText=N;else{for(;k.firstChild;)k.removeChild(k.firstChild);k.appendChild(document.createTextNode(N))}}var R=null,I=0;function Q(k,x){var L,N,le;if(x.singleton){var g=I++;L=R||(R=u(x)),N=y.bind(null,L,g,!1),le=y.bind(null,L,g,!0)}else L=u(x),N=O.bind(null,L,x),le=function(){(function(v){if(v.parentNode===null)return!1;v.parentNode.removeChild(v)})(L)};return N(k),function(v){if(v){if(v.css===k.css&&v.media===k.media&&v.sourceMap===k.sourceMap)return;N(k=v)}else le()}}t.exports=function(k,x){(x=x||{}).singleton||typeof x.singleton=="boolean"||(x.singleton=r());var L=h(k=k||[],x);return function(N){if(N=N||[],Object.prototype.toString.call(N)==="[object Array]"){for(var le=0;le<L.length;le++){var g=a(L[le]);s[g].references--}for(var v=h(N,x),M=0;M<L.length;M++){var E=a(L[M]);s[E].references===0&&(s[E].updater(),s.splice(E,1))}L=v}}}},function(t,i,o){(i=o(4)(!1)).push([t.i,`.ce-paragraph {
    line-height: 1.6em;
    outline: none;
}
.ce-paragraph--right {
    text-align: right;
}
.ce-paragraph--center {
    text-align: center;
}
.ce-paragraph--left {
    text-align: left;
}

.ce-paragraph--justify {
    text-align: justify;
}

.ce-paragraph[data-placeholder]:empty::before{
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

/** Show placeholder at the first paragraph if Editor is empty */
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {
  opacity: 1;
}

.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {
  opacity: 0;
}

.ce-paragraph p:first-of-type{
    margin-top: 0;
}

.ce-paragraph p:last-of-type{
    margin-bottom: 0;
}


.svg-icon {
    width: 1em;
    height: 1em;
}

.svg-icon path,
.svg-icon polygon,
.svg-icon rect {
    fill: #4691f6;
}

.svg-icon circle {
    stroke: #4691f6;
    stroke-width: 1;
}`,""]),t.exports=i},function(t,i,o){t.exports=function(n){var r=[];return r.toString=function(){return this.map(function(l){var s=function(a,h){var u=a[1]||"",p=a[3];if(!p)return u;if(h&&typeof btoa=="function"){var A=(O=p,R=btoa(unescape(encodeURIComponent(JSON.stringify(O)))),I="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(R),"/*# ".concat(I," */")),y=p.sources.map(function(Q){return"/*# sourceURL=".concat(p.sourceRoot||"").concat(Q," */")});return[u].concat(y).concat([A]).join(`
`)}var O,R,I;return[u].join(`
`)}(l,n);return l[2]?"@media ".concat(l[2]," {").concat(s,"}"):s}).join("")},r.i=function(l,s,a){typeof l=="string"&&(l=[[null,l,""]]);var h={};if(a)for(var u=0;u<this.length;u++){var p=this[u][0];p!=null&&(h[p]=!0)}for(var A=0;A<l.length;A++){var y=[].concat(l[A]);a&&h[y[0]]||(s&&(y[2]?y[2]="".concat(s," and ").concat(y[2]):y[2]=s),r.push(y))}},r}},function(t,i,o){o.r(i),i.default=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0.2 -0.3 9 11.4" width="12" height="14">
  <path d="M0 2.77V.92A1 1 0 01.2.28C.35.1.56 0 .83 0h7.66c.28.01.48.1.63.28.14.17.21.38.21.64v1.85c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26a1 1 0 01-.21-.66V1.69H5.6v7.58h.5c.25 0 .45.08.6.23.17.16.25.35.25.6s-.08.45-.24.6a.87.87 0 01-.62.22H3.21a.87.87 0 01-.61-.22.78.78 0 01-.24-.6c0-.25.08-.44.24-.6a.85.85 0 01.61-.23h.5V1.7H1.73v1.08c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26A1 1 0 010 2.77z"/>
</svg>
`}])})})(bundle$4);var bundleExports$4=bundle$4.exports;const Paragraph=getDefaultExportFromCjs(bundleExports$4);var bundle$3={exports:{}};(function(c,e){(function(t,i){c.exports=i()})(window,function(){return function(t){var i={};function o(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=i,o.d=function(n,r,l){o.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:l})},o.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.t=function(n,r){if(1&r&&(n=o(n)),8&r||4&r&&typeof n=="object"&&n&&n.__esModule)return n;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:n}),2&r&&typeof n!="string")for(var s in n)o.d(l,s,function(a){return n[a]}.bind(null,s));return l},o.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(r,"a",r),r},o.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},o.p="/",o(o.s=0)}([function(t,i,o){function n(s){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function r(s,a){for(var h=0;h<a.length;h++){var u=a[h];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(s,u.key,u)}}o(1).toString();/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */var l=function(){function s(p){var A=p.data,y=p.config,O=p.api,R=p.readOnly;(function(I,Q){if(!(I instanceof Q))throw new TypeError("Cannot call a class as a function")})(this,s),this.api=O,this.readOnly=R,this._CSS={block:this.api.styles.block,settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive,wrapper:"ce-header",alignment:{left:"ce-header--left",center:"ce-header--center",right:"ce-header--right",justify:"ce-header--justify"}},this.CSS={baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive},this.inlineToolSettings=[{name:"left",icon:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer" enable-background="new 0 0 64 64" height="20" viewBox="0 0 64 64" width="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m10 23h28c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"/><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m10 45h28c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"/></svg>'},{name:"center",icon:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer" enable-background="new 0 0 64 64" height="20" viewBox="0 0 64 64" width="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m46 23c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"/><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m46 45c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"/></svg>'},{name:"right",icon:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer" enable-background="new 0 0 64 64" height="20" viewBox="0 0 64 64" width="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 19h-28c-1.104 0-2 .896-2 2s.896 2 2 2h28c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 41h-28c-1.104 0-2 .896-2 2s.896 2 2 2h28c1.104 0 2-.896 2-2s-.896-2-2-2z"/></svg>'},{name:"justify",icon:'<svg viewBox="0 0 64 64" width="20" height="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="M 52.867 19 L 10.914 19 C 9.26 19 7.918 19.896 7.918 21 C 7.918 22.104 9.26 23 10.914 23 L 52.867 23 C 54.522 23 55.863 22.104 55.863 21 C 55.863 19.896 54.522 19 52.867 19 Z" style=""></path><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="M 52.779 41 L 11.113 41 C 9.469 41 8.136 41.896 8.136 43 C 8.136 44.104 9.469 45 11.113 45 L 52.779 45 C 54.421 45 55.754 44.104 55.754 43 C 55.754 41.896 54.421 41 52.779 41 Z" style=""></path></svg>'}],this._settings=y,this._data=this.normalizeData(A),this.settingsButtons=[],this._element=this.getTag()}var a,h,u;return a=s,u=[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{level:!1,text:{}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["H1","H2","H3","H4","H5","H6"]}}},{key:"ALIGNMENTS",get:function(){return{left:"left",center:"center",right:"right",justify:"justify"}}},{key:"DEFAULT_ALIGNMENT",get:function(){return s.ALIGNMENTS.left}},{key:"toolbox",get:function(){return{icon:o(6).default,title:"Heading"}}}],(h=[{key:"normalizeData",value:function(p){var A={};return n(p)!=="object"&&(p={}),A.text=p.text||"",A.level=parseInt(p.level)||this.defaultLevel.number,A.alignment=p.alignment||s.DEFAULT_ALIGNMENT,A}},{key:"render",value:function(){return this._element}},{key:"_toggleTune",value:function(p){this._data.alignment=p}},{key:"renderSettings",value:function(){var p=this,A=document.createElement("DIV");return this.levels.length<=1||(this.inlineToolSettings.map(function(y){var O=document.createElement("div");return O.classList.add(p._CSS.settingsButton),O.innerHTML=y.icon,O.classList.toggle(p.CSS.settingsButtonActive,y.name===p.data.alignment),A.appendChild(O),O}).forEach(function(y,O,R){y.addEventListener("click",function(){p._toggleTune(p.inlineToolSettings[O].name),R.forEach(function(I,Q){var k=p.inlineToolSettings[Q].name;I.classList.toggle(p.CSS.settingsButtonActive,k===p.data.alignment),p._element.classList.toggle(p._CSS.alignment[k],k===p.data.alignment)})})}),this.levels.forEach(function(y){var O=document.createElement("SPAN");O.classList.add(p._CSS.settingsButton),p.currentLevel.number===y.number&&O.classList.add(p._CSS.settingsButtonActive),O.innerHTML=y.svg,O.dataset.level=y.number,O.addEventListener("click",function(){p.setLevel(y.number)}),A.appendChild(O),p.settingsButtons.push(O)})),A}},{key:"setLevel",value:function(p){var A=this;this.data={level:p,text:this.data.text,alignment:this.data.alignment},this.settingsButtons.forEach(function(y){y.classList.toggle(A._CSS.settingsButtonActive,parseInt(y.dataset.level)===p)})}},{key:"merge",value:function(p){var A={text:this.data.text+p.text,level:this.data.level,alignment:this.data.alignment};this.data=A}},{key:"validate",value:function(p){return p.text.trim()!==""}},{key:"save",value:function(p){return{text:p.innerHTML,level:this.currentLevel.number,alignment:this.data.alignment}}},{key:"getTag",value:function(){var p=document.createElement(this.currentLevel.tag);return p.innerHTML=this._data.text||"",p.classList.add(this._CSS.wrapper,this._CSS.alignment[this._data.alignment]),p.contentEditable=this.readOnly?"false":"true",p.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),p}},{key:"onPaste",value:function(p){var A=p.detail.data,y=this.defaultLevel.number;switch(A.tagName){case"H1":y=1;break;case"H2":y=2;break;case"H3":y=3;break;case"H4":y=4;break;case"H5":y=5;break;case"H6":y=6}this._settings.levels&&(y=this._settings.levels.reduce(function(O,R){return Math.abs(R-y)<Math.abs(O-y)?R:O})),this.data={level:y,text:A.innerHTML,alignment:this._settings.defaultAlignment||s.DEFAULT_ALIGNMENT}}},{key:"data",get:function(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data.alignment=this._data.alignment||this._settings.defaultAlignment||s.DEFAULT_ALIGNMENT,this._data},set:function(p){if(this._data=this.normalizeData(p),p.level!==void 0&&this._element.parentNode){var A=this.getTag();A.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(A,this._element),this._element=A}p.text!==void 0&&(this._element.innerHTML=this._data.text||"")}},{key:"currentLevel",get:function(){var p=this,A=this.levels.find(function(y){return y.number===p._data.level});return A||(A=this.defaultLevel),A}},{key:"defaultLevel",get:function(){var p=this;if(this._settings.defaultLevel){var A=this.levels.find(function(y){return y.number===p._settings.defaultLevel});if(A)return A;console.warn("(ง'̀-'́)ง Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}},{key:"levels",get:function(){var p=this,A=[{number:1,tag:"H1",svg:'<svg width="16" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.14 1.494V4.98h4.62V1.494c0-.498.098-.871.293-1.12A.927.927 0 0 1 7.82 0c.322 0 .583.123.782.37.2.246.3.62.3 1.124v9.588c0 .503-.101.88-.303 1.128a.957.957 0 0 1-.779.374.921.921 0 0 1-.77-.378c-.193-.251-.29-.626-.29-1.124V6.989H2.14v4.093c0 .503-.1.88-.302 1.128a.957.957 0 0 1-.778.374.921.921 0 0 1-.772-.378C.096 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.285.374A.922.922 0 0 1 1.06 0c.321 0 .582.123.782.37.199.246.299.62.299 1.124zm11.653 9.985V5.27c-1.279.887-2.14 1.33-2.583 1.33a.802.802 0 0 1-.563-.228.703.703 0 0 1-.245-.529c0-.232.08-.402.241-.511.161-.11.446-.25.854-.424.61-.259 1.096-.532 1.462-.818a5.84 5.84 0 0 0 .97-.962c.282-.355.466-.573.552-.655.085-.082.246-.123.483-.123.267 0 .481.093.642.28.161.186.242.443.242.77v7.813c0 .914-.345 1.371-1.035 1.371-.307 0-.554-.093-.74-.28-.187-.186-.28-.461-.28-.825z"/></svg>'},{number:2,tag:"H2",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm10.99 9.288h3.527c.351 0 .62.072.804.216.185.144.277.34.277.588 0 .22-.073.408-.22.56-.146.154-.368.23-.665.23h-4.972c-.338 0-.601-.093-.79-.28a.896.896 0 0 1-.284-.659c0-.162.06-.377.182-.645s.255-.478.399-.631a38.617 38.617 0 0 1 1.621-1.598c.482-.444.827-.735 1.034-.875.369-.261.676-.523.922-.787.245-.263.432-.534.56-.81.129-.278.193-.549.193-.815 0-.288-.069-.546-.206-.773a1.428 1.428 0 0 0-.56-.53 1.618 1.618 0 0 0-.774-.19c-.59 0-1.054.26-1.392.777-.045.068-.12.252-.226.554-.106.302-.225.534-.358.696-.133.162-.328.243-.585.243a.76.76 0 0 1-.56-.223c-.149-.148-.223-.351-.223-.608 0-.31.07-.635.21-.972.139-.338.347-.645.624-.92a3.093 3.093 0 0 1 1.054-.665c.426-.169.924-.253 1.496-.253.69 0 1.277.108 1.764.324.315.144.592.343.83.595.24.252.425.544.558.875.133.33.2.674.2 1.03 0 .558-.14 1.066-.416 1.523-.277.457-.56.815-.848 1.074-.288.26-.771.666-1.45 1.22-.677.554-1.142.984-1.394 1.29a3.836 3.836 0 0 0-.331.44z"/></svg>'},{number:3,tag:"H3",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm11.61 4.919c.418 0 .778-.123 1.08-.368.301-.245.452-.597.452-1.055 0-.35-.12-.65-.36-.902-.241-.252-.566-.378-.974-.378-.277 0-.505.038-.684.116a1.1 1.1 0 0 0-.426.306 2.31 2.31 0 0 0-.296.49c-.093.2-.178.388-.255.565a.479.479 0 0 1-.245.225.965.965 0 0 1-.409.081.706.706 0 0 1-.5-.22c-.152-.148-.228-.345-.228-.59 0-.236.071-.484.214-.745a2.72 2.72 0 0 1 .627-.746 3.149 3.149 0 0 1 1.024-.568 4.122 4.122 0 0 1 1.368-.214c.44 0 .842.06 1.205.18.364.12.679.294.947.52.267.228.47.49.606.79.136.3.204.622.204.967 0 .454-.099.843-.296 1.168-.198.324-.48.64-.848.95.354.19.653.408.895.653.243.245.426.516.548.813.123.298.184.619.184.964 0 .413-.083.812-.248 1.198-.166.386-.41.73-.732 1.031a3.49 3.49 0 0 1-1.147.708c-.443.17-.932.256-1.467.256a3.512 3.512 0 0 1-1.464-.293 3.332 3.332 0 0 1-1.699-1.64c-.142-.314-.214-.573-.214-.777 0-.263.085-.475.255-.636a.89.89 0 0 1 .637-.242c.127 0 .25.037.367.112a.53.53 0 0 1 .232.27c.236.63.489 1.099.759 1.405.27.306.65.46 1.14.46a1.714 1.714 0 0 0 1.46-.824c.17-.273.256-.588.256-.947 0-.53-.145-.947-.436-1.249-.29-.302-.694-.453-1.212-.453-.09 0-.231.01-.422.028-.19.018-.313.027-.367.027-.25 0-.443-.062-.579-.187-.136-.125-.204-.299-.204-.521 0-.218.081-.394.245-.528.163-.134.406-.2.728-.2h.28z"/></svg>'},{number:4,tag:"H4",svg:'<svg width="20" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm13.003 10.09v-1.252h-3.38c-.427 0-.746-.097-.96-.29-.213-.193-.32-.456-.32-.788 0-.085.016-.171.048-.259.031-.088.078-.18.141-.276.063-.097.128-.19.195-.28.068-.09.15-.2.25-.33l3.568-4.774a5.44 5.44 0 0 1 .576-.683.763.763 0 0 1 .542-.212c.682 0 1.023.39 1.023 1.171v5.212h.29c.346 0 .623.047.832.142.208.094.313.3.313.62 0 .26-.086.45-.256.568-.17.12-.427.179-.768.179h-.41v1.252c0 .346-.077.603-.23.771-.152.168-.356.253-.612.253a.78.78 0 0 1-.61-.26c-.154-.173-.232-.427-.232-.764zm-2.895-2.76h2.895V4.91L12.26 8.823z"/></svg>'},{number:5,tag:"H5",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm14.16 2.645h-3.234l-.388 2.205c.644-.344 1.239-.517 1.783-.517.436 0 .843.082 1.222.245.38.164.712.39.998.677.286.289.51.63.674 1.025.163.395.245.82.245 1.273 0 .658-.148 1.257-.443 1.797-.295.54-.72.97-1.276 1.287-.556.318-1.197.477-1.923.477-.813 0-1.472-.15-1.978-.45-.506-.3-.865-.643-1.076-1.031-.21-.388-.316-.727-.316-1.018 0-.177.073-.345.22-.504a.725.725 0 0 1 .556-.238c.381 0 .665.22.85.66.182.404.427.719.736.943.309.225.654.337 1.035.337.35 0 .656-.09.919-.272.263-.182.466-.431.61-.749.142-.318.214-.678.214-1.082 0-.436-.078-.808-.232-1.117a1.607 1.607 0 0 0-.62-.69 1.674 1.674 0 0 0-.864-.229c-.39 0-.67.048-.837.143-.168.095-.41.262-.725.5-.316.239-.576.358-.78.358a.843.843 0 0 1-.592-.242c-.173-.16-.259-.344-.259-.548 0-.022.025-.177.075-.463l.572-3.26c.063-.39.181-.675.354-.852.172-.177.454-.265.844-.265h3.595c.708 0 1.062.27 1.062.81a.711.711 0 0 1-.26.572c-.172.145-.426.218-.762.218z"/></svg>'},{number:6,tag:"H6",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zM12.53 7.058a3.093 3.093 0 0 1 1.004-.814 2.734 2.734 0 0 1 1.214-.264c.43 0 .827.08 1.19.24.365.161.684.39.957.686.274.296.485.645.635 1.048a3.6 3.6 0 0 1 .223 1.262c0 .637-.145 1.216-.437 1.736-.292.52-.699.926-1.221 1.218-.522.292-1.114.438-1.774.438-.76 0-1.416-.186-1.967-.557-.552-.37-.974-.919-1.265-1.645-.292-.726-.438-1.613-.438-2.662 0-.855.088-1.62.265-2.293.176-.674.43-1.233.76-1.676.33-.443.73-.778 1.2-1.004.47-.226 1.006-.339 1.608-.339.579 0 1.089.113 1.53.34.44.225.773.506.997.84.224.335.335.656.335.964 0 .185-.07.354-.21.505a.698.698 0 0 1-.536.227.874.874 0 0 1-.529-.18 1.039 1.039 0 0 1-.36-.498 1.42 1.42 0 0 0-.495-.655 1.3 1.3 0 0 0-.786-.247c-.24 0-.479.069-.716.207a1.863 1.863 0 0 0-.6.56c-.33.479-.525 1.333-.584 2.563zm1.832 4.213c.456 0 .834-.186 1.133-.56.298-.373.447-.862.447-1.468 0-.412-.07-.766-.21-1.062a1.584 1.584 0 0 0-.577-.678 1.47 1.47 0 0 0-.807-.234c-.28 0-.548.074-.804.224-.255.149-.461.365-.617.647a2.024 2.024 0 0 0-.234.994c0 .61.158 1.12.475 1.527.316.407.714.61 1.194.61z"/></svg>'}];return this._settings.levels?A.filter(function(y){return p._settings.levels.includes(y.number)}):A}}])&&r(a.prototype,h),u&&r(a,u),s}();t.exports=l},function(t,i,o){var n=o(2);typeof n=="string"&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};o(4)(n,r),n.locals&&(t.exports=n.locals)},function(t,i,o){(t.exports=o(3)(!1)).push([t.i,`/**\r
 * Plugin styles\r
 */\r
.ce-header {\r
  padding: 0.6em 0 3px;\r
  margin: 0;\r
  line-height: 1.25em;\r
  outline: none;\r
}\r
\r
.ce-header p,\r
.ce-header div {\r
  padding: 0 !important;\r
  margin: 0 !important;\r
}\r
\r
/**\r
 * Styles for Plugin icon in Toolbar\r
 */\r
.ce-header__icon {\r
}\r
\r
.ce-header[contentEditable="true"][data-placeholder]::before {\r
  position: absolute;\r
  content: attr(data-placeholder);\r
  color: #707684;\r
  font-weight: normal;\r
  display: none;\r
  cursor: text;\r
}\r
\r
.ce-header[contentEditable="true"][data-placeholder]:empty::before {\r
  display: block;\r
}\r
\r
.ce-header[contentEditable="true"][data-placeholder]:empty:focus::before {\r
  display: none;\r
}\r
\r
/* Alignment*/\r
.ce-header--right {\r
  text-align: right;\r
}\r
.ce-header--center {\r
  text-align: center;\r
}\r
.ce-header--left {\r
  text-align: left;\r
}\r
.ce-header--justify {\r
  text-align: justify;\r
}\r
`,""])},function(t,i){t.exports=function(o){var n=[];return n.toString=function(){return this.map(function(r){var l=function(s,a){var h=s[1]||"",u=s[3];if(!u)return h;if(a&&typeof btoa=="function"){var p=(y=u,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(y))))+" */"),A=u.sources.map(function(O){return"/*# sourceURL="+u.sourceRoot+O+" */"});return[h].concat(A).concat([p]).join(`
`)}var y;return[h].join(`
`)}(r,o);return r[2]?"@media "+r[2]+"{"+l+"}":l}).join("")},n.i=function(r,l){typeof r=="string"&&(r=[[null,r,""]]);for(var s={},a=0;a<this.length;a++){var h=this[a][0];typeof h=="number"&&(s[h]=!0)}for(a=0;a<r.length;a++){var u=r[a];typeof u[0]=="number"&&s[u[0]]||(l&&!u[2]?u[2]=l:l&&(u[2]="("+u[2]+") and ("+l+")"),n.push(u))}},n}},function(t,i,o){var n,r,l={},s=(n=function(){return window&&document&&document.all&&!window.atob},function(){return r===void 0&&(r=n.apply(this,arguments)),r}),a=function(E){return document.querySelector(E)},h=function(E){var b={};return function(C){if(typeof C=="function")return C();if(b[C]===void 0){var w=a.call(this,C);if(window.HTMLIFrameElement&&w instanceof window.HTMLIFrameElement)try{w=w.contentDocument.head}catch{w=null}b[C]=w}return b[C]}}(),u=null,p=0,A=[],y=o(5);function O(E,b){for(var C=0;C<E.length;C++){var w=E[C],f=l[w.id];if(f){f.refs++;for(var _=0;_<f.parts.length;_++)f.parts[_](w.parts[_]);for(;_<w.parts.length;_++)f.parts.push(L(w.parts[_],b))}else{var H=[];for(_=0;_<w.parts.length;_++)H.push(L(w.parts[_],b));l[w.id]={id:w.id,refs:1,parts:H}}}}function R(E,b){for(var C=[],w={},f=0;f<E.length;f++){var _=E[f],H=b.base?_[0]+b.base:_[0],W={css:_[1],media:_[2],sourceMap:_[3]};w[H]?w[H].parts.push(W):C.push(w[H]={id:H,parts:[W]})}return C}function I(E,b){var C=h(E.insertInto);if(!C)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var w=A[A.length-1];if(E.insertAt==="top")w?w.nextSibling?C.insertBefore(b,w.nextSibling):C.appendChild(b):C.insertBefore(b,C.firstChild),A.push(b);else if(E.insertAt==="bottom")C.appendChild(b);else{if(typeof E.insertAt!="object"||!E.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var f=h(E.insertInto+" "+E.insertAt.before);C.insertBefore(b,f)}}function Q(E){if(E.parentNode===null)return!1;E.parentNode.removeChild(E);var b=A.indexOf(E);b>=0&&A.splice(b,1)}function k(E){var b=document.createElement("style");return E.attrs.type===void 0&&(E.attrs.type="text/css"),x(b,E.attrs),I(E,b),b}function x(E,b){Object.keys(b).forEach(function(C){E.setAttribute(C,b[C])})}function L(E,b){var C,w,f,_;if(b.transform&&E.css){if(!(_=b.transform(E.css)))return function(){};E.css=_}if(b.singleton){var H=p++;C=u||(u=k(b)),w=g.bind(null,C,H,!1),f=g.bind(null,C,H,!0)}else E.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(C=function(W){var Ee=document.createElement("link");return W.attrs.type===void 0&&(W.attrs.type="text/css"),W.attrs.rel="stylesheet",x(Ee,W.attrs),I(W,Ee),Ee}(b),w=M.bind(null,C,b),f=function(){Q(C),C.href&&URL.revokeObjectURL(C.href)}):(C=k(b),w=v.bind(null,C),f=function(){Q(C)});return w(E),function(W){if(W){if(W.css===E.css&&W.media===E.media&&W.sourceMap===E.sourceMap)return;w(E=W)}else f()}}t.exports=function(E,b){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(b=b||{}).attrs=typeof b.attrs=="object"?b.attrs:{},b.singleton||typeof b.singleton=="boolean"||(b.singleton=s()),b.insertInto||(b.insertInto="head"),b.insertAt||(b.insertAt="bottom");var C=R(E,b);return O(C,b),function(w){for(var f=[],_=0;_<C.length;_++){var H=C[_];(W=l[H.id]).refs--,f.push(W)}for(w&&O(R(w,b),b),_=0;_<f.length;_++){var W;if((W=f[_]).refs===0){for(var Ee=0;Ee<W.parts.length;Ee++)W.parts[Ee]();delete l[W.id]}}}};var N,le=(N=[],function(E,b){return N[E]=b,N.filter(Boolean).join(`
`)});function g(E,b,C,w){var f=C?"":w.css;if(E.styleSheet)E.styleSheet.cssText=le(b,f);else{var _=document.createTextNode(f),H=E.childNodes;H[b]&&E.removeChild(H[b]),H.length?E.insertBefore(_,H[b]):E.appendChild(_)}}function v(E,b){var C=b.css,w=b.media;if(w&&E.setAttribute("media",w),E.styleSheet)E.styleSheet.cssText=C;else{for(;E.firstChild;)E.removeChild(E.firstChild);E.appendChild(document.createTextNode(C))}}function M(E,b,C){var w=C.css,f=C.sourceMap,_=b.convertToAbsoluteUrls===void 0&&f;(b.convertToAbsoluteUrls||_)&&(w=y(w)),f&&(w+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(f))))+" */");var H=new Blob([w],{type:"text/css"}),W=E.href;E.href=URL.createObjectURL(H),W&&URL.revokeObjectURL(W)}},function(t,i){t.exports=function(o){var n=typeof window<"u"&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var r=n.protocol+"//"+n.host,l=r+n.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(s,a){var h,u=a.trim().replace(/^"(.*)"$/,function(p,A){return A}).replace(/^'(.*)'$/,function(p,A){return A});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(u)?s:(h=u.indexOf("//")===0?u:u.indexOf("/")===0?r+u:l+u.replace(/^\.\//,""),"url("+JSON.stringify(h)+")")})}},function(t,i,o){o.r(i),i.default=`<svg width="10" height="14" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 14">\r
  <path d="M7.6 8.15H2.25v4.525a1.125 1.125 0 0 1-2.25 0V1.125a1.125 1.125 0 1 1 2.25 0V5.9H7.6V1.125a1.125 1.125 0 0 1 2.25 0v11.55a1.125 1.125 0 0 1-2.25 0V8.15z"/>\r
</svg>\r
`}])})})(bundle$3);var bundleExports$3=bundle$3.exports;const Header=getDefaultExportFromCjs(bundleExports$3);var bundle$2={exports:{}};(function(c,e){(function(t,i){c.exports=i()})(self,()=>(()=>{var t={424:(r,l,s)=>{s.d(l,{Z:()=>A});var a=s(81),h=s.n(a),u=s(645),p=s.n(u)()(h());p.push([r.id,`.toggle-block__selector > div {
  vertical-align: middle;
  display: inline-block;
  padding: 1% 0 1% 0;
  outline: none;
  border: none;
  width: 90%;
}

.toggle-block__selector br {
  display: none;
}

.toggle-block__icon > svg {
  vertical-align: middle;
  width: 15px;
  height: auto;
}

.toggle-block__icon:hover {
  color: #388ae5;
  cursor: pointer;
}

.bi-play-fill {
  width: 34px;
  height: 34px;
}

.toggle-block__input {
  margin-left: 5px;
}

.toggle-block__input:empty:before {
  content: attr(placeholder);
  color: gray;
  background-color: transparent;
}

.toggle-block__content-default {
  margin-left: 20px;
}

.toggle-block__item {
  margin-left: 39px;
}

.toggle-block__content-default {
  color: gray;
  border-radius: 5px;
}

.toggle-block__content-default:hover {
  cursor: pointer;
  background: rgba(55, 53, 47, 0.08);
}

div.toggle-block__hidden {
  display: none;
}
`,""]);const A=p},645:r=>{r.exports=function(l){var s=[];return s.toString=function(){return this.map(function(a){var h="",u=a[5]!==void 0;return a[4]&&(h+="@supports (".concat(a[4],") {")),a[2]&&(h+="@media ".concat(a[2]," {")),u&&(h+="@layer".concat(a[5].length>0?" ".concat(a[5]):""," {")),h+=l(a),u&&(h+="}"),a[2]&&(h+="}"),a[4]&&(h+="}"),h}).join("")},s.i=function(a,h,u,p,A){typeof a=="string"&&(a=[[null,a,void 0]]);var y={};if(u)for(var O=0;O<this.length;O++){var R=this[O][0];R!=null&&(y[R]=!0)}for(var I=0;I<a.length;I++){var Q=[].concat(a[I]);u&&y[Q[0]]||(A!==void 0&&(Q[5]===void 0||(Q[1]="@layer".concat(Q[5].length>0?" ".concat(Q[5]):""," {").concat(Q[1],"}")),Q[5]=A),h&&(Q[2]&&(Q[1]="@media ".concat(Q[2]," {").concat(Q[1],"}")),Q[2]=h),p&&(Q[4]?(Q[1]="@supports (".concat(Q[4],") {").concat(Q[1],"}"),Q[4]=p):Q[4]="".concat(p)),s.push(Q))}},s}},81:r=>{r.exports=function(l){return l[1]}},379:r=>{var l=[];function s(u){for(var p=-1,A=0;A<l.length;A++)if(l[A].identifier===u){p=A;break}return p}function a(u,p){for(var A={},y=[],O=0;O<u.length;O++){var R=u[O],I=p.base?R[0]+p.base:R[0],Q=A[I]||0,k="".concat(I," ").concat(Q);A[I]=Q+1;var x=s(k),L={css:R[1],media:R[2],sourceMap:R[3],supports:R[4],layer:R[5]};if(x!==-1)l[x].references++,l[x].updater(L);else{var N=h(L,p);p.byIndex=O,l.splice(O,0,{identifier:k,updater:N,references:1})}y.push(k)}return y}function h(u,p){var A=p.domAPI(p);return A.update(u),function(y){if(y){if(y.css===u.css&&y.media===u.media&&y.sourceMap===u.sourceMap&&y.supports===u.supports&&y.layer===u.layer)return;A.update(u=y)}else A.remove()}}r.exports=function(u,p){var A=a(u=u||[],p=p||{});return function(y){y=y||[];for(var O=0;O<A.length;O++){var R=s(A[O]);l[R].references--}for(var I=a(y,p),Q=0;Q<A.length;Q++){var k=s(A[Q]);l[k].references===0&&(l[k].updater(),l.splice(k,1))}A=I}}},569:r=>{var l={};r.exports=function(s,a){var h=function(u){if(l[u]===void 0){var p=document.querySelector(u);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}l[u]=p}return l[u]}(s);if(!h)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");h.appendChild(a)}},216:r=>{r.exports=function(l){var s=document.createElement("style");return l.setAttributes(s,l.attributes),l.insert(s,l.options),s}},565:(r,l,s)=>{r.exports=function(a){var h=s.nc;h&&a.setAttribute("nonce",h)}},795:r=>{r.exports=function(l){var s=l.insertStyleElement(l);return{update:function(a){(function(h,u,p){var A="";p.supports&&(A+="@supports (".concat(p.supports,") {")),p.media&&(A+="@media ".concat(p.media," {"));var y=p.layer!==void 0;y&&(A+="@layer".concat(p.layer.length>0?" ".concat(p.layer):""," {")),A+=p.css,y&&(A+="}"),p.media&&(A+="}"),p.supports&&(A+="}");var O=p.sourceMap;O&&typeof btoa<"u"&&(A+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(O))))," */")),u.styleTagTransform(A,h,u.options)})(s,l,a)},remove:function(){(function(a){if(a.parentNode===null)return!1;a.parentNode.removeChild(a)})(s)}}}},589:r=>{r.exports=function(l,s){if(s.styleSheet)s.styleSheet.cssText=l;else{for(;s.firstChild;)s.removeChild(s.firstChild);s.appendChild(document.createTextNode(l))}}},370:r=>{r.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16"><path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"></path></svg>'}},i={};function o(r){var l=i[r];if(l!==void 0)return l.exports;var s=i[r]={id:r,exports:{}};return t[r](s,s.exports,o),s.exports}o.n=r=>{var l=r&&r.__esModule?()=>r.default:()=>r;return o.d(l,{a:l}),l},o.d=(r,l)=>{for(var s in l)o.o(l,s)&&!o.o(r,s)&&Object.defineProperty(r,s,{enumerable:!0,get:l[s]})},o.o=(r,l)=>Object.prototype.hasOwnProperty.call(r,l),o.nc=void 0;var n={};return(()=>{o.d(n,{default:()=>b});var r=o(379),l=o.n(r),s=o(795),a=o.n(s),h=o(569),u=o.n(h),p=o(565),A=o.n(p),y=o(216),O=o.n(y),R=o(589),I=o.n(R),Q=o(424),k={};k.styleTagTransform=I(),k.setAttributes=A(),k.insert=u().bind(null,"head"),k.domAPI=a(),k.insertStyleElement=O(),l()(Q.Z,k),Q.Z&&Q.Z.locals&&Q.Z.locals;const x={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let L;const N=new Uint8Array(16);function le(){if(!L&&(L=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!L))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return L(N)}const g=[];for(let C=0;C<256;++C)g.push((C+256).toString(16).slice(1));const v=function(C,w,f){if(x.randomUUID&&!w&&!C)return x.randomUUID();const _=(C=C||{}).random||(C.rng||le)();if(_[6]=15&_[6]|64,_[8]=63&_[8]|128,w){f=f||0;for(let H=0;H<16;++H)w[f+H]=_[H];return w}return function(H,W=0){return(g[H[W+0]]+g[H[W+1]]+g[H[W+2]]+g[H[W+3]]+"-"+g[H[W+4]]+g[H[W+5]]+"-"+g[H[W+6]]+g[H[W+7]]+"-"+g[H[W+8]]+g[H[W+9]]+"-"+g[H[W+10]]+g[H[W+11]]+g[H[W+12]]+g[H[W+13]]+g[H[W+14]]+g[H[W+15]]).toLowerCase()}(_)};var M=o(370),E=o.n(M);class b{static get toolbox(){return{title:"Toggle",icon:E()}}static get enableLineBreaks(){return!0}static get isReadOnlySupported(){return!0}constructor({data:w,api:f,readOnly:_,config:H}){this.data={text:w.text||"",status:w.status||"open",fk:w.fk||`fk-${v()}`,items:w.items||0},this.itemsId=[],this.api=f;const{toolbar:{close:W},blocks:{getCurrentBlockIndex:Ee,getBlockByIndex:Xe,getBlocksCount:It,move:Mt}}=this.api;this.close=W,this.getCurrentBlockIndex=Ee,this.getBlocksCount=It,this.getBlockByIndex=Xe,this.move=Mt,this.wrapper=void 0,this.readOnly=_||!1,this.placeholder=H?.placeholder??"Toggle",this.defaultContent=H?.defaultContent??"Empty toggle. Click or drop blocks inside.",this.addListeners(),this.addSupportForUndoAndRedoActions(),this.addSupportForDragAndDropActions(),this.addSupportForCopyAndPasteAction()}isAToggleItem(w){return w.classList.contains("toggle-block__item")}isAToggleRoot(w){return w.classList.contains("toggle-block__selector")||!!w.querySelector(".toggle-block__selector")}createParagraphFromToggleRoot(w){if(w.code==="Enter"){const f=document.getSelection().focusOffset,_=this.api.blocks.getCurrentBlockIndex(),H=this.api.blocks.getBlockByIndex(_),{holder:W}=H,Ee=W.firstChild.firstChild,Xe=Ee.children[1].innerHTML,It=Xe.indexOf("<br>"),Mt=It===-1?Xe.length:It;this.data.status==="closed"&&(this.resolveToggleAction(),this.hideAndShowBlocks());const tn=Xe.slice(Mt+4,f.focusOffset);Ee.children[1].innerHTML=Xe.slice(f.focusOffset,Mt),this.api.blocks.insert("paragraph",{text:tn},{},_+1,1),this.setAttributesToNewBlock()}}createParagraphFromIt(){this.setAttributesToNewBlock()}setAttributesToNewBlock(w=null,f=this.wrapper.id){const _=w===null?this.api.blocks.getCurrentBlockIndex():w,H=v(),W=this.api.blocks.getBlockByIndex(_);this.itemsId.includes(W.id)||this.itemsId.splice(_-1,0,W.id);const{holder:Ee}=W,Xe=Ee.firstChild.firstChild;Ee.setAttribute("foreignKey",f),Ee.setAttribute("id",H),Ee.classList.add("toggle-block__item"),this.readOnly||(Ee.onkeydown=this.setEventsToNestedBlock.bind(this),Xe.focus())}setEventsToNestedBlock(w){if(w.code==="Enter")this.createParagraphFromIt();else{const f=this.getCurrentBlockIndex(),_=this.getBlockByIndex(f),{holder:H}=_;if(w.code==="Tab"&&w.shiftKey&&this.extractBlock(f),w.code==="Backspace"){const W=document.getSelection().focusOffset;this.removeBlock(H,_.id,W)}}}removeBlock(w,f,_){if(_===0){const H=w.nextSibling.firstChild.firstChild.innerHTML;w.firstChild.firstChild.children[1].innerHTML+=H;const W=this.itemsId.indexOf(f);this.itemsId.splice(W,1);const Ee=this.api.blocks.getCurrentBlockIndex();this.api.blocks.delete(Ee+1)}}removeAttributesFromNewBlock(w){const f=this.api.blocks.getBlockByIndex(w),{holder:_}=f;if(!this.itemsId.includes(f.id)){const H=this.itemsId.indexOf(f.id);this.itemsId.splice(H,1)}_.removeAttribute("foreignKey"),_.removeAttribute("id"),_.onkeydown={},_.onkeyup={},_.classList.remove("toggle-block__item")}createToggle(){this.wrapper=document.createElement("div"),this.wrapper.classList.add("toggle-block__selector"),this.wrapper.id=this.data.fk;const w=document.createElement("span"),f=document.createElement("div"),_=document.createElement("div");w.classList.add("toggle-block__icon"),w.innerHTML=E(),f.classList.add("toggle-block__input"),f.setAttribute("contentEditable",!this.readOnly),f.innerHTML=this.data.text||"",this.readOnly||(f.addEventListener("keyup",this.createParagraphFromToggleRoot.bind(this)),f.addEventListener("keydown",this.removeToggle.bind(this)),f.addEventListener("focusin",()=>this.setFocusToggleRootAtTheEnd()),f.addEventListener("keyup",this.setPlaceHolder.bind(this)),f.setAttribute("placeholder",this.placeholder),f.addEventListener("focus",this.setDefaultContent.bind(this)),f.addEventListener("focusout",this.setDefaultContent.bind(this)),_.addEventListener("click",this.clickInDefaultContent.bind(this)),f.addEventListener("focus",this.setNestedBlockAttributes.bind(this))),_.classList.add("toggle-block__content-default","toggle-block__hidden"),_.innerHTML=this.defaultContent,this.wrapper.appendChild(w),this.wrapper.appendChild(f),this.wrapper.appendChild(_)}setFocusToggleRootAtTheEnd(){const w=document.activeElement,f=window.getSelection(),_=document.createRange();f.removeAllRanges(),_.selectNodeContents(w),_.collapse(!1),f.addRange(_),w.focus()}clickInDefaultContent(){this.api.blocks.insert(),this.setAttributesToNewBlock(),this.setDefaultContent()}setDefaultContent(){const w=document.querySelectorAll(`div[foreignKey="${this.wrapper.id}"]`),{firstChild:f,lastChild:_}=this.wrapper,{status:H}=this.data,W=w.length>0||H==="closed";_.classList.toggle("toggle-block__hidden",W),f.style.color=w.length===0?"gray":"black"}removeToggle(w){if(w.code==="Backspace"){const{children:f}=this.wrapper,_=f[1].innerHTML;if(document.getSelection().focusOffset===0){const H=this.api.blocks.getCurrentBlockIndex(),W=_.indexOf("<br>"),Ee=W===-1?_.length:W,Xe=document.querySelectorAll(`div[foreignKey="${this.wrapper.id}"]`);for(let It=1;It<Xe.length+1;It+=1)this.removeAttributesFromNewBlock(H+It);this.api.blocks.delete(H),this.api.blocks.insert("paragraph",{text:_.slice(0,Ee)},{},H,1),this.api.caret.setToBlock(H)}}}findToogleRootIndex(w,f){const _=this.getBlockByIndex(w),{holder:H}=_;return this.isAToggleRoot(H)&&f===H.querySelector(".toggle-block__selector").getAttribute("id")?w:w-1>=0?this.findToogleRootIndex(w-1,f):-1}extractBlock(w){const f=this.getBlockByIndex(w),{holder:_}=f;if(this.isAToggleItem(_)){const H=_.getAttribute("foreignKey"),W=this.findToogleRootIndex(w,H);if(W>=0){const Ee=this.getDecendentsNumber(H),Xe=W+Ee;Ee>1&&this.api.blocks.move(Xe,w),setTimeout(()=>this.removeAttributesFromNewBlock(Xe),200)}}this.api.caret.setToBlock(w),this.api.toolbar.close()}setPlaceHolder(w){if(w.code==="Backspace"||w.code==="Enter"){const{children:f}=this.wrapper,{length:_}=f[1].textContent;_===0&&(f[1].textContent="")}}render(){return this.createToggle(),setTimeout(()=>this.renderItems()),setTimeout(()=>this.setInitialTransition()),this.wrapper}setInitialTransition(){const{status:w}=this.data,f=this.wrapper.firstChild.firstChild;f.style.transition="0.1s",f.style.transform=`rotate(${w==="closed"?0:90}deg)`}renderItems(){const w=this.api.blocks.getBlocksCount(),f=this.wrapper.firstChild;let _;if(this.readOnly){const H=document.getElementsByClassName("codex-editor__redactor")[0],{children:W}=H,{length:Ee}=W;for(let Xe=0;Xe<Ee;Xe+=1){const It=W[Xe].firstChild.firstChild,{id:Mt}=It;if(Mt===this.wrapper.id){_=Xe;break}}}else{const H=this.wrapper.children[1];let W={},Ee=this.api.blocks.getCurrentBlockIndex();for(;W[1]!==H;){_=Ee;const Xe=this.api.blocks.getBlockByIndex(_),{holder:It}=Xe;W=It.firstChild.firstChild.children,Ee-=1}}if(_+this.data.items<w)for(let H=_+1,W=0;H<=_+this.data.items;H+=1){const Ee=this.api.blocks.getBlockByIndex(H),{holder:Xe}=Ee,It=Xe.firstChild.firstChild;if(this.isPartOfAToggle(It)){this.data.items=W;break}this.setAttributesToNewBlock(H),W+=1}else this.data.items=0;f.addEventListener("click",()=>{this.resolveToggleAction(),setTimeout(()=>{this.hideAndShowBlocks()})}),this.hideAndShowBlocks()}resolveToggleAction(){const w=this.wrapper.firstChild.firstChild;this.data.status==="closed"?(this.data.status="open",w.style.transform="rotate(90deg)"):(this.data.status="closed",w.style.transform="rotate(0deg)"),this.api.blocks.getBlockByIndex(this.api.blocks.getCurrentBlockIndex()).holder.setAttribute("status",this.data.status)}hideAndShowBlocks(w=this.wrapper.id,f=this.data.status){const _=document.querySelectorAll(`div[foreignKey="${w}"]`),{length:H}=_;if(H>0)_.forEach(W=>{W.hidden=f==="closed";const Ee=W.querySelectorAll(".toggle-block__selector");if(Ee.length>0){const Xe=f==="closed"?f:W.getAttribute("status");this.hideAndShowBlocks(Ee[0].getAttribute("id"),Xe)}});else if(w===this.wrapper.id){const{lastChild:W}=this.wrapper;W.classList.toggle("toggle-block__hidden",f)}}save(w){const f=w.getAttribute("id"),{children:_}=w,H=_[1].innerHTML,W=document.querySelectorAll(`div[foreignKey="${f}"]`);return this.data.fk=f,Object.assign(this.data,{text:H,items:W.length})}getDecendentsNumber(w){let f=0;return document.querySelectorAll(`div[foreignKey="${w}"]`).forEach(_=>{if(_.hasAttribute("status")){const H=_.querySelector(".toggle-block__selector").getAttribute("id");f+=this.getDecendentsNumber(H)}f+=1}),f}highlightToggleItems(w){document.querySelectorAll(`div[foreignKey="${w}"]`).forEach(f=>{if(f.classList.add("ce-block--selected"),f.hasAttribute("status")){const _=f.querySelector(".toggle-block__selector").getAttribute("id");this.highlightToggleItems(_)}})}renderSettings(){const w=document.getElementsByClassName("ce-settings--opened")[0].lastChild,f=this.api.blocks.getCurrentBlockIndex();this.highlightToggleItems(this.wrapper.id),setTimeout(()=>{this.addEventsMoveButtons("ce-tune-move-down",0,w,f),this.addEventsMoveButtons("ce-tune-move-up",1,w,f);const _=w.getElementsByClassName("ce-settings__button--delete")[0];_&&_.addEventListener("click",()=>{const H=_.classList;Object.values(H).indexOf("clicked-to-destroy-toggle")===-1?_.classList.add("clicked-to-destroy-toggle"):this.removeFullToggle(f)})})}addEventsMoveButtons(w,f,_,H){const W=_.getElementsByClassName(w);if(!W.length)return;const Ee=W[0];Ee&&Ee.addEventListener("click",()=>{this.moveToggle(H,f)})}moveToggle(w,f){if(!this.readOnly){this.close();const _=this.getCurrentBlockIndex(),H=this.getDecendentsNumber(this.wrapper.id),W=this.getBlocksCount(),Ee=w+H;this.move(w,_),w>=0&&Ee<=W-1&&(f===0?this.moveDown(w,Ee):this.moveUp(w,Ee))}}moveDown(w,f){const _=f+1,H=this.getBlockByIndex(_),{holder:W}=H;if(this.move(w,_),H.name==="toggle"){const Ee=W.querySelector(".toggle-block__selector").getAttribute("id"),Xe=this.getDecendentsNumber(Ee);this.moveDecendents(Xe,w+1,_+1,0)}}moveUp(w,f){const _=w-1,H=this.getBlockByIndex(_);if(H.name==="toggle")return;const{holder:W}=H;if(W.hasAttribute("foreignKey")){const Ee=this.getBlockByIndex(w).holder.getAttribute("foreignKey"),Xe=W.getAttribute("foreignKey");if(Xe!==Ee){const It=this.findIndexOfParentBlock(Ee,Xe,w),Mt=this.getBlockByIndex(It).holder.querySelector(".toggle-block__selector").getAttribute("id"),tn=this.getDecendentsNumber(Mt);return this.move(f,It),void this.moveDecendents(tn,f,It,1)}}this.move(f,_)}findIndexOfParentBlock(w,f,_){const H=_-(this.getDecendentsNumber(f)+1),W=this.getBlockByIndex(H).holder;if(W.hasAttribute("foreignKey")){const Ee=W.getAttribute("foreignKey");if(Ee!==w){const Xe=this.getBlockByIndex(H-1).holder;if(Xe.hasAttribute("foreignKey")){const It=Xe.getAttribute("foreignKey");if(It!==Ee)return this.findIndexOfParentBlock(w,It,H)}}}return H}moveDecendents(w,f,_,H){let W=_,Ee=f;for(;w;)this.move(Ee,W),H===0&&(W+=1,Ee+=1),w-=1}removeFullToggle(w){const f=document.querySelectorAll(`div[foreignKey="${this.wrapper.id}"]`),{length:_}=f;for(let H=w;H<w+_;H+=1)this.api.blocks.delete(w)}addListeners(){this.readOnly||document.activeElement.addEventListener("keyup",w=>{const f=document.activeElement,_=this.api.blocks.getCurrentBlockIndex(),H=f.parentElement.parentElement;w.code==="Space"?this.createToggleWithShortcut(f):_>0&&!this.isPartOfAToggle(f)&&!this.isPartOfAToggle(H)&&w.code==="Tab"&&this.nestBlock(f)})}addSupportForUndoAndRedoActions(){if(!this.readOnly){const w=document.querySelector("div.codex-editor__redactor"),f={attributes:!0,childList:!0,characterData:!0};new MutationObserver(_=>{_.forEach(H=>{H.type==="childList"&&setTimeout(this.restoreItemAttributes.bind(this,H))})}).observe(w,f)}}getIndex=w=>Array.from(w.parentNode.children).indexOf(w);isChild=(w,f)=>!(!w||!f)&&(w===f||[...document.querySelectorAll(`div[foreignKey="${w}"]`)].some(_=>{const H=_.querySelector(".toggle-block__selector");return!!H&&this.isChild(H.getAttribute("id"),f)}));addSupportForDragAndDropActions(){if(!this.readOnly){if(this.wrapper===void 0)return void setTimeout(()=>this.addSupportForDragAndDropActions(),250);document.querySelector(`#${this.wrapper.id}`).parentNode.parentNode.setAttribute("status",this.data.status);const w=document.querySelector(".ce-toolbar__settings-btn");w.setAttribute("draggable","true"),w.addEventListener("dragstart",()=>{this.startBlock=this.api.blocks.getCurrentBlockIndex(),this.nameDragged=this.api.blocks.getBlockByIndex(this.startBlock).name,this.holderDragged=this.api.blocks.getBlockByIndex(this.startBlock).holder}),document.addEventListener("drop",f=>{const{target:_}=f;if(document.contains(_)){const H=_.classList.contains("ce-block")?_:_.closest(".ce-block");if(H&&H!==this.holderDragged){let W=this.getIndex(H);W=this.startBlock<W?W+1:W;const Ee=H.querySelectorAll(".toggle-block__selector").length>0||H.getAttribute("foreignKey")!==null;setTimeout(()=>{if(this.nameDragged==="toggle"){const Xe=this.holderDragged.querySelector(`#${this.wrapper.id}`);if(Xe)if(this.isChild(Xe.getAttribute("id"),H.getAttribute("foreignKey"))){if(this.startBlock===W?this.api.blocks.move(this.startBlock+1,W):this.api.blocks.move(this.startBlock,W),!Ee){const It=this.getIndex(this.holderDragged);this.removeAttributesFromNewBlock(It)}}else{if(Ee){const It=H.getAttribute("foreignKey")??H.querySelector(".toggle-block__selector").getAttribute("id"),Mt=this.getIndex(this.holderDragged);this.setAttributesToNewBlock(Mt,It)}this.moveChildren(W)}}if(!Ee){const Xe=this.getIndex(this.holderDragged);this.removeAttributesFromNewBlock(Xe)}})}}})}}moveChildren(w,f=this.wrapper.id){let _=document.querySelectorAll(`div[foreignKey="${f}"]`);_=this.startBlock>=w?[..._].reverse():_,_.forEach(H=>{const W=this.getIndex(H);this.api.blocks.move(w,W);const Ee=H.querySelectorAll(".toggle-block__selector");if(Ee.length>0){const Xe=this.getIndex(H),It=this.startBlock<w?0:1;Ee.forEach(tn=>this.moveChildren(Xe+It,tn.getAttribute("id")));const Mt=Math.abs(w-Xe);w=this.startBlock<w?w+Mt:w-Mt}})}restoreItemAttributes(w){if(this.wrapper!==void 0){const f=this.api.blocks.getCurrentBlockIndex(),_=this.api.blocks.getBlockByIndex(f),{holder:H}=_,W=!this.isPartOfAToggle(H),Ee=w.removedNodes[0];if(this.itemsId.includes(_.id)&&W)this.setAttributesToNewBlock(f);else if(Ee&&this.isPartOfAToggle(Ee)&&W){const Xe=H.firstChild.firstChild;this.isPartOfAToggle(Xe)||(this.setAttributesToNewBlock(f),this.itemsId[f]=_.id)}}}createToggleWithShortcut(w){const f=w.textContent;if(f[0]===">"&&!this.isPartOfAToggle(w)){const _=this.api.blocks.getCurrentBlockIndex();this.api.blocks.insert("toggle",{text:f.slice(2)},this.api,_,!0),this.api.blocks.delete(_+1),this.api.caret.setToBlock(_)}}nestBlock(w){const f=w.parentElement.parentElement,_=f.previousElementSibling,H=_.firstChild.firstChild;if(this.isPartOfAToggle(H)||this.isPartOfAToggle(_)){const W=_.getAttribute("foreignKey"),Ee=H.getAttribute("id"),Xe=W||Ee;f.setAttribute("will-be-a-nested-block",!0),document.getElementById(Xe).children[1].focus()}}setNestedBlockAttributes(){const w=this.api.blocks.getCurrentBlockIndex(),f=this.api.blocks.getBlockByIndex(w),{holder:_}=f;_.getAttribute("will-be-a-nested-block")&&(_.removeAttribute("will-be-a-nested-block"),this.setAttributesToNewBlock(w),this.api.toolbar.close())}isPartOfAToggle(w){const f=Array.from(w.classList);return f.includes("toggle-block__item")||f.includes("toggle-block__input")||f.includes("toggle-block__selector")}addSupportForCopyAndPasteAction(){if(!this.readOnly){const w=document.querySelector("div.codex-editor__redactor"),f={attributes:!0,childList:!0,characterData:!0};new MutationObserver(_=>{_.forEach(H=>{H.type==="childList"&&setTimeout(this.resetIdToCopiedBlock.bind(this,H))})}).observe(w,f)}}resetIdToCopiedBlock(){if(this.wrapper!==void 0){const w=this.api.blocks.getCurrentBlockIndex(),{holder:f}=this.api.blocks.getBlockByIndex(w);if(this.isPartOfAToggle(f)){const _=f.getAttribute("foreignKey");if(document.querySelectorAll(`#${_}`).length>1){const H=this.findToogleRootIndex(w,_),W=v();for(let Ee=H;Ee<=w;Ee+=1){const Xe=this.api.blocks.getBlockByIndex(Ee),{holder:It}=Xe;Ee===H?It.firstChild.firstChild.setAttribute("id",`fk-${W}`):It.setAttribute("foreignKey",`fk-${W}`)}}}}}}})(),n.default})())})(bundle$2);var bundleExports$2=bundle$2.exports;const ToggleBlock=getDefaultExportFromCjs(bundleExports$2);var bundle$1={exports:{}};(function(module,exports){(function(e,t){module.exports=t()})(window,function(){return function(c){var e={};function t(i){if(e[i])return e[i].exports;var o=e[i]={i,l:!1,exports:{}};return c[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=c,t.c=e,t.d=function(i,o,n){t.o(i,o)||Object.defineProperty(i,o,{enumerable:!0,get:n})},t.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},t.t=function(i,o){if(o&1&&(i=t(i)),o&8||o&4&&typeof i=="object"&&i&&i.__esModule)return i;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:i}),o&2&&typeof i!="string")for(var r in i)t.d(n,r,function(l){return i[l]}.bind(null,r));return n},t.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return t.d(o,"a",o),o},t.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},t.p="/",t(t.s="./src/Hyperlink.js")}({"./node_modules/css-loader/dist/cjs.js!./src/Hyperlink.css":function(module,exports,__webpack_require__){eval(`// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".ce-inline-tool-hyperlink-wrapper {\\r\\n    outline: none;\\r\\n    border: 0;\\r\\n    border-radius: 0 0 4px 4px;\\r\\n    margin: 0;\\r\\n    font-size: 13px;\\r\\n    padding: 10px;\\r\\n    width: 100%;\\r\\n    -webkit-box-sizing: border-box;\\r\\n    box-sizing: border-box;\\r\\n    display: none;\\r\\n    font-weight: 500;\\r\\n    border-top: 1px solid rgba(201,201,204,.48);\\r\\n}\\r\\n\\r\\n.ce-inline-tool-hyperlink-wrapper.ce-inline-tool-hyperlink-wrapper--showed {\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n.ce-inline-tool-hyperlink--input,\\r\\n.ce-inline-tool-hyperlink--select-target,\\r\\n.ce-inline-tool-hyperlink--select-rel {\\r\\n    border: 1px solid rgba(201,201,204,.48);\\r\\n    -webkit-box-shadow: inset 0 1px 2px 0 rgba(35,44,72,.06);\\r\\n    box-shadow: inset 0 1px 2px 0 rgba(35,44,72,.06);\\r\\n    border-radius: 5px;\\r\\n    padding: 5px 8px;\\r\\n    margin-bottom: 10px;\\r\\n    outline: none;\\r\\n    width: 100%;\\r\\n    -webkit-box-sizing: border-box;\\r\\n    box-sizing: border-box;\\r\\n}\\r\\n\\r\\n.ce-inline-tool-hyperlink--select-target,\\r\\n.ce-inline-tool-hyperlink--select-rel {\\r\\n    width: 48%;\\r\\n    display: inline-block;\\r\\n}\\r\\n.ce-inline-tool-hyperlink--select-target {\\r\\n    margin-right: 2%;\\r\\n}\\r\\n.ce-inline-tool-hyperlink--select-rel {\\r\\n    margin-left: 2%;\\r\\n}\\r\\n\\r\\n.ce-inline-tool-hyperlink--button {\\r\\n    display: block;\\r\\n    width: 100%;\\r\\n    background-color: #34c38f;\\r\\n    color: #fff;\\r\\n    padding: 7px 0;\\r\\n    border: none;\\r\\n    text-align: center;\\r\\n    text-decoration: none;\\r\\n    font-size: 16px;\\r\\n    border-radius: 5px;\\r\\n    cursor: pointer;\\r\\n}\\r\\n", ""]);
// Exports
module.exports = exports;


//# sourceURL=webpack://Hyperlink/./src/Hyperlink.css?./node_modules/css-loader/dist/cjs.js`)},"./node_modules/css-loader/dist/runtime/api.js":function(module,exports,__webpack_require__){eval(`

/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
// css base code, injected by the css-loader
// eslint-disable-next-line func-names
module.exports = function (useSourceMap) {
  var list = []; // return the list of modules as css string

  list.toString = function toString() {
    return this.map(function (item) {
      var content = cssWithMappingToString(item, useSourceMap);

      if (item[2]) {
        return "@media ".concat(item[2], " {").concat(content, "}");
      }

      return content;
    }).join('');
  }; // import a list of modules into the list
  // eslint-disable-next-line func-names


  list.i = function (modules, mediaQuery, dedupe) {
    if (typeof modules === 'string') {
      // eslint-disable-next-line no-param-reassign
      modules = [[null, modules, '']];
    }

    var alreadyImportedModules = {};

    if (dedupe) {
      for (var i = 0; i < this.length; i++) {
        // eslint-disable-next-line prefer-destructuring
        var id = this[i][0];

        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }

    for (var _i = 0; _i < modules.length; _i++) {
      var item = [].concat(modules[_i]);

      if (dedupe && alreadyImportedModules[item[0]]) {
        // eslint-disable-next-line no-continue
        continue;
      }

      if (mediaQuery) {
        if (!item[2]) {
          item[2] = mediaQuery;
        } else {
          item[2] = "".concat(mediaQuery, " and ").concat(item[2]);
        }
      }

      list.push(item);
    }
  };

  return list;
};

function cssWithMappingToString(item, useSourceMap) {
  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring

  var cssMapping = item[3];

  if (!cssMapping) {
    return content;
  }

  if (useSourceMap && typeof btoa === 'function') {
    var sourceMapping = toComment(cssMapping);
    var sourceURLs = cssMapping.sources.map(function (source) {
      return "/*# sourceURL=".concat(cssMapping.sourceRoot || '').concat(source, " */");
    });
    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');
  }

  return [content].join('\\n');
} // Adapted from convert-source-map (MIT)


function toComment(sourceMap) {
  // eslint-disable-next-line no-undef
  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));
  var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
  return "/*# ".concat(data, " */");
}

//# sourceURL=webpack://Hyperlink/./node_modules/css-loader/dist/runtime/api.js?`)},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":function(module,exports,__webpack_require__){eval(`

var isOldIE = function isOldIE() {
  var memo;
  return function memorize() {
    if (typeof memo === 'undefined') {
      // Test for IE <= 9 as proposed by Browserhacks
      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805
      // Tests for existence of standard globals is to allow style-loader
      // to operate correctly into non-standard environments
      // @see https://github.com/webpack-contrib/style-loader/issues/177
      memo = Boolean(window && document && document.all && !window.atob);
    }

    return memo;
  };
}();

var getTarget = function getTarget() {
  var memo = {};
  return function memorize(target) {
    if (typeof memo[target] === 'undefined') {
      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself

      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
        try {
          // This will throw an exception if access to iframe is blocked
          // due to cross-origin restrictions
          styleTarget = styleTarget.contentDocument.head;
        } catch (e) {
          // istanbul ignore next
          styleTarget = null;
        }
      }

      memo[target] = styleTarget;
    }

    return memo[target];
  };
}();

var stylesInDom = [];

function getIndexByIdentifier(identifier) {
  var result = -1;

  for (var i = 0; i < stylesInDom.length; i++) {
    if (stylesInDom[i].identifier === identifier) {
      result = i;
      break;
    }
  }

  return result;
}

function modulesToDom(list, options) {
  var idCountMap = {};
  var identifiers = [];

  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var count = idCountMap[id] || 0;
    var identifier = "".concat(id, " ").concat(count);
    idCountMap[id] = count + 1;
    var index = getIndexByIdentifier(identifier);
    var obj = {
      css: item[1],
      media: item[2],
      sourceMap: item[3]
    };

    if (index !== -1) {
      stylesInDom[index].references++;
      stylesInDom[index].updater(obj);
    } else {
      stylesInDom.push({
        identifier: identifier,
        updater: addStyle(obj, options),
        references: 1
      });
    }

    identifiers.push(identifier);
  }

  return identifiers;
}

function insertStyleElement(options) {
  var style = document.createElement('style');
  var attributes = options.attributes || {};

  if (typeof attributes.nonce === 'undefined') {
    var nonce =  true ? __webpack_require__.nc : undefined;

    if (nonce) {
      attributes.nonce = nonce;
    }
  }

  Object.keys(attributes).forEach(function (key) {
    style.setAttribute(key, attributes[key]);
  });

  if (typeof options.insert === 'function') {
    options.insert(style);
  } else {
    var target = getTarget(options.insert || 'head');

    if (!target) {
      throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
    }

    target.appendChild(style);
  }

  return style;
}

function removeStyleElement(style) {
  // istanbul ignore if
  if (style.parentNode === null) {
    return false;
  }

  style.parentNode.removeChild(style);
}
/* istanbul ignore next  */


var replaceText = function replaceText() {
  var textStore = [];
  return function replace(index, replacement) {
    textStore[index] = replacement;
    return textStore.filter(Boolean).join('\\n');
  };
}();

function applyToSingletonTag(style, index, remove, obj) {
  var css = remove ? '' : obj.media ? "@media ".concat(obj.media, " {").concat(obj.css, "}") : obj.css; // For old IE

  /* istanbul ignore if  */

  if (style.styleSheet) {
    style.styleSheet.cssText = replaceText(index, css);
  } else {
    var cssNode = document.createTextNode(css);
    var childNodes = style.childNodes;

    if (childNodes[index]) {
      style.removeChild(childNodes[index]);
    }

    if (childNodes.length) {
      style.insertBefore(cssNode, childNodes[index]);
    } else {
      style.appendChild(cssNode);
    }
  }
}

function applyToTag(style, options, obj) {
  var css = obj.css;
  var media = obj.media;
  var sourceMap = obj.sourceMap;

  if (media) {
    style.setAttribute('media', media);
  } else {
    style.removeAttribute('media');
  }

  if (sourceMap && typeof btoa !== 'undefined') {
    css += "\\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  } // For old IE

  /* istanbul ignore if  */


  if (style.styleSheet) {
    style.styleSheet.cssText = css;
  } else {
    while (style.firstChild) {
      style.removeChild(style.firstChild);
    }

    style.appendChild(document.createTextNode(css));
  }
}

var singleton = null;
var singletonCounter = 0;

function addStyle(obj, options) {
  var style;
  var update;
  var remove;

  if (options.singleton) {
    var styleIndex = singletonCounter++;
    style = singleton || (singleton = insertStyleElement(options));
    update = applyToSingletonTag.bind(null, style, styleIndex, false);
    remove = applyToSingletonTag.bind(null, style, styleIndex, true);
  } else {
    style = insertStyleElement(options);
    update = applyToTag.bind(null, style, options);

    remove = function remove() {
      removeStyleElement(style);
    };
  }

  update(obj);
  return function updateStyle(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {
        return;
      }

      update(obj = newObj);
    } else {
      remove();
    }
  };
}

module.exports = function (list, options) {
  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
  // tags it will allow on a page

  if (!options.singleton && typeof options.singleton !== 'boolean') {
    options.singleton = isOldIE();
  }

  list = list || [];
  var lastIdentifiers = modulesToDom(list, options);
  return function update(newList) {
    newList = newList || [];

    if (Object.prototype.toString.call(newList) !== '[object Array]') {
      return;
    }

    for (var i = 0; i < lastIdentifiers.length; i++) {
      var identifier = lastIdentifiers[i];
      var index = getIndexByIdentifier(identifier);
      stylesInDom[index].references--;
    }

    var newLastIdentifiers = modulesToDom(newList, options);

    for (var _i = 0; _i < lastIdentifiers.length; _i++) {
      var _identifier = lastIdentifiers[_i];

      var _index = getIndexByIdentifier(_identifier);

      if (stylesInDom[_index].references === 0) {
        stylesInDom[_index].updater();

        stylesInDom.splice(_index, 1);
      }
    }

    lastIdentifiers = newLastIdentifiers;
  };
};

//# sourceURL=webpack://Hyperlink/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js?`)},"./src/Hyperlink.css":function(module,exports,__webpack_require__){eval(`var api = __webpack_require__(/*! ../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
            var content = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js!./Hyperlink.css */ "./node_modules/css-loader/dist/cjs.js!./src/Hyperlink.css");

            content = content.__esModule ? content.default : content;

            if (typeof content === 'string') {
              content = [[module.i, content, '']];
            }

var options = {};

options.insert = "head";
options.singleton = false;

var update = api(content, options);



module.exports = content.locals || {};

//# sourceURL=webpack://Hyperlink/./src/Hyperlink.css?`)},"./src/Hyperlink.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Hyperlink; });
/* harmony import */ var _SelectionUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SelectionUtils */ "./src/SelectionUtils.js");
/* harmony import */ var _Hyperlink_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Hyperlink.css */ "./src/Hyperlink.css");
/* harmony import */ var _Hyperlink_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_Hyperlink_css__WEBPACK_IMPORTED_MODULE_1__);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }




var Hyperlink = /*#__PURE__*/function () {
  function Hyperlink(_ref) {
    var data = _ref.data,
        config = _ref.config,
        api = _ref.api,
        readOnly = _ref.readOnly;

    _classCallCheck(this, Hyperlink);

    this.toolbar = api.toolbar;
    this.inlineToolbar = api.inlineToolbar;
    this.tooltip = api.tooltip;
    this.i18n = api.i18n;
    this.config = config;
    this.selection = new _SelectionUtils__WEBPACK_IMPORTED_MODULE_0__["default"]();
    this.commandLink = 'createLink';
    this.commandUnlink = 'unlink';
    this.CSS = {
      wrapper: 'ce-inline-tool-hyperlink-wrapper',
      wrapperShowed: 'ce-inline-tool-hyperlink-wrapper--showed',
      button: 'ce-inline-tool',
      buttonActive: 'ce-inline-tool--active',
      buttonModifier: 'ce-inline-tool--link',
      buttonUnlink: 'ce-inline-tool--unlink',
      input: 'ce-inline-tool-hyperlink--input',
      selectTarget: 'ce-inline-tool-hyperlink--select-target',
      selectRel: 'ce-inline-tool-hyperlink--select-rel',
      buttonSave: 'ce-inline-tool-hyperlink--button'
    };
    this.targetAttributes = this.config.availableTargets || ['_blank', // Opens the linked document in a new window or tab
    '_self', // Opens the linked document in the same frame as it was clicked (this is default)
    '_parent', // Opens the linked document in the parent frame
    '_top' // Opens the linked document in the full body of the window
    ];
    this.relAttributes = this.config.availableRels || ['alternate', //Provides a link to an alternate representation of the document (i.e. print page, translated or mirror)
    'author', //Provides a link to the author of the document
    'bookmark', //Permanent URL used for bookmarking
    'external', //Indicates that the referenced document is not part of the same site as the current document
    'help', //Provides a link to a help document
    'license', //Provides a link to licensing information for the document
    'next', //Provides a link to the next document in the series
    'nofollow', //Links to an unendorsed document, like a paid link. ("nofollow" is used by Google, to specify that the Google search spider should not follow that link)
    'noreferrer', //Requires that the browser should not send an HTTP referer header if the user follows the hyperlink
    'noopener', //Requires that any browsing context created by following the hyperlink must not have an opener browsing context
    'prev', //The previous document in a selection
    'search', //Links to a search tool for the document
    'tag' //A tag (keyword) for the current document
    ];
    this.nodes = {
      button: null,
      wrapper: null,
      input: null,
      selectTarget: null,
      selectRel: null,
      buttonSave: null
    };
    this.inputOpened = false;
  }

  _createClass(Hyperlink, [{
    key: "render",
    value: function render() {
      this.nodes.button = document.createElement('button');
      this.nodes.button.type = 'button';
      this.nodes.button.classList.add(this.CSS.button, this.CSS.buttonModifier);
      this.nodes.button.appendChild(this.iconSvg('link', 14, 10));
      this.nodes.button.appendChild(this.iconSvg('unlink', 15, 11));
      return this.nodes.button;
    }
  }, {
    key: "renderActions",
    value: function renderActions() {
      var _this = this;

      this.nodes.wrapper = document.createElement('div');
      this.nodes.wrapper.classList.add(this.CSS.wrapper); // Input

      this.nodes.input = document.createElement('input');
      this.nodes.input.placeholder = 'https://...';
      this.nodes.input.classList.add(this.CSS.input);
      var i; // Target

      this.nodes.selectTarget = document.createElement('select');
      this.nodes.selectTarget.classList.add(this.CSS.selectTarget);
      this.addOption(this.nodes.selectTarget, this.i18n.t('Select target'), '');

      for (i = 0; i < this.targetAttributes.length; i++) {
        this.addOption(this.nodes.selectTarget, this.targetAttributes[i], this.targetAttributes[i]);
      }

      if (!!this.config.target) {
        this.nodes.selectTarget.value = this.config.target;
      } // Rel


      this.nodes.selectRel = document.createElement('select');
      this.nodes.selectRel.classList.add(this.CSS.selectRel);
      this.addOption(this.nodes.selectRel, this.i18n.t('Select rel'), '');

      for (i = 0; i < this.relAttributes.length; i++) {
        this.addOption(this.nodes.selectRel, this.relAttributes[i], this.relAttributes[i]);
      }

      if (!!this.config.rel) {
        this.nodes.selectRel.value = this.config.rel;
      } // Button


      this.nodes.buttonSave = document.createElement('button');
      this.nodes.buttonSave.type = 'button';
      this.nodes.buttonSave.classList.add(this.CSS.buttonSave);
      this.nodes.buttonSave.innerHTML = this.i18n.t('Save');
      this.nodes.buttonSave.addEventListener('click', function (event) {
        _this.savePressed(event);
      }); // append

      this.nodes.wrapper.appendChild(this.nodes.input);
      this.nodes.wrapper.appendChild(this.nodes.selectTarget);
      this.nodes.wrapper.appendChild(this.nodes.selectRel);
      this.nodes.wrapper.appendChild(this.nodes.buttonSave);
      return this.nodes.wrapper;
    }
  }, {
    key: "surround",
    value: function surround(range) {
      if (range) {
        if (!this.inputOpened) {
          this.selection.setFakeBackground();
          this.selection.save();
        } else {
          this.selection.restore();
          this.selection.removeFakeBackground();
        }

        var parentAnchor = this.selection.findParentTag('A');

        if (parentAnchor) {
          this.selection.expandToTag(parentAnchor);
          this.unlink();
          this.closeActions();
          this.checkState();
          this.toolbar.close();
          return;
        }
      }

      this.toggleActions();
    }
  }, {
    key: "checkState",
    value: function checkState() {
      var selection = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
      var anchorTag = this.selection.findParentTag('A');

      if (anchorTag) {
        this.nodes.button.classList.add(this.CSS.buttonUnlink);
        this.nodes.button.classList.add(this.CSS.buttonActive);
        this.openActions();
        var hrefAttr = anchorTag.getAttribute('href');
        var targetAttr = anchorTag.getAttribute('target');
        var relAttr = anchorTag.getAttribute('rel');
        this.nodes.input.value = !!hrefAttr ? hrefAttr : '';
        this.nodes.selectTarget.value = !!targetAttr ? targetAttr : '';
        this.nodes.selectRel.value = !!relAttr ? relAttr : '';
        this.selection.save();
      } else {
        this.nodes.button.classList.remove(this.CSS.buttonUnlink);
        this.nodes.button.classList.remove(this.CSS.buttonActive);
      }

      return !!anchorTag;
    }
  }, {
    key: "clear",
    value: function clear() {
      this.closeActions();
    }
  }, {
    key: "toggleActions",
    value: function toggleActions() {
      if (!this.inputOpened) {
        this.openActions(true);
      } else {
        this.closeActions(false);
      }
    }
  }, {
    key: "openActions",
    value: function openActions() {
      var needFocus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
      this.nodes.wrapper.classList.add(this.CSS.wrapperShowed);

      if (needFocus) {
        this.nodes.input.focus();
      }

      this.inputOpened = true;
    }
  }, {
    key: "closeActions",
    value: function closeActions() {
      var clearSavedSelection = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;

      if (this.selection.isFakeBackgroundEnabled) {
        var currentSelection = new _SelectionUtils__WEBPACK_IMPORTED_MODULE_0__["default"]();
        currentSelection.save();
        this.selection.restore();
        this.selection.removeFakeBackground();
        currentSelection.restore();
      }

      this.nodes.wrapper.classList.remove(this.CSS.wrapperShowed);
      this.nodes.input.value = '';
      this.nodes.selectTarget.value = '';
      this.nodes.selectRel.value = '';

      if (clearSavedSelection) {
        this.selection.clearSaved();
      }

      this.inputOpened = false;
    }
  }, {
    key: "savePressed",
    value: function savePressed(event) {
      event.preventDefault();
      event.stopPropagation();
      event.stopImmediatePropagation();
      var value = this.nodes.input.value || '';
      var target = this.nodes.selectTarget.value || '';
      var rel = this.nodes.selectRel.value || '';

      if (!value.trim()) {
        this.selection.restore();
        this.unlink();
        event.preventDefault();
        this.closeActions();
      } // if (!this.validateURL(value)) {
      //     this.tooltip.show(this.nodes.input, 'Pasted link is not valid.', {
      //         placement: 'top',
      //     });
      //     setTimeout(() => {
      //         this.tooltip.hide();
      //     }, 1000);
      //     return;
      // }


      value = this.prepareLink(value);
      this.selection.restore();
      this.selection.removeFakeBackground();
      this.insertLink(value, target, rel);
      this.selection.collapseToEnd();
      this.inlineToolbar.close();
    }
  }, {
    key: "validateURL",
    value: function validateURL(str) {
      var pattern = new RegExp('^(https?:\\\\/\\\\/)?' + // protocol
      '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|' + // domain name
      '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))' + // OR ip (v4) address
      '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*' + // port and path
      '(\\\\?[;&a-z\\\\d%_.~+=-]*)?' + // query string
      '(\\\\#[-a-z\\\\d_]*)?$', 'i'); // fragment locator

      return !!pattern.test(str);
    }
  }, {
    key: "prepareLink",
    value: function prepareLink(link) {
      link = link.trim();
      link = this.addProtocol(link);
      return link;
    }
  }, {
    key: "addProtocol",
    value: function addProtocol(link) {
      if (/^(\\w+):(\\/\\/)?/.test(link)) {
        return link;
      }

      var isInternal = /^\\/[^/\\s]/.test(link),
          isAnchor = link.substring(0, 1) === '#',
          isProtocolRelative = /^\\/\\/[^/\\s]/.test(link);

      if (!isInternal && !isAnchor && !isProtocolRelative) {
        link = 'http://' + link;
      }

      return link;
    }
  }, {
    key: "insertLink",
    value: function insertLink(link) {
      var target = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
      var rel = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';
      var anchorTag = this.selection.findParentTag('A');

      if (anchorTag) {
        this.selection.expandToTag(anchorTag);
      } else {
        document.execCommand(this.commandLink, false, link);
        anchorTag = this.selection.findParentTag('A');
      }

      if (anchorTag) {
        if (!!target) {
          anchorTag['target'] = target;
        } else {
          anchorTag.removeAttribute('target');
        }

        if (!!rel) {
          anchorTag['rel'] = rel;
        } else {
          anchorTag.removeAttribute('rel');
        }
      }
    }
  }, {
    key: "unlink",
    value: function unlink() {
      document.execCommand(this.commandUnlink);
    }
  }, {
    key: "iconSvg",
    value: function iconSvg(name) {
      var width = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 14;
      var height = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 14;
      var icon = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
      icon.classList.add('icon', 'icon--' + name);
      icon.setAttribute('width', width + 'px');
      icon.setAttribute('height', height + 'px');
      icon.innerHTML = "<use xmlns:xlink=\\"http://www.w3.org/1999/xlink\\" xlink:href=\\"#".concat(name, "\\"></use>");
      return icon;
    }
  }, {
    key: "addOption",
    value: function addOption(element, text) {
      var value = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
      var option = document.createElement('option');
      option.text = text;
      option.value = value;
      element.add(option);
    }
  }, {
    key: "shortcut",
    get: function get() {
      return this.config.shortcut || 'CMD+L';
    }
  }, {
    key: "title",
    get: function get() {
      return 'Hyperlink';
    }
  }], [{
    key: "isInline",
    get: function get() {
      return true;
    }
  }, {
    key: "sanitize",
    get: function get() {
      return {
        a: {
          href: true,
          target: true,
          rel: true
        }
      };
    }
  }]);

  return Hyperlink;
}();



//# sourceURL=webpack://Hyperlink/./src/Hyperlink.js?`)},"./src/SelectionUtils.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return SelectionUtils; });
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var SelectionUtils = /*#__PURE__*/function () {
  function SelectionUtils() {
    _classCallCheck(this, SelectionUtils);

    this.selection = null;
    this.savedSelectionRange = null;
    this.isFakeBackgroundEnabled = false;
    this.commandBackground = 'backColor';
    this.commandRemoveFormat = 'removeFormat';
  }

  _createClass(SelectionUtils, [{
    key: "isElement",
    value: function isElement(node) {
      return node && _typeof(node) === 'object' && node.nodeType && node.nodeType === Node.ELEMENT_NODE;
    }
  }, {
    key: "isContentEditable",
    value: function isContentEditable(element) {
      return element.contentEditable === 'true';
    }
  }, {
    key: "isNativeInput",
    value: function isNativeInput(target) {
      var nativeInputs = ['INPUT', 'TEXTAREA'];
      return target && target.tagName ? nativeInputs.includes(target.tagName) : false;
    }
  }, {
    key: "canSetCaret",
    value: function canSetCaret(target) {
      var result = true;

      if (this.isNativeInput(target)) {
        switch (target.type) {
          case 'file':
          case 'checkbox':
          case 'radio':
          case 'hidden':
          case 'submit':
          case 'button':
          case 'image':
          case 'reset':
            result = false;
            break;

          default:
        }
      } else {
        result = this.isContentEditable(target);
      }

      return result;
    }
  }, {
    key: "CSS",
    value: function CSS() {
      return {
        editorWrapper: 'codex-editor',
        editorZone: 'codex-editor__redactor'
      };
    }
  }, {
    key: "anchorNode",
    value: function anchorNode() {
      var selection = window.getSelection();
      return selection ? selection.anchorNode : null;
    }
  }, {
    key: "anchorElement",
    value: function anchorElement() {
      var selection = window.getSelection();

      if (!selection) {
        return null;
      }

      var anchorNode = selection.anchorNode;

      if (!anchorNode) {
        return null;
      }

      if (!this.isElement(anchorNode)) {
        return anchorNode.parentElement;
      } else {
        return anchorNode;
      }
    }
  }, {
    key: "anchorOffset",
    value: function anchorOffset() {
      var selection = window.getSelection();
      return selection ? selection.anchorOffset : null;
    }
  }, {
    key: "isCollapsed",
    value: function isCollapsed() {
      var selection = window.getSelection();
      return selection ? selection.isCollapsed : null;
    }
  }, {
    key: "isAtEditor",
    value: function isAtEditor() {
      var selection = SelectionUtils.get();
      var selectedNode = selection.anchorNode || selection.focusNode;

      if (selectedNode && selectedNode.nodeType === Node.TEXT_NODE) {
        selectedNode = selectedNode.parentNode;
      }

      var editorZone = null;

      if (selectedNode) {
        editorZone = selectedNode.closest(".".concat(SelectionUtils.CSS.editorZone));
      }

      return editorZone && editorZone.nodeType === Node.ELEMENT_NODE;
    }
  }, {
    key: "isSelectionExists",
    value: function isSelectionExists() {
      var selection = SelectionUtils.get();
      return !!selection.anchorNode;
    }
  }, {
    key: "get",
    value: function get() {
      return window.getSelection();
    }
  }, {
    key: "setCursor",
    value: function setCursor(element) {
      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
      var range = document.createRange();
      var selection = window.getSelection();

      if (this.isNativeInput(element)) {
        if (!this.canSetCaret(element)) {
          return;
        }

        element.focus();
        element.selectionStart = element.selectionEnd = offset;
        return element.getBoundingClientRect();
      }

      range.setStart(element, offset);
      range.setEnd(element, offset);
      selection.removeAllRanges();
      selection.addRange(range);
      return range.getBoundingClientRect();
    }
  }, {
    key: "removeFakeBackground",
    value: function removeFakeBackground() {
      if (!this.isFakeBackgroundEnabled) {
        return;
      }

      this.isFakeBackgroundEnabled = false;
      document.execCommand(this.commandRemoveFormat);
    }
  }, {
    key: "setFakeBackground",
    value: function setFakeBackground() {
      document.execCommand(this.commandBackground, false, '#a8d6ff');
      this.isFakeBackgroundEnabled = true;
    }
  }, {
    key: "save",
    value: function save() {
      this.savedSelectionRange = SelectionUtils.range;
    }
  }, {
    key: "restore",
    value: function restore() {
      if (!this.savedSelectionRange) {
        return;
      }

      var sel = window.getSelection();
      sel.removeAllRanges();
      sel.addRange(this.savedSelectionRange);
    }
  }, {
    key: "clearSaved",
    value: function clearSaved() {
      this.savedSelectionRange = null;
    }
  }, {
    key: "collapseToEnd",
    value: function collapseToEnd() {
      var sel = window.getSelection();
      var range = document.createRange();
      range.selectNodeContents(sel.focusNode);
      range.collapse(false);
      sel.removeAllRanges();
      sel.addRange(range);
    }
  }, {
    key: "findParentTag",
    value: function findParentTag(tagName) {
      var className = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
      var searchDepth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;
      var selection = window.getSelection();
      var parentTag = null;

      if (!selection || !selection.anchorNode || !selection.focusNode) {
        return null;
      }

      var boundNodes = [selection.anchorNode, selection.focusNode];
      boundNodes.forEach(function (parent) {
        var searchDepthIterable = searchDepth;

        while (searchDepthIterable > 0 && parent.parentNode) {
          if (parent.tagName === tagName) {
            parentTag = parent;

            if (className && parent.classList && !parent.classList.contains(className)) {
              parentTag = null;
            }

            if (parentTag) {
              break;
            }
          }

          parent = parent.parentNode;
          searchDepthIterable--;
        }
      });
      return parentTag;
    }
  }, {
    key: "expandToTag",
    value: function expandToTag(element) {
      var selection = window.getSelection();
      selection.removeAllRanges();
      var range = document.createRange();
      range.selectNodeContents(element);
      selection.addRange(range);
    }
  }], [{
    key: "range",
    get: function get() {
      var selection = window.getSelection();
      return selection && selection.rangeCount ? selection.getRangeAt(0) : null;
    }
  }, {
    key: "rect",
    get: function get() {
      var sel = document.selection,
          range;
      var rect = {
        x: 0,
        y: 0,
        width: 0,
        height: 0
      };

      if (sel && sel.type !== 'Control') {
        range = sel.createRange();
        rect.x = range.boundingLeft;
        rect.y = range.boundingTop;
        rect.width = range.boundingWidth;
        rect.height = range.boundingHeight;
        return rect;
      }

      if (!window.getSelection) {
        return rect;
      }

      sel = window.getSelection();

      if (sel.rangeCount === null || isNaN(sel.rangeCount)) {
        return rect;
      }

      if (sel.rangeCount === 0) {
        return rect;
      }

      range = sel.getRangeAt(0).cloneRange();

      if (range.getBoundingClientRect) {
        rect = range.getBoundingClientRect();
      }

      if (rect.x === 0 && rect.y === 0) {
        var span = document.createElement('span');

        if (span.getBoundingClientRect) {
          span.appendChild(document.createTextNode("\\u200B"));
          range.insertNode(span);
          rect = span.getBoundingClientRect();
          var spanParent = span.parentNode;
          spanParent.removeChild(span);
          spanParent.normalize();
        }
      }

      return rect;
    }
  }, {
    key: "text",
    get: function get() {
      return window.getSelection ? window.getSelection().toString() : '';
    }
  }]);

  return SelectionUtils;
}();



//# sourceURL=webpack://Hyperlink/./src/SelectionUtils.js?`)}}).default})})(bundle$1);var bundleExports$1=bundle$1.exports;const Hyperlink=getDefaultExportFromCjs(bundleExports$1);var bundle={exports:{}};(function(c,e){(function(t,i){c.exports=i()})(window,function(){return function(t){var i={};function o(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=i,o.d=function(n,r,l){o.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:l})},o.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.t=function(n,r){if(1&r&&(n=o(n)),8&r||4&r&&typeof n=="object"&&n&&n.__esModule)return n;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:n}),2&r&&typeof n!="string")for(var s in n)o.d(l,s,function(a){return n[a]}.bind(null,s));return l},o.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(r,"a",r),r},o.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},o.p="/",o(o.s=5)}([function(t,i,o){var n=o(1);typeof n=="string"&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};o(3)(n,r),n.locals&&(t.exports=n.locals)},function(t,i,o){(t.exports=o(2)(!1)).push([t.i,`.cdx-marker {
  background: rgba(245,235,111,0.29);
  padding: 3px 0;
}`,""])},function(t,i){t.exports=function(o){var n=[];return n.toString=function(){return this.map(function(r){var l=function(s,a){var h=s[1]||"",u=s[3];if(!u)return h;if(a&&typeof btoa=="function"){var p=(y=u,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(y))))+" */"),A=u.sources.map(function(O){return"/*# sourceURL="+u.sourceRoot+O+" */"});return[h].concat(A).concat([p]).join(`
`)}var y;return[h].join(`
`)}(r,o);return r[2]?"@media "+r[2]+"{"+l+"}":l}).join("")},n.i=function(r,l){typeof r=="string"&&(r=[[null,r,""]]);for(var s={},a=0;a<this.length;a++){var h=this[a][0];typeof h=="number"&&(s[h]=!0)}for(a=0;a<r.length;a++){var u=r[a];typeof u[0]=="number"&&s[u[0]]||(l&&!u[2]?u[2]=l:l&&(u[2]="("+u[2]+") and ("+l+")"),n.push(u))}},n}},function(t,i,o){var n,r,l={},s=(n=function(){return window&&document&&document.all&&!window.atob},function(){return r===void 0&&(r=n.apply(this,arguments)),r}),a=function(g){var v={};return function(M){if(typeof M=="function")return M();if(v[M]===void 0){var E=function(b){return document.querySelector(b)}.call(this,M);if(window.HTMLIFrameElement&&E instanceof window.HTMLIFrameElement)try{E=E.contentDocument.head}catch{E=null}v[M]=E}return v[M]}}(),h=null,u=0,p=[],A=o(4);function y(g,v){for(var M=0;M<g.length;M++){var E=g[M],b=l[E.id];if(b){b.refs++;for(var C=0;C<b.parts.length;C++)b.parts[C](E.parts[C]);for(;C<E.parts.length;C++)b.parts.push(x(E.parts[C],v))}else{var w=[];for(C=0;C<E.parts.length;C++)w.push(x(E.parts[C],v));l[E.id]={id:E.id,refs:1,parts:w}}}}function O(g,v){for(var M=[],E={},b=0;b<g.length;b++){var C=g[b],w=v.base?C[0]+v.base:C[0],f={css:C[1],media:C[2],sourceMap:C[3]};E[w]?E[w].parts.push(f):M.push(E[w]={id:w,parts:[f]})}return M}function R(g,v){var M=a(g.insertInto);if(!M)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var E=p[p.length-1];if(g.insertAt==="top")E?E.nextSibling?M.insertBefore(v,E.nextSibling):M.appendChild(v):M.insertBefore(v,M.firstChild),p.push(v);else if(g.insertAt==="bottom")M.appendChild(v);else{if(typeof g.insertAt!="object"||!g.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var b=a(g.insertInto+" "+g.insertAt.before);M.insertBefore(v,b)}}function I(g){if(g.parentNode===null)return!1;g.parentNode.removeChild(g);var v=p.indexOf(g);v>=0&&p.splice(v,1)}function Q(g){var v=document.createElement("style");return g.attrs.type===void 0&&(g.attrs.type="text/css"),k(v,g.attrs),R(g,v),v}function k(g,v){Object.keys(v).forEach(function(M){g.setAttribute(M,v[M])})}function x(g,v){var M,E,b,C;if(v.transform&&g.css){if(!(C=v.transform(g.css)))return function(){};g.css=C}if(v.singleton){var w=u++;M=h||(h=Q(v)),E=le.bind(null,M,w,!1),b=le.bind(null,M,w,!0)}else g.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(M=function(f){var _=document.createElement("link");return f.attrs.type===void 0&&(f.attrs.type="text/css"),f.attrs.rel="stylesheet",k(_,f.attrs),R(f,_),_}(v),E=function(f,_,H){var W=H.css,Ee=H.sourceMap,Xe=_.convertToAbsoluteUrls===void 0&&Ee;(_.convertToAbsoluteUrls||Xe)&&(W=A(W)),Ee&&(W+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(Ee))))+" */");var It=new Blob([W],{type:"text/css"}),Mt=f.href;f.href=URL.createObjectURL(It),Mt&&URL.revokeObjectURL(Mt)}.bind(null,M,v),b=function(){I(M),M.href&&URL.revokeObjectURL(M.href)}):(M=Q(v),E=function(f,_){var H=_.css,W=_.media;if(W&&f.setAttribute("media",W),f.styleSheet)f.styleSheet.cssText=H;else{for(;f.firstChild;)f.removeChild(f.firstChild);f.appendChild(document.createTextNode(H))}}.bind(null,M),b=function(){I(M)});return E(g),function(f){if(f){if(f.css===g.css&&f.media===g.media&&f.sourceMap===g.sourceMap)return;E(g=f)}else b()}}t.exports=function(g,v){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(v=v||{}).attrs=typeof v.attrs=="object"?v.attrs:{},v.singleton||typeof v.singleton=="boolean"||(v.singleton=s()),v.insertInto||(v.insertInto="head"),v.insertAt||(v.insertAt="bottom");var M=O(g,v);return y(M,v),function(E){for(var b=[],C=0;C<M.length;C++){var w=M[C];(f=l[w.id]).refs--,b.push(f)}for(E&&y(O(E,v),v),C=0;C<b.length;C++){var f;if((f=b[C]).refs===0){for(var _=0;_<f.parts.length;_++)f.parts[_]();delete l[f.id]}}}};var L,N=(L=[],function(g,v){return L[g]=v,L.filter(Boolean).join(`
`)});function le(g,v,M,E){var b=M?"":E.css;if(g.styleSheet)g.styleSheet.cssText=N(v,b);else{var C=document.createTextNode(b),w=g.childNodes;w[v]&&g.removeChild(w[v]),w.length?g.insertBefore(C,w[v]):g.appendChild(C)}}},function(t,i){t.exports=function(o){var n=typeof window<"u"&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var r=n.protocol+"//"+n.host,l=r+n.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(s,a){var h,u=a.trim().replace(/^"(.*)"$/,function(p,A){return A}).replace(/^'(.*)'$/,function(p,A){return A});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(u)?s:(h=u.indexOf("//")===0?u:u.indexOf("/")===0?r+u:l+u.replace(/^\.\//,""),"url("+JSON.stringify(h)+")")})}},function(t,i,o){o.r(i),o(0);function n(s,a){for(var h=0;h<a.length;h++){var u=a[h];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(s,u.key,u)}}function r(s,a,h){return a&&n(s.prototype,a),h&&n(s,h),s}o.d(i,"default",function(){return l});var l=function(){function s(a){var h=a.api;(function(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")})(this,s),this.api=h,this.button=null,this.tag="MARK",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}return r(s,null,[{key:"CSS",get:function(){return"cdx-marker"}}]),r(s,[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(a){if(a){var h=this.api.selection.findParentTag(this.tag,s.CSS);h?this.unwrap(h):this.wrap(a)}}},{key:"wrap",value:function(a){var h=document.createElement(this.tag);h.classList.add(s.CSS),h.appendChild(a.extractContents()),a.insertNode(h),this.api.selection.expandToTag(h)}},{key:"unwrap",value:function(a){this.api.selection.expandToTag(a);var h=window.getSelection(),u=h.getRangeAt(0),p=u.extractContents();a.parentNode.removeChild(a),u.insertNode(p),h.removeAllRanges(),h.addRange(u)}},{key:"checkState",value:function(){var a=this.api.selection.findParentTag(this.tag,s.CSS);this.button.classList.toggle(this.iconClasses.active,!!a)}},{key:"toolboxIcon",get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M11.3536 9.31802L12.7678 7.90381C13.5488 7.12276 14.8151 7.12276 15.5962 7.90381C16.3772 8.68486 16.3772 9.95119 15.5962 10.7322L14.182 12.1464M11.3536 9.31802L7.96729 12.7043C7.40889 13.2627 7.02827 13.9739 6.8734 14.7482L6.69798 15.6253C6.55804 16.325 7.17496 16.942 7.87468 16.802L8.75176 16.6266C9.52612 16.4717 10.2373 16.0911 10.7957 15.5327L14.182 12.1464M11.3536 9.31802L14.182 12.1464"/><line x1="15" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>'}}],[{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{mark:{class:s.CSS}}}}]),s}()}]).default})})(bundle);var bundleExports=bundle.exports;const Marker=getDefaultExportFromCjs(bundleExports);function create_else_block_1(c){let e,t,i,o,n,r;return{c(){e=element("div"),t=element("p"),i=text("🔒"),o=space(),n=element("p"),r=text("You do not have access to this document"),this.h()},l(l){e=claim_element(l,"DIV",{class:!0});var s=children(e);t=claim_element(s,"P",{class:!0});var a=children(t);i=claim_text(a,"🔒"),a.forEach(detach),o=claim_space(s),n=claim_element(s,"P",{class:!0});var h=children(n);r=claim_text(h,"You do not have access to this document"),h.forEach(detach),s.forEach(detach),this.h()},h(){attr(t,"class","text-center text-6xl text-slate-950"),attr(n,"class","text-center text-2xl text-slate-950"),attr(e,"class","flex flex-col justify-center items-center pt-[40vh] gap-20")},m(l,s){insert_hydration(l,e,s),append_hydration(e,t),append_hydration(t,i),append_hydration(e,o),append_hydration(e,n),append_hydration(n,r)},p:noop,d(l){l&&detach(e)}}}function create_if_block_1(c){let e,t,i,o,n,r=c[2].substring(0,10).replaceAll("-","/")+" "+c[2].substring(11,16).replaceAll("-",":"),l,s,a,h,u,p,A,y,O,R,I=c[0]===c[4]&&create_if_block_3(c),Q=c[0]===c[4]&&create_if_block_2();return{c(){e=element("div"),t=element("input"),i=space(),o=element("p"),n=text("Last updated: "),l=text(r),s=space(),a=element("div"),h=element("label"),I&&I.c(),u=space(),p=element("div"),A=space(),Q&&Q.c(),y=empty(),this.h()},l(k){e=claim_element(k,"DIV",{class:!0});var x=children(e);t=claim_element(x,"INPUT",{type:!0,placeholder:!0,class:!0}),i=claim_space(x),o=claim_element(x,"P",{class:!0});var L=children(o);n=claim_text(L,"Last updated: "),l=claim_text(L,r),L.forEach(detach),s=claim_space(x),a=claim_element(x,"DIV",{class:!0});var N=children(a);h=claim_element(N,"LABEL",{class:!0});var le=children(h);I&&I.l(le),le.forEach(detach),N.forEach(detach),x.forEach(detach),u=claim_space(k),p=claim_element(k,"DIV",{id:!0}),children(p).forEach(detach),A=claim_space(k),Q&&Q.l(k),y=empty(),this.h()},h(){attr(t,"type","text"),attr(t,"placeholder","Title"),attr(t,"class","border-none text-4xl font-bold text-center bg-transparent active:border-none mx-auto self-center"),attr(o,"class","text-center text-gray-400 text-sm pr-8"),attr(h,"class","flex items-center"),attr(a,"class","flex flex-row justify-center items-center gap-2"),attr(e,"class","flex flex-row justify-center items-center gap-8 p-2"),attr(p,"id","editor")},m(k,x){insert_hydration(k,e,x),append_hydration(e,t),set_input_value(t,c[1]),append_hydration(e,i),append_hydration(e,o),append_hydration(o,n),append_hydration(o,l),append_hydration(e,s),append_hydration(e,a),append_hydration(a,h),I&&I.m(h,null),insert_hydration(k,u,x),insert_hydration(k,p,x),insert_hydration(k,A,x),Q&&Q.m(k,x),insert_hydration(k,y,x),O||(R=listen(t,"input",c[7]),O=!0)},p(k,x){x&2&&t.value!==k[1]&&set_input_value(t,k[1]),x&4&&r!==(r=k[2].substring(0,10).replaceAll("-","/")+" "+k[2].substring(11,16).replaceAll("-",":"))&&set_data(l,r),k[0]===k[4]?I?I.p(k,x):(I=create_if_block_3(k),I.c(),I.m(h,null)):I&&(I.d(1),I=null),k[0]===k[4]?Q||(Q=create_if_block_2(),Q.c(),Q.m(y.parentNode,y)):Q&&(Q.d(1),Q=null)},d(k){k&&detach(e),I&&I.d(),k&&detach(u),k&&detach(p),k&&detach(A),Q&&Q.d(k),k&&detach(y),O=!1,R()}}}function create_if_block(c){let e,t,i,o,n;return{c(){e=element("div"),t=element("p"),i=text("🌐"),o=space(),n=element("span"),this.h()},l(r){e=claim_element(r,"DIV",{class:!0});var l=children(e);t=claim_element(l,"P",{class:!0});var s=children(t);i=claim_text(s,"🌐"),s.forEach(detach),o=claim_space(l),n=claim_element(l,"SPAN",{class:!0}),children(n).forEach(detach),l.forEach(detach),this.h()},h(){attr(t,"class","text-center text-6xl text-slate-950"),attr(n,"class","loading loading-infinity loading-lg text-black"),attr(e,"class","flex flex-col justify-center items-center pt-[40vh] gap-20")},m(r,l){insert_hydration(r,e,l),append_hydration(e,t),append_hydration(t,i),append_hydration(e,o),append_hydration(e,n)},p:noop,d(r){r&&detach(e)}}}function create_if_block_3(c){let e,t,i,o,n;function r(a,h){return a[3]?create_if_block_4:create_else_block}let l=r(c),s=l(c);return{c(){e=element("input"),t=space(),s.c(),i=empty(),this.h()},l(a){e=claim_element(a,"INPUT",{type:!0,class:!0}),t=claim_space(a),s.l(a),i=empty(),this.h()},h(){attr(e,"type","checkbox"),attr(e,"class","form-checkbox")},m(a,h){insert_hydration(a,e,h),e.checked=c[3],insert_hydration(a,t,h),s.m(a,h),insert_hydration(a,i,h),o||(n=[listen(e,"change",c[8]),listen(e,"change",c[5])],o=!0)},p(a,h){h&8&&(e.checked=a[3]),l!==(l=r(a))&&(s.d(1),s=l(a),s&&(s.c(),s.m(i.parentNode,i)))},d(a){a&&detach(e),a&&detach(t),s.d(a),a&&detach(i),o=!1,run_all(n)}}}function create_else_block(c){let e,t;return{c(){e=element("span"),t=text("Private"),this.h()},l(i){e=claim_element(i,"SPAN",{class:!0});var o=children(e);t=claim_text(o,"Private"),o.forEach(detach),this.h()},h(){attr(e,"class","ml-2")},m(i,o){insert_hydration(i,e,o),append_hydration(e,t)},d(i){i&&detach(e)}}}function create_if_block_4(c){let e,t;return{c(){e=element("span"),t=text("Public"),this.h()},l(i){e=claim_element(i,"SPAN",{class:!0});var o=children(e);t=claim_text(o,"Public"),o.forEach(detach),this.h()},h(){attr(e,"class","ml-2")},m(i,o){insert_hydration(i,e,o),append_hydration(e,t)},d(i){i&&detach(e)}}}function create_if_block_2(c){let e,t;return{c(){e=element("button"),t=text("Save"),this.h()},l(i){e=claim_element(i,"BUTTON",{id:!0});var o=children(e);t=claim_text(o,"Save"),o.forEach(detach),this.h()},h(){attr(e,"id","save")},m(i,o){insert_hydration(i,e,o),append_hydration(e,t)},d(i){i&&detach(e)}}}function create_fragment(c){let e,t,i,o;function n(s,a){return s[3]==null?create_if_block:s[3]==!0||s[0]===s[4]?create_if_block_1:create_else_block_1}let r=n(c),l=r(c);return{c(){e=element("main"),l.c(),t=space(),i=element("style"),o=text(`.editor {
        width: 100%;
        height: 100vh;
        padding: 2rem;
    }

    h1 {
        font-size: 2rem;
    }
    h2 {
        font-size: 1.5rem;
    }
    h3 {
        font-size: 1.17rem;
    }
    h4 {
        font-size: 1rem;
    }
    h5 {
        font-size: .83rem;
    }
    h6 {
        font-size: .67rem;
    }

    /* center the button */
    button {
        display: block;
        margin: 0 auto;
    }

    /*  remove border from input */
    input {
        border: none;
        outline: none;
        /* center the input */
        display: block;
        margin: 0 auto;
        padding-top: 1rem;
    }
    /*  make the table bolder */
    table {
        border: 1px solid black;
    }`)},l(s){e=claim_element(s,"MAIN",{});var a=children(e);l.l(a),t=claim_space(a),i=claim_element(a,"STYLE",{});var h=children(i);o=claim_text(h,`.editor {
        width: 100%;
        height: 100vh;
        padding: 2rem;
    }

    h1 {
        font-size: 2rem;
    }
    h2 {
        font-size: 1.5rem;
    }
    h3 {
        font-size: 1.17rem;
    }
    h4 {
        font-size: 1rem;
    }
    h5 {
        font-size: .83rem;
    }
    h6 {
        font-size: .67rem;
    }

    /* center the button */
    button {
        display: block;
        margin: 0 auto;
    }

    /*  remove border from input */
    input {
        border: none;
        outline: none;
        /* center the input */
        display: block;
        margin: 0 auto;
        padding-top: 1rem;
    }
    /*  make the table bolder */
    table {
        border: 1px solid black;
    }`),h.forEach(detach),a.forEach(detach)},m(s,a){insert_hydration(s,e,a),l.m(e,null),append_hydration(e,t),append_hydration(e,i),append_hydration(i,o)},p(s,[a]){r===(r=n(s))&&l?l.p(s,a):(l.d(1),l=r(s),l&&(l.c(),l.m(e,t)))},i:noop,o:noop,d(s){s&&detach(e),l.d()}}}let databaseId="648bc6ddddf63e135f4d",collectionId="648bc7024074897c154d";function instance(c,e,t){let{pid:i=""}=e,{user:o=""}=e,n="",r="",l="",s=null,a="",h;appwriteDatabases.getDocument(databaseId,collectionId,i).then(y=>{console.log(y),y.Content!==" "||y!==null||y!==void 0?(r=y.Content,t(1,n=y.Name),t(2,l=y.LastUpdated),t(3,s=y.IsPublic),t(4,a=y.AuthorUid),console.log("The document is not empty"+r),r===" "&&(r=JSON.stringify(h.save()))):(r=h.save(),console.log("The document is empty"+r)),h=new fi({holder:"editor",placeholder:"Start writing your article... Press tab to see the toolbar",tools:{header:Header,list:List,quote:Quote,embed:Embed,link:Link,table:Table,inlineCode:InlineCode,warning:Warning,paragraph:{class:Paragraph,inlineToolbar:!0},toggleBlock:{class:ToggleBlock,inlineToolbar:!0},hyperlink:{class:Hyperlink,inlineToolbar:!0},marker:{class:Marker,inlineToolbar:!0,shortcut:"CMD+SHIFT+M"}},data:JSON.parse(r)}),document.getElementById("save").onclick=function(){h.save().then(R=>{console.log("Article data: ",R),appwriteDatabases.updateDocument(databaseId,collectionId,i,{Content:JSON.stringify(R),Name:n,LastUpdated:new Date().toISOString(),IsPublic:s}).then(I=>{console.log(I)},I=>{console.log(I)})}).catch(R=>{console.log("Saving failed: ",R)})}},y=>{console.log(y)});function u(){h.save().then(y=>{console.log("Article data: ",y),appwriteDatabases.updateDocument(databaseId,collectionId,i,{Content:JSON.stringify(y),Name:n,LastUpdated:new Date().toISOString(),IsPublic:s}).then(O=>{console.log(O)},O=>{console.log(O)})}).catch(y=>{console.log("Saving failed: ",y)})}setInterval(u,5e3),window.onbeforeunload=function(){u()};function p(){n=this.value,t(1,n)}function A(){s=this.checked,t(3,s)}return c.$$set=y=>{"pid"in y&&t(6,i=y.pid),"user"in y&&t(0,o=y.user)},[o,n,l,s,a,u,i,p,A]}class Editor extends SvelteComponent{constructor(e){super(),init(this,e,instance,create_fragment,safe_not_equal,{pid:6,user:0})}}export{Editor as default};
